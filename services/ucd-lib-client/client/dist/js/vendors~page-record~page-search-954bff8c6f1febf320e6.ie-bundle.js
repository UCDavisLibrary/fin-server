(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{183:function(n,e,t){"use strict";var r,i,a=(r=['\n<dom-module id="paper-icon-button">\n  <template strip-whitespace>\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /* NOTE: Both values are needed, since some phones require the value to be `transparent`. */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon>\n  </template>\n</dom-module>\n'],i=['\n<dom-module id="paper-icon-button">\n  <template strip-whitespace>\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /* NOTE: Both values are needed, since some phones require the value to be \\`transparent\\`. */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt\\$="[[alt]]"></iron-icon>\n  </template>\n</dom-module>\n'],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})));t(1),t(20),t(62);var o=t(184),l=t(7);
/**
                                                                                                                                                  @license
                                                                                                                                                  Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
                                                                                                                                                  This code may only be used under the BSD style license found at
                                                                                                                                                  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
                                                                                                                                                  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
                                                                                                                                                  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
                                                                                                                                                  part of the polymer project is also subject to an additional IP rights grant
                                                                                                                                                  found at http://polymer.github.io/PATENTS.txt
                                                                                                                                                  */
var s=(0,t(3).html)(a);s.setAttribute("style","display: none;"),document.body.appendChild(s.content),(0,l.Polymer)({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[o.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(n,e){var t=this.getAttribute("aria-label");t&&e!=t||this.setAttribute("aria-label",n)}})},184:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PaperInkyFocusBehavior=e.PaperInkyFocusBehaviorImpl=void 0,t(1);var r=t(43),i=t(41),a=t(63),o=e.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(n){n&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=n)},_createRipple:function(){var n=a.PaperRippleBehavior._createRipple();return n.id="ink",n.setAttribute("center",""),n.classList.add("circle"),n}};e.PaperInkyFocusBehavior=[r.IronButtonState,i.IronControlState,a.PaperRippleBehavior,o]},185:function(n,e,t){"use strict";var r,i,a=(r=['\n  <style include="paper-spinner-styles"></style>\n\n  <div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset">\n    <div class="spinner-layer">\n      <div class="circle-clipper left"></div>\n      <div class="circle-clipper right"></div>\n    </div>\n  </div>\n'],i=['\n  <style include="paper-spinner-styles"></style>\n\n  <div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset">\n    <div class="spinner-layer">\n      <div class="circle-clipper left"></div>\n      <div class="circle-clipper right"></div>\n    </div>\n  </div>\n'],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})));t(1),t(68),t(225);var o=t(7),l=t(3),s=t(226);
/**
                                                                                                                                                  @license
                                                                                                                                                  Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
                                                                                                                                                  This code may only be used under the BSD style license found at
                                                                                                                                                  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
                                                                                                                                                  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
                                                                                                                                                  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
                                                                                                                                                  part of the polymer project is also subject to an additional IP rights grant
                                                                                                                                                  found at http://polymer.github.io/PATENTS.txt
                                                                                                                                                  */
var c=(0,l.html)(a);c.setAttribute("strip-whitespace",""),(0,o.Polymer)({_template:c,is:"paper-spinner-lite",behaviors:[s.PaperSpinnerBehavior]})},201:function(n,e,t){"use strict";e.markdown=t(260),e.parse=e.markdown.toHTML},202:function(n,e,t){"use strict";var r;"function"==typeof Symbol&&Symbol.iterator;!function(i){if("function"!=typeof a){var a=function(n){return n};a.nonNative=!0}var o=a("plaintext"),l=a("html"),s=a("comment"),c=/<(\w*)>/g,p=/<\/?([^\s\/>]+)/;function u(n,e,t){return f(n=n||"",h(e=e||[],t=t||""))}function h(n,e){return{allowable_tags:n=function(n){var e=new Set;if("string"==typeof n)for(var t=void 0;t=c.exec(n);)e.add(t[1]);else a.nonNative||"function"!=typeof n[a.iterator]?"function"==typeof n.forEach&&n.forEach(e.add,e):e=new Set(n);return e}(n),tag_replacement:e,state:o,tag_buffer:"",depth:0,in_quote_char:""}}function f(n,e){for(var t=e.allowable_tags,r=e.tag_replacement,i=e.state,a=e.tag_buffer,c=e.depth,p=e.in_quote_char,u="",h=0,f=n.length;h<f;h++){var g=n[h];if(i===o)switch(g){case"<":i=l,a+=g;break;default:u+=g}else if(i===l)switch(g){case"<":if(p)break;c++;break;case">":if(p)break;if(c){c--;break}p="",i=o,a+=">",t.has(d(a))?u+=a:u+=r,a="";break;case'"':case"'":p=g===p?"":p||g,a+=g;break;case"-":"<!-"===a&&(i=s),a+=g;break;case" ":case"\n":if("<"===a){i=o,u+="< ",a="";break}a+=g;break;default:a+=g}else if(i===s)switch(g){case">":"--"==a.slice(-2)&&(i=o),a="";break;default:a+=g}}return e.state=i,e.tag_buffer=a,e.depth=c,e.in_quote_char=p,u}function d(n){var e=p.exec(n);return e?e[1].toLowerCase():null}u.init_streaming_mode=function(n,e){var t=h(n=n||[],e=e||"");return function(n){return f(n||"",t)}},void 0===(r=function(){return u}.call(e,t,e,n))||(n.exports=r)}()},225:function(n,e,t){"use strict";
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var r=document.createElement("template");r.setAttribute("style","display: none;"),r.innerHTML="<dom-module id=\"paper-spinner-styles\">\n  <template>\n    <style>\n      /*\n      /**************************/\n      /* STYLES FOR THE SPINNER */\n      /**************************/\n\n      /*\n       * Constants:\n       *      ARCSIZE     = 270 degrees (amount of circle the arc takes up)\n       *      ARCTIME     = 1333ms (time it takes to expand and contract arc)\n       *      ARCSTARTROT = 216 degrees (how much the start location of the arc\n       *                                should rotate each time, 216 gives us a\n       *                                5 pointed star shape (it's 360/5 * 3).\n       *                                For a 7 pointed star, we might do\n       *                                360/7 * 3 = 154.286)\n       *      SHRINK_TIME = 400ms\n       */\n\n      :host {\n        display: inline-block;\n        position: relative;\n        width: 28px;\n        height: 28px;\n\n        /* 360 * ARCTIME / (ARCSTARTROT + (360-ARCSIZE)) */\n        --paper-spinner-container-rotation-duration: 1568ms;\n\n        /* ARCTIME */\n        --paper-spinner-expand-contract-duration: 1333ms;\n\n        /* 4 * ARCTIME */\n        --paper-spinner-full-cycle-duration: 5332ms;\n\n        /* SHRINK_TIME */\n        --paper-spinner-cooldown-duration: 400ms;\n      }\n\n      #spinnerContainer {\n        width: 100%;\n        height: 100%;\n\n        /* The spinner does not have any contents that would have to be\n         * flipped if the direction changes. Always use ltr so that the\n         * style works out correctly in both cases. */\n        direction: ltr;\n      }\n\n      #spinnerContainer.active {\n        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;\n        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;\n      }\n\n      @-webkit-keyframes container-rotate {\n        to { -webkit-transform: rotate(360deg) }\n      }\n\n      @keyframes container-rotate {\n        to { transform: rotate(360deg) }\n      }\n\n      .spinner-layer {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        white-space: nowrap;\n        color: var(--paper-spinner-color, var(--google-blue-500));\n      }\n\n      .layer-1 {\n        color: var(--paper-spinner-layer-1-color, var(--google-blue-500));\n      }\n\n      .layer-2 {\n        color: var(--paper-spinner-layer-2-color, var(--google-red-500));\n      }\n\n      .layer-3 {\n        color: var(--paper-spinner-layer-3-color, var(--google-yellow-500));\n      }\n\n      .layer-4 {\n        color: var(--paper-spinner-layer-4-color, var(--google-green-500));\n      }\n\n      /**\n       * IMPORTANT NOTE ABOUT CSS ANIMATION PROPERTIES (keanulee):\n       *\n       * iOS Safari (tested on iOS 8.1) does not handle animation-delay very well - it doesn't\n       * guarantee that the animation will start _exactly_ after that value. So we avoid using\n       * animation-delay and instead set custom keyframes for each color (as layer-2undant as it\n       * seems).\n       */\n      .active .spinner-layer {\n        -webkit-animation-name: fill-unfill-rotate;\n        -webkit-animation-duration: var(--paper-spinner-full-cycle-duration);\n        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        -webkit-animation-iteration-count: infinite;\n        animation-name: fill-unfill-rotate;\n        animation-duration: var(--paper-spinner-full-cycle-duration);\n        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        animation-iteration-count: infinite;\n        opacity: 1;\n      }\n\n      .active .spinner-layer.layer-1 {\n        -webkit-animation-name: fill-unfill-rotate, layer-1-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-1-fade-in-out;\n      }\n\n      .active .spinner-layer.layer-2 {\n        -webkit-animation-name: fill-unfill-rotate, layer-2-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-2-fade-in-out;\n      }\n\n      .active .spinner-layer.layer-3 {\n        -webkit-animation-name: fill-unfill-rotate, layer-3-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-3-fade-in-out;\n      }\n\n      .active .spinner-layer.layer-4 {\n        -webkit-animation-name: fill-unfill-rotate, layer-4-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-4-fade-in-out;\n      }\n\n      @-webkit-keyframes fill-unfill-rotate {\n        12.5% { -webkit-transform: rotate(135deg) } /* 0.5 * ARCSIZE */\n        25%   { -webkit-transform: rotate(270deg) } /* 1   * ARCSIZE */\n        37.5% { -webkit-transform: rotate(405deg) } /* 1.5 * ARCSIZE */\n        50%   { -webkit-transform: rotate(540deg) } /* 2   * ARCSIZE */\n        62.5% { -webkit-transform: rotate(675deg) } /* 2.5 * ARCSIZE */\n        75%   { -webkit-transform: rotate(810deg) } /* 3   * ARCSIZE */\n        87.5% { -webkit-transform: rotate(945deg) } /* 3.5 * ARCSIZE */\n        to    { -webkit-transform: rotate(1080deg) } /* 4   * ARCSIZE */\n      }\n\n      @keyframes fill-unfill-rotate {\n        12.5% { transform: rotate(135deg) } /* 0.5 * ARCSIZE */\n        25%   { transform: rotate(270deg) } /* 1   * ARCSIZE */\n        37.5% { transform: rotate(405deg) } /* 1.5 * ARCSIZE */\n        50%   { transform: rotate(540deg) } /* 2   * ARCSIZE */\n        62.5% { transform: rotate(675deg) } /* 2.5 * ARCSIZE */\n        75%   { transform: rotate(810deg) } /* 3   * ARCSIZE */\n        87.5% { transform: rotate(945deg) } /* 3.5 * ARCSIZE */\n        to    { transform: rotate(1080deg) } /* 4   * ARCSIZE */\n      }\n\n      @-webkit-keyframes layer-1-fade-in-out {\n        0% { opacity: 1 }\n        25% { opacity: 1 }\n        26% { opacity: 0 }\n        89% { opacity: 0 }\n        90% { opacity: 1 }\n        to { opacity: 1 }\n      }\n\n      @keyframes layer-1-fade-in-out {\n        0% { opacity: 1 }\n        25% { opacity: 1 }\n        26% { opacity: 0 }\n        89% { opacity: 0 }\n        90% { opacity: 1 }\n        to { opacity: 1 }\n      }\n\n      @-webkit-keyframes layer-2-fade-in-out {\n        0% { opacity: 0 }\n        15% { opacity: 0 }\n        25% { opacity: 1 }\n        50% { opacity: 1 }\n        51% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @keyframes layer-2-fade-in-out {\n        0% { opacity: 0 }\n        15% { opacity: 0 }\n        25% { opacity: 1 }\n        50% { opacity: 1 }\n        51% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @-webkit-keyframes layer-3-fade-in-out {\n        0% { opacity: 0 }\n        40% { opacity: 0 }\n        50% { opacity: 1 }\n        75% { opacity: 1 }\n        76% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @keyframes layer-3-fade-in-out {\n        0% { opacity: 0 }\n        40% { opacity: 0 }\n        50% { opacity: 1 }\n        75% { opacity: 1 }\n        76% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @-webkit-keyframes layer-4-fade-in-out {\n        0% { opacity: 0 }\n        65% { opacity: 0 }\n        75% { opacity: 1 }\n        90% { opacity: 1 }\n        to { opacity: 0 }\n      }\n\n      @keyframes layer-4-fade-in-out {\n        0% { opacity: 0 }\n        65% { opacity: 0 }\n        75% { opacity: 1 }\n        90% { opacity: 1 }\n        to { opacity: 0 }\n      }\n\n      .circle-clipper {\n        display: inline-block;\n        position: relative;\n        width: 50%;\n        height: 100%;\n        overflow: hidden;\n      }\n\n      /**\n       * Patch the gap that appear between the two adjacent div.circle-clipper while the\n       * spinner is rotating (appears on Chrome 50, Safari 9.1.1, and Edge).\n       */\n      .spinner-layer::after {\n        left: 45%;\n        width: 10%;\n        border-top-style: solid;\n      }\n\n      .spinner-layer::after,\n      .circle-clipper::after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 0;\n        border-width: var(--paper-spinner-stroke-width, 3px);\n        border-radius: 50%;\n      }\n\n      .circle-clipper::after {\n        bottom: 0;\n        width: 200%;\n        border-style: solid;\n        border-bottom-color: transparent !important;\n      }\n\n      .circle-clipper.left::after {\n        left: 0;\n        border-right-color: transparent !important;\n        -webkit-transform: rotate(129deg);\n        transform: rotate(129deg);\n      }\n\n      .circle-clipper.right::after {\n        left: -100%;\n        border-left-color: transparent !important;\n        -webkit-transform: rotate(-129deg);\n        transform: rotate(-129deg);\n      }\n\n      .active .gap-patch::after,\n      .active .circle-clipper::after {\n        -webkit-animation-duration: var(--paper-spinner-expand-contract-duration);\n        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        -webkit-animation-iteration-count: infinite;\n        animation-duration: var(--paper-spinner-expand-contract-duration);\n        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        animation-iteration-count: infinite;\n      }\n\n      .active .circle-clipper.left::after {\n        -webkit-animation-name: left-spin;\n        animation-name: left-spin;\n      }\n\n      .active .circle-clipper.right::after {\n        -webkit-animation-name: right-spin;\n        animation-name: right-spin;\n      }\n\n      @-webkit-keyframes left-spin {\n        0% { -webkit-transform: rotate(130deg) }\n        50% { -webkit-transform: rotate(-5deg) }\n        to { -webkit-transform: rotate(130deg) }\n      }\n\n      @keyframes left-spin {\n        0% { transform: rotate(130deg) }\n        50% { transform: rotate(-5deg) }\n        to { transform: rotate(130deg) }\n      }\n\n      @-webkit-keyframes right-spin {\n        0% { -webkit-transform: rotate(-130deg) }\n        50% { -webkit-transform: rotate(5deg) }\n        to { -webkit-transform: rotate(-130deg) }\n      }\n\n      @keyframes right-spin {\n        0% { transform: rotate(-130deg) }\n        50% { transform: rotate(5deg) }\n        to { transform: rotate(-130deg) }\n      }\n\n      #spinnerContainer.cooldown {\n        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);\n        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);\n      }\n\n      @-webkit-keyframes fade-out {\n        0% { opacity: 1 }\n        to { opacity: 0 }\n      }\n\n      @keyframes fade-out {\n        0% { opacity: 1 }\n        to { opacity: 0 }\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(r.content)},226:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PaperSpinnerBehavior=void 0,t(1);e.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(n,e){return[n||e?"active":"",e?"cooldown":""].join(" ")},__activeChanged:function(n,e){this.__setAriaHidden(!n),this.__coolingDown=!n&&e},__altChanged:function(n){"loading"===n?this.alt=this.getAttribute("aria-label")||n:(this.__setAriaHidden(""===n),this.setAttribute("aria-label",n))},__setAriaHidden:function(n){n?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.active=!1,this.__coolingDown=!1}};
/**
   @license
   Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
   This code may only be used under the BSD style license found at
   http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
   http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
   found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
   part of the polymer project is also subject to an additional IP rights grant
   found at http://polymer.github.io/PATENTS.txt
   */},260:function(n,e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(n){var e=n.Markdown=function(n){switch(void 0===n?"undefined":r(n)){case"undefined":this.dialect=e.dialects.Gruber;break;case"object":this.dialect=n;break;default:if(!(n in e.dialects))throw new Error("Unknown Markdown dialect '"+String(n)+"'");this.dialect=e.dialects[n]}this.em_state=[],this.strong_state=[],this.debug_indent=""};function i(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function o(){var n=t(78);return"Markdown.mk_block( "+n.inspect(this.toString())+", "+n.inspect(this.trailing)+", "+n.inspect(this.lineNumber)+" )"}n.parse=function(n,t){return new e(t).toTree(n)},n.toHTML=function(e,t,r){var i=n.toHTMLTree(e,t,r);return n.renderJsonML(i)},n.toHTMLTree=function(n,e,t){"string"==typeof n&&(n=this.parse(n,e));var r=d(n),i={};r&&r.references&&(i=r.references);var a=function n(e,t,r){var i;r=r||{};var a=e.slice(0);"function"==typeof r.preprocessTreeNode&&(a=r.preprocessTreeNode(a,t));var o=d(a);if(o){for(i in a[1]={},o)a[1][i]=o[i];o=a[1]}if("string"==typeof a)return a;switch(a[0]){case"header":a[0]="h"+a[1].level,delete a[1].level;break;case"bulletlist":a[0]="ul";break;case"numberlist":a[0]="ol";break;case"listitem":a[0]="li";break;case"para":a[0]="p";break;case"markdown":a[0]="html",o&&delete o.references;break;case"code_block":a[0]="pre",i=o?2:1;var l=["code"];l.push.apply(l,a.splice(i,a.length-i)),a[i]=l;break;case"inlinecode":a[0]="code";break;case"img":a[1].src=a[1].href,delete a[1].href;break;case"linebreak":a[0]="br";break;case"link":a[0]="a";break;case"link_ref":if(a[0]="a",!(s=t[o.ref]))return o.original;delete o.ref,o.href=s.href,s.title&&(o.title=s.title),delete o.original;break;case"img_ref":var s;if(a[0]="img",!(s=t[o.ref]))return o.original;delete o.ref,o.src=s.href,s.title&&(o.title=s.title),delete o.original}if(i=1,o){for(var c in a[1]){i=2;break}1===i&&a.splice(i,1)}for(;i<a.length;++i)a[i]=n(a[i],t,r);return a}(n,i,t);return function n(e){var t=d(e)?2:1;for(;t<e.length;)"string"==typeof e[t]?t+1<e.length&&"string"==typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(n(e[t]),++t)}(a),a};var l=e.mk_block=function(n,e,t){1==arguments.length&&(e="\n\n");var r=new String(n);return r.trailing=e,r.inspect=o,r.toSource=i,null!=t&&(r.lineNumber=t),r};function s(n){for(var e=0,t=-1;-1!==(t=n.indexOf("\n",t+1));)e++;return e}function c(n,e){var t=n+"_state",r="strong"==n?"em_state":"strong_state";function i(n){this.len_after=n,this.name="close_"+e}return function(a,o){if(this[t][0]==e)return this[t].shift(),[a.length,new i(a.length-e.length)];var l=this[r].slice(),s=this[t].slice();this[t].unshift(e);var c=this.processInline(a.substr(e.length)),p=c[c.length-1];this[t].shift();return p instanceof i?(c.pop(),[a.length-p.len_after,[n].concat(c)]):(this[r]=l,this[t]=s,[e.length,e])}}e.prototype.split_blocks=function(n,e){n=n.replace(/(\r\n|\n|\r)/g,"\n");var t,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,i=[],a=1;for(null!=(t=/^(\s*\n)/.exec(n))&&(a+=s(t[0]),r.lastIndex=t[0].length);null!==(t=r.exec(n));)"\n#"==t[2]&&(t[2]="\n",r.lastIndex--),i.push(l(t[1],t[2],a)),a+=s(t[0]);return i},e.prototype.processBlock=function(n,e){var t=this.dialect.block,r=t.__order__;if("__call__"in t)return t.__call__.call(this,n,e);for(var i=0;i<r.length;i++){var a=t[r[i]].call(this,n,e);if(a)return(!h(a)||a.length>0&&!h(a[0]))&&this.debug(r[i],"didn't return a proper array"),a}return[]},e.prototype.processInline=function(n){return this.dialect.inline.__call__.call(this,String(n))},e.prototype.toTree=function(n,e){var t=n instanceof Array?n:this.split_blocks(n),r=this.tree;try{for(this.tree=e||this.tree||["markdown"];t.length;){var i=this.processBlock(t.shift(),t);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{e&&(this.tree=r)}},e.prototype.debug=function(){var n=Array.prototype.slice.call(arguments);n.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,n),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,n)},e.prototype.loop_re_over_block=function(n,e,t){for(var r,i=e.valueOf();i.length&&null!=(r=n.exec(i));)i=i.substr(r[0].length),t.call(this,r);return i},e.dialects={},e.dialects.Gruber={block:{atxHeader:function(n,e){var t=n.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(t){var r=["header",{level:t[1].length}];return Array.prototype.push.apply(r,this.processInline(t[2])),t[0].length<n.length&&e.unshift(l(n.substr(t[0].length),n.trailing,n.lineNumber+2)),[r]}},setextHeader:function(n,e){var t=n.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(t){var r=["header",{level:"="===t[2]?1:2},t[1]];return t[0].length<n.length&&e.unshift(l(n.substr(t[0].length),n.trailing,n.lineNumber+2)),[r]}},code:function(n,e){var t=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(n.match(r)){n:for(;;){var i=this.loop_re_over_block(r,n.valueOf(),(function(n){t.push(n[1])}));if(i.length){e.unshift(l(i,n.trailing));break n}if(!e.length)break n;if(!e[0].match(r))break n;t.push(n.trailing.replace(/[^\n]/g,"").substring(2)),n=e.shift()}return[["code_block",t.join("\n")]]}},horizRule:function(n,e){var t=n.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(t){var r=[["hr"]];return t[1]&&r.unshift.apply(r,this.processBlock(t[1],[])),t[3]&&e.unshift(l(t[3])),r}},lists:function(){var n="[*+-]|\\d+\\.",e=/[*+-]/,t=new RegExp("^( {0,3})("+n+")[ \t]+"),r="(?: {0,3}\\t| {4})";function i(n,e,t,r){if(e)n.push(["para"].concat(t));else{var i=n[n.length-1]instanceof Array&&"para"==n[n.length-1][0]?n[n.length-1]:n;r&&n.length>1&&t.unshift(r);for(var a=0;a<t.length;a++){var o=t[a];"string"==typeof o&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=o:i.push(o)}}}function a(n,e){for(var t=new RegExp("^("+r+"{"+n+"}.*?\\n?)*$"),i=new RegExp("^"+r+"{"+n+"}","gm"),a=[];e.length>0&&t.exec(e[0]);){var o=e.shift(),s=o.replace(i,"");a.push(l(s,o.trailing,o.lineNumber))}return a}function o(n,e,t){var r=n.list,i=r[r.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(e+1==t.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var a=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),a)}}return function(l,s){var c=l.match(t);if(c){for(var p,h,f,d=[],g=E(c),b=!1,m=[d[0].list];;){for(var v=l.split(/(?=\n)/),y="",_=0;_<v.length;_++){var k="",w=v[_].replace(/^\n/,(function(n){return k=n,""})),S=(f=d.length,new RegExp("(?:^("+r+"{0,"+f+"} {0,3})("+n+")\\s+)|(^"+r+"{0,"+(f-1)+"}[ ]{0,4})"));if(void 0!==(c=w.match(S))[1]){y.length&&(i(p,b,this.processInline(y),k),b=!1,y=""),c[1]=c[1].replace(/ {0,3}\t/g,"    ");var A=Math.floor(c[1].length/4)+1;if(A>d.length)g=E(c),p.push(g),p=g[1]=["listitem"];else{var C=!1;for(h=0;h<d.length;h++)if(d[h].indent==c[1]){g=d[h].list,d.splice(h+1,d.length-(h+1)),C=!0;break}C||(++A<=d.length?(d.splice(A,d.length-A),g=d[A-1].list):(g=E(c),p.push(g))),p=["listitem"],g.push(p)}k=""}w.length>c[0].length&&(y+=k+w.substr(c[0].length))}y.length&&(i(p,b,this.processInline(y),k),b=!1,y="");var I=a(d.length,s);I.length>0&&(u(d,o,this),p.push.apply(p,this.toTree(I,[])));var x=s[0]&&s[0].valueOf()||"";if(!x.match(t)&&!x.match(/^ /))break;l=s.shift();var R=this.dialect.block.horizRule(l,s);if(R){m.push.apply(m,R);break}u(d,o,this),b=!0}return m}function E(n){var t=e.exec(n[2])?["bulletlist"]:["numberlist"];return d.push({list:t,indent:n[1]}),t}}}(),blockquote:function(n,e){if(n.match(/^>/m)){var t=[];if(">"!=n[0]){for(var r=n.split(/\n/),i=[],a=n.lineNumber;r.length&&">"!=r[0][0];)i.push(r.shift()),a++;var o=l(i.join("\n"),"\n",n.lineNumber);t.push.apply(t,this.processBlock(o,[])),n=l(r.join("\n"),n.trailing,a)}for(;e.length&&">"==e[0][0];){var s=e.shift();n=l(n+n.trailing+s,s.trailing,n.lineNumber)}var c=n.replace(/^> ?/gm,""),p=(this.tree,this.toTree(c,["blockquote"])),u=d(p);return u&&u.references&&(delete u.references,f(u)&&p.splice(1,1)),t.push(p),t}},referenceDefn:function(n,e){var t=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(n.match(t)){d(this.tree)||this.tree.splice(1,0,{});var r=d(this.tree);void 0===r.references&&(r.references={});var i=this.loop_re_over_block(t,n,(function(n){n[2]&&"<"==n[2][0]&&">"==n[2][n[2].length-1]&&(n[2]=n[2].substring(1,n[2].length-1));var e=r.references[n[1].toLowerCase()]={href:n[2]};void 0!==n[4]?e.title=n[4]:void 0!==n[5]&&(e.title=n[5])}));return i.length&&e.unshift(l(i,n.trailing)),[]}},para:function(n,e){return[["para"].concat(this.processInline(n))]}}},e.dialects.Gruber.inline={__oneElement__:function(n,e,t){var r,i;return e=e||this.dialect.inline.__patterns__,(r=new RegExp("([\\s\\S]*?)("+(e.source||e)+")").exec(n))?r[1]?[r[1].length,r[1]]:(r[2]in this.dialect.inline&&(i=this.dialect.inline[r[2]].call(this,n.substr(r.index),r,t||[])),i=i||[r[2].length,r[2]]):[n.length,n]},__call__:function(n,e){var t,r=[];function i(n){"string"==typeof n&&"string"==typeof r[r.length-1]?r[r.length-1]+=n:r.push(n)}for(;n.length>0;)t=this.dialect.inline.__oneElement__.call(this,n,e,r),n=n.substr(t.shift()),u(t,i);return r},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(n){return this.dialect.inline.__escape__.exec(n)?[2,n.charAt(1)]:[1,"\\"]},"![":function(n){var e=n.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var t={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(t.title=e[4]),[e[0].length,["img",t]]}return(e=n.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function(n){var t=String(n),r=e.DialectHelpers.inline_until_char.call(this,n.substr(1),"]");if(!r)return[1,"["];var i,a,o=1+r[0],l=r[1],s=(n=n.substr(o)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(s){var c=s[1];if(o+=s[0].length,c&&"<"==c[0]&&">"==c[c.length-1]&&(c=c.substring(1,c.length-1)),!s[3])for(var p=1,u=0;u<c.length;u++)switch(c[u]){case"(":p++;break;case")":0==--p&&(o-=c.length-u,c=c.substring(0,u))}return a={href:(c=this.dialect.inline.__call__.call(this,c,/\\/)[0])||""},void 0!==s[3]&&(a.title=s[3]),i=["link",a].concat(l),[o,i]}return(s=n.match(/^\s*\[(.*?)\]/))?(o+=s[0].length,i=["link_ref",a={ref:(s[1]||String(l)).toLowerCase(),original:t.substr(0,o)}].concat(l),[o,i]):1==l.length&&"string"==typeof l[0]?(i=["link_ref",a={ref:l[0].toLowerCase(),original:t.substr(0,o)},l[0]],[o,i]):[1,"["]},"<":function(n){var e;return null!=(e=n.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(n){var e=n.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(n){return[3,["linebreak"]]}},e.dialects.Gruber.inline["**"]=c("strong","**"),e.dialects.Gruber.inline.__=c("strong","__"),e.dialects.Gruber.inline["*"]=c("em","*"),e.dialects.Gruber.inline._=c("em","_"),e.buildBlockOrder=function(n){var e=[];for(var t in n)"__order__"!=t&&"__call__"!=t&&e.push(t);n.__order__=e},e.buildInlinePatterns=function(n){var e=[];for(var t in n)if(!t.match(/^__.*__$/)){var r=t.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==t.length?r:"(?:"+r+")")}e=e.join("|"),n.__patterns__=e;var i=n.__call__;n.__call__=function(n,t){return null!=t?i.call(this,n,t):i.call(this,n,e)}},e.DialectHelpers={},e.DialectHelpers.inline_until_char=function(n,e){for(var t=0,r=[];;){if(n.charAt(t)==e)return[++t,r];if(t>=n.length)return null;var i=this.dialect.inline.__oneElement__.call(this,n.substr(t));t+=i[0],r.push.apply(r,i.slice(1))}},e.subclassDialect=function(n){function e(){}function t(){}return e.prototype=n.block,t.prototype=n.inline,{block:new e,inline:new t}},e.buildBlockOrder(e.dialects.Gruber.block),e.buildInlinePatterns(e.dialects.Gruber.inline),e.dialects.Maruku=e.subclassDialect(e.dialects.Gruber),e.dialects.Maruku.processMetaHash=function(n){for(var e=function(n){var e=n.split(""),t=[""],r=!1;for(;e.length;){var i=e.shift();switch(i){case" ":r?t[t.length-1]+=i:t.push("");break;case"'":case'"':r=!r;break;case"\\":i=e.shift();default:t[t.length-1]+=i}}return t}(n),t={},r=0;r<e.length;++r)if(/^#/.test(e[r]))t.id=e[r].substring(1);else if(/^\./.test(e[r]))t.class?t.class=t.class+e[r].replace(/./," "):t.class=e[r].substring(1);else if(/\=/.test(e[r])){var i=e[r].split(/\=/);t[i[0]]=i[1]}return t},e.dialects.Maruku.block.document_meta=function(n,e){if(!(n.lineNumber>1)&&n.match(/^(?:\w+:.*\n)*\w+:.*$/)){d(this.tree)||this.tree.splice(1,0,{});var t=n.split(/\n/);for(p in t){var r=t[p].match(/(\w+):\s*(.*)$/),i=r[1].toLowerCase(),a=r[2];this.tree[1][i]=a}return[]}},e.dialects.Maruku.block.block_meta=function(n,e){var t=n.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(t){var r,i=this.dialect.processMetaHash(t[2]);if(""===t[1]){var o=this.tree[this.tree.length-1];if(r=d(o),"string"==typeof o)return;for(a in r||(r={},o.splice(1,0,r)),i)r[a]=i[a];return[]}var l=n.replace(/\n.*$/,""),s=this.processBlock(l,[]);for(a in(r=d(s[0]))||(r={},s[0].splice(1,0,r)),i)r[a]=i[a];return s}},e.dialects.Maruku.block.definition_list=function(n,e){var t,r=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,i=["dl"];if(l=n.match(r)){for(var a=[n];e.length&&r.exec(e[0]);)a.push(e.shift());for(var o=0;o<a.length;++o){var l,s=(l=a[o].match(r))[1].replace(/\n$/,"").split(/\n/),c=l[2].split(/\n:\s+/);for(t=0;t<s.length;++t)i.push(["dt",s[t]]);for(t=0;t<c.length;++t)i.push(["dd"].concat(this.processInline(c[t].replace(/(\n)\s+/,"$1"))))}return[i]}},e.dialects.Maruku.block.table=function(n,e){var t,r,i=function(n,e){(e=e||"\\s").match(/^[\\|\[\]{}?*.+^$]$/)&&(e="\\"+e);for(var t,r=[],i=new RegExp("^((?:\\\\.|[^\\\\"+e+"])*)"+e+"(.*)");t=n.match(i);)r.push(t[1]),n=t[2];return r.push(n),r};if(r=n.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=n.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/)))return;var a=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var o=[];for(u(r[2],(function(n){n.match(/^\s*-+:\s*$/)?o.push({align:"right"}):n.match(/^\s*:-+\s*$/)?o.push({align:"left"}):n.match(/^\s*:-+:\s*$/)?o.push({align:"center"}):o.push({})})),r[1]=i(r[1].replace(/\|\s*$/,""),"|"),t=0;t<r[1].length;t++)a[1][1].push(["th",o[t]||{}].concat(this.processInline(r[1][t].trim())));return u(r[3].replace(/\|\s*$/gm,"").split("\n"),(function(n){var e=["tr"];for(n=i(n,"|"),t=0;t<n.length;t++)e.push(["td",o[t]||{}].concat(this.processInline(n[t].trim())));a[2].push(e)}),this),[a]},e.dialects.Maruku.inline["{:"]=function(n,e,t){if(!t.length)return[2,"{:"];var r=t[t.length-1];if("string"==typeof r)return[2,"{:"];var i=n.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var a=this.dialect.processMetaHash(i[1]),o=d(r);for(var l in o||(o={},r.splice(1,0,o)),a)o[l]=a[l];return[i[0].length,""]},e.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,e.buildBlockOrder(e.dialects.Maruku.block),e.buildInlinePatterns(e.dialects.Maruku.inline);var u,h=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)};u=Array.prototype.forEach?function(n,e,t){return n.forEach(e,t)}:function(n,e,t){for(var r=0;r<n.length;r++)e.call(t||n,n[r],r,n)};var f=function(n){for(var e in n)if(hasOwnProperty.call(n,e))return!1;return!0};function d(n){return h(n)&&n.length>1&&"object"===r(n[1])&&!h(n[1])?n[1]:void 0}function g(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function b(n){if("string"==typeof n)return g(n);var e=n.shift(),t={},i=[];for(!n.length||"object"!==r(n[0])||n[0]instanceof Array||(t=n.shift());n.length;)i.push(b(n.shift()));var a="";for(var o in t)a+=" "+o+'="'+g(t[o])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+a+"/>":"<"+e+a+">"+i.join("")+"</"+e+">"}n.renderJsonML=function(n,e){(e=e||{}).root=e.root||!1;var t=[];if(e.root)t.push(b(n));else for(n.shift(),!n.length||"object"!==r(n[0])||n[0]instanceof Array||n.shift();n.length;)t.push(b(n.shift()));return t.join("\n\n")}}(e)}}]);