!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=93)}([function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(25),s=i(5);i.d(e,"b",function(){return s.a});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=Object(n.a)(HTMLElement)},function(t,e,i){"use strict";i(7),i(16);var n=i(32),s=i(10);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function r(t){return"slot"===t.localName}class a{static getFlattenedNodes(t){return r(t)?(t=t).assignedNodes({flatten:!0}):Array.from(t.childNodes).map(t=>r(t)?(t=t).assignedNodes({flatten:!0}):[t]).reduce((t,e)=>t.concat(e),[])}constructor(t,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=t,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=(()=>{this._schedule()}),this.connect(),this._schedule()}connect(){r(this._target)?this._listenSlots([this._target]):this._target.children&&(this._listenSlots(this._target.children),window.ShadyDOM?this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,t=>{this._processMutations(t)}):(this._nativeChildrenObserver=new MutationObserver(t=>{this._processMutations(t)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){r(this._target)?this._unlistenSlots([this._target]):this._target.children&&(this._unlistenSlots(this._target.children),window.ShadyDOM&&this._shadyChildrenObserver?(ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,s.microTask.run(()=>this.flush()))}_processMutations(t){this._processSlotMutations(t),this.flush()}_processSlotMutations(t){if(t)for(let e=0;e<t.length;e++){let i=t[e];i.addedNodes&&this._listenSlots(i.addedNodes),i.removedNodes&&this._unlistenSlots(i.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let t={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),i=Object(n.a)(e,this._effectiveNodes);for(let e,n=0;n<i.length&&(e=i[n]);n++)for(let i,n=0;n<e.removed.length&&(i=e.removed[n]);n++)t.removedNodes.push(i);for(let n,s=0;s<i.length&&(n=i[s]);s++)for(let i=n.index;i<n.index+n.addedCount;i++)t.addedNodes.push(e[i]);this._effectiveNodes=e;let s=!1;return(t.addedNodes.length||t.removedNodes.length)&&(s=!0,this.callback.call(this._target,t)),s}_listenSlots(t){for(let e=0;e<t.length;e++){let i=t[e];r(i)&&i.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(t){for(let e=0;e<t.length;e++){let i=t[e];r(i)&&i.removeEventListener("slotchange",this._boundSchedule)}}}var o=i(21);i.d(e,"c",function(){return c}),i.d(e,"a",function(){return u}),i.d(e,"b",function(){return o.b}),i.d(e,!1,function(){return o.a});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l=Element.prototype,h=l.matches||l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector,c=function(t,e){return h.call(t,e)};class p{constructor(t){this.node=t}observeNodes(t){return new a(this.node,t)}unobserveNodes(t){t.disconnect()}notifyObserver(){}deepContains(t){if(this.node.contains(t))return!0;let e=t,i=t.ownerDocument;for(;e&&e!==i&&e!==this.node;)e=e.parentNode||e.host;return e===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let t=[],e=this.node.assignedSlot;for(;e;)t.push(e),e=e.assignedSlot;return t}importNode(t,e){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(t,e)}getEffectiveChildNodes(){return a.getFlattenedNodes(this.node)}queryDistributedElements(t){let e=this.getEffectiveChildNodes(),i=[];for(let n,s=0,r=e.length;s<r&&(n=e[s]);s++)n.nodeType===Node.ELEMENT_NODE&&c(n,t)&&i.push(n);return i}get activeElement(){let t=this.node;return void 0!==t._activeElement?t._activeElement:t.activeElement}}!function(t,e){for(let i=0;i<e.length;i++){let n=e[i];t[n]=function(){return this.node[n].apply(this.node,arguments)}}}(p.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),function(t,e){for(let i=0;i<e.length;i++){let n=e[i];Object.defineProperty(t,n,{get:function(){return this.node[n]},configurable:!0})}}(p.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(t,e){for(let i=0;i<e.length;i++){let n=e[i];Object.defineProperty(t,n,{get:function(){return this.node[n]},set:function(t){this.node[n]=t},configurable:!0})}}(p.prototype,["textContent","innerHTML"]);p.prototype.cloneNode,p.prototype.appendChild,p.prototype.insertBefore,p.prototype.removeChild,p.prototype.replaceChild,p.prototype.setAttribute,p.prototype.removeAttribute,p.prototype.querySelector,p.prototype.querySelectorAll;const u=function(t){if(!(t=t||document).__domApi){let e;e=t instanceof Event?new class{constructor(t){this.event=t}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}(t):new p(t),t.__domApi=e}return t.__domApi}},function(t,e,i){"use strict";var n=i(27),s=i(3),r=(i(7),i(24)),a=i(9);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function o(t,e,i,n,s){let r;s&&(r="object"==typeof i&&null!==i)&&(n=t.__dataTemp[e]);let a=n!==i&&(n==n||i==i);return r&&a&&(t.__dataTemp[e]=i),a}const l=Object(a.a)(t=>{return class extends t{_shouldPropertyChange(t,e,i){return o(this,t,e,i,!0)}}}),h=Object(a.a)(t=>{return class extends t{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(t,e,i){return o(this,t,e,i,this.mutableData)}}});l._mutablePropertyChange=o;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let c=null;function p(){return c}p.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:p,writable:!0}});const u=Object(r.a)(p),d=l(u);const m=Object(r.a)(class{});class f extends m{constructor(t){super(),this._configureProperties(t),this.root=this._stampTemplate(this.__dataHost);let e=this.children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)e.push(t),t.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(t&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(t){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let e in t)this._setPendingProperty(e,t[e])}forwardHostProp(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(t,e,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,t=>{t.model=this,i(t)});else{let n=this.__dataHost.__dataHost;n&&n._addEventListenerToNode(t,e,i)}}_showHideChildren(t){let e=this.children;for(let i=0;i<e.length;i++){let n=e[i];if(Boolean(t)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)t?(n.__polymerTextContent__=n.textContent,n.textContent=""):n.textContent=n.__polymerTextContent__;else if("slot"===n.localName)if(t)n.__polymerReplaced__=document.createComment("hidden-slot"),n.parentNode.replaceChild(n.__polymerReplaced__,n);else{const t=n.__polymerReplaced__;t&&t.parentNode.replaceChild(n,t)}else n.style&&(t?(n.__polymerDisplay__=n.style.display,n.style.display="none"):n.style.display=n.__polymerDisplay__);n.__hideTemplateChildren__=t,n._showHideChildren&&n._showHideChildren(t)}}_setUnmanagedPropertyToNode(t,e,i){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(t,e,i)}get parentModel(){let t=this.__parentModel;if(!t){let e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}dispatchEvent(t){return!0}}f.prototype.__dataHost,f.prototype.__templatizeOptions,f.prototype._methodHost,f.prototype.__templatizeOwner,f.prototype.__hostProps;const g=l(f);function v(t,e,i){let n=i.mutableData?g:f,s=class extends n{};return s.prototype.__templatizeOptions=i,s.prototype._bindTemplate(t),function(t,e,i,n){let s=i.hostProps||{};for(let e in n.instanceProps){delete s[e];let i=n.notifyInstanceProp;i&&t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:y(e,i)})}if(n.forwardHostProp&&e.__dataHost)for(let e in s)t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,i){t.__dataHost._setPendingPropertyOrPath("_host_"+e,i[e],!0,!0)}})}(s,t,e,i),s}function _(t,e,i){let n=i.forwardHostProp;if(n){let s=e.templatizeTemplateClass;if(!s){let t=i.mutableData?d:u;s=e.templatizeTemplateClass=class extends t{};let r=e.hostProps;for(let t in r)s.prototype._addPropertyEffect("_host_"+t,s.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:b(t,n)}),s.prototype._createNotifyingProperty("_host_"+t)}!function(t,e){c=t,Object.setPrototypeOf(t,e.prototype),new e,c=null}(t,s),t.__dataProto&&Object.assign(t.__data,t.__dataProto),t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties()}}function b(t,e){return function(t,i,n){e.call(t.__templatizeOwner,i.substring("_host_".length),n[i])}}function y(t,e){return function(t,i,n){e.call(t.__templatizeOwner,t,i,n[i])}}function x(t,e,i){if(i=i||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;let n=(e?e.constructor:f)._parseTemplate(t),s=n.templatizeInstanceClass;s||(s=v(t,n,i),n.templatizeInstanceClass=s),_(t,n,i);let r=class extends s{};return r.prototype._methodHost=function(t){let e=t.__dataHost;return e&&e._methodHost||e}(t),r.prototype.__dataHost=t,r.prototype.__templatizeOwner=e,r.prototype.__hostProps=n.hostProps,r=r}function w(t,e){let i;for(;e;)if(i=e.__templatizeInstance){if(i.__dataHost==t)return i;e=i.__dataHost}else e=e.parentNode;return null}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var S=i(34);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const k=Object(S.a)(h(Object(r.a)(HTMLElement)));customElements.define("dom-bind",class extends k{static get observedAttributes(){return["mutable-data"]}constructor(){super(),this.root=null,this.$=null,this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display="none",this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}render(){let t;if(!this.__children){if(!(t=t||this.querySelector("template"))){let e=new MutationObserver(()=>{if(!(t=this.querySelector("template")))throw new Error("dom-bind requires a <template> child");e.disconnect(),this.render()});return void e.observe(this,{childList:!0})}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)this.__children[this.__children.length]=t;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});var T=i(0),E=i(22),C=i(21),A=i(4),z=i(10);const I=h(T.a);class L extends I{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__limit=1/0,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t)}connectedCallback(){if(super.connectedCallback(),this.style.display="none",this.__isDetached){this.__isDetached=!1;let t=this.parentNode;for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t)}}__ensureTemplatized(){if(!this.__ctor){let t=this.template=this.querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}let e={};e[this.as]=!0,e[this.indexAs]=!0,e[this.itemsIndexAs]=!0,this.__ctor=x(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:e,forwardHostProp:function(t,e){let i=this.__instances;for(let n,s=0;s<i.length&&(n=i[s]);s++)n.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,i){if(Object(A.e)(this.as,e)){let n=t[this.itemsIndexAs];e==this.as&&(this.items[n]=i);let s=Object(A.i)(this.as,"items."+n,e);this.notifyPath(s,i)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if("string"==typeof t){let e=t,i=this.__getMethodHost();return function(){return i[e].apply(i,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let t=performance.now(),e=this._targetFrameTime/(t-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*e)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=t,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths){let e=this.__observePaths;for(let i=0;i<e.length;i++)0===t.indexOf(e[i])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__debounceRender(t,e=0){this.__renderDebouncer=E.Debouncer.debounce(this.__renderDebouncer,e>0?z.timeOut.after(e):z.microTask,t.bind(this)),Object(C.a)(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Object(C.b)()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let t=this.items||[],e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=i;this.__filterFn&&(e=e.filter((e,i,n)=>this.__filterFn(t[e],i,n))),this.__sortFn&&e.sort((e,i)=>this.__sortFn(t[e],t[i]));const i=this.__itemsIdxToInstIdx={};let n=0;const s=Math.min(e.length,this.__limit);for(;n<s;n++){let s=this.__instances[n],r=e[n],a=t[r];i[r]=n,s?(s._setPendingProperty(this.as,a),s._setPendingProperty(this.indexAs,n),s._setPendingProperty(this.itemsIndexAs,r),s._flushProperties()):this.__insertInstance(a,n,r)}for(let t=this.__instances.length-1;t>=n;t--)this.__detachAndRemoveInstance(t)}__detachInstance(t){let e=this.__instances[t];for(let t=0;t<e.children.length;t++){let i=e.children[t];e.root.appendChild(i)}return e}__attachInstance(t,e){let i=this.__instances[t];e.insertBefore(i.root,this)}__detachAndRemoveInstance(t){let e=this.__detachInstance(t);e&&this.__pool.push(e),this.__instances.splice(t,1)}__stampInstance(t,e,i){let n={};return n[this.as]=t,n[this.indexAs]=e,n[this.itemsIndexAs]=i,new this.__ctor(n)}__insertInstance(t,e,i){let n=this.__pool.pop();n?(n._setPendingProperty(this.as,t),n._setPendingProperty(this.indexAs,e),n._setPendingProperty(this.itemsIndexAs,i),n._flushProperties()):n=this.__stampInstance(t,e,i);let s=this.__instances[e+1],r=s?s.children[0]:this;return this.parentNode.insertBefore(n.root,r),this.__instances[e]=n,n}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let i=t.slice(6),n=i.indexOf("."),s=n<0?i:i.substring(0,n);if(s==parseInt(s,10)){let t=n<0?"":i.substring(n+1);this.__handleObservedPaths(t);let r=this.__itemsIdxToInstIdx[s],a=this.__instances[r];if(a){let i=this.as+(t?"."+t:"");a._setPendingPropertyOrPath(i,e,!1,!0),a._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return w(this.template,t)}}customElements.define(L.is,L);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class O extends T.a{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null}__debounceRender(){this.__renderDebouncer=E.Debouncer.debounce(this.__renderDebouncer,z.microTask,()=>this.__render()),Object(C.a)(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback(),this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||this.parentNode.host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),this.style.display="none",this.if&&this.__debounceRender()}render(){Object(C.b)()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let t=this.parentNode;if(t){if(!this.__ctor){let t=this.querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-if requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}this.__ctor=x(t,this,{mutableData:!0,forwardHostProp:function(t,e){this.__instance&&(this.if?this.__instance.forwardHostProp(t,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Object(A.g)(t)]=!0))}})}if(this.__instance){this.__syncHostProperties();let e=this.__instance.children;if(e&&e.length){if(this.previousSibling!==e[e.length-1])for(let i,n=0;n<e.length&&(i=e[n]);n++)t.insertBefore(i,this)}}else this.__instance=new this.__ctor,t.insertBefore(this.__instance.root,this)}return!0}__syncHostProperties(){let t=this.__invalidProps;if(t){for(let e in t)this.__instance._setPendingProperty(e,this.__dataHost[e]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let t=this.__instance.children;if(t&&t.length){let e=t[0].parentNode;for(let i,n=0;n<t.length&&(i=t[n]);n++)e.removeChild(i)}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let t=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(t)}}customElements.define(O.is,O);var M=i(32),P=i(25);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let N=Object(a.a)(t=>{let e=Object(P.a)(t);return class extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(t,e){let i=e.path;if("items"==i){let i=e.base||[],n=this.__lastItems;if(t!==this.__lastMulti&&this.clearSelection(),n){let t=Object(M.a)(i,n);this.__applySplices(t)}this.__lastItems=i,this.__lastMulti=t}else if("items.splices"==e.path)this.__applySplices(e.value.indexSplices);else{let t=i.slice("items.".length),e=parseInt(t,10);t.indexOf(".")<0&&t==e&&this.__deselectChangedIdx(e)}}__applySplices(t){let e=this.__selectedMap;for(let i=0;i<t.length;i++){let n=t[i];e.forEach((t,i)=>{t<n.index||(t>=n.index+n.removed.length?e.set(i,t+n.addedCount-n.removed.length):e.set(i,-1))});for(let t=0;t<n.addedCount;t++){let i=n.index+t;e.has(this.items[i])&&e.set(this.items[i],i)}}this.__updateLinks();let i=0;e.forEach((t,n)=>{t<0?(this.multi?this.splice("selected",i,1):this.selected=this.selectedItem=null,e.delete(n)):i++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let t=0;this.__selectedMap.forEach(e=>{e>=0&&this.linkPaths("items."+e,"selected."+t++)})}else this.__selectedMap.forEach(t=>{this.linkPaths("selected","items."+t),this.linkPaths("selectedItem","items."+t)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(t){return this.__selectedMap.has(t)}isIndexSelected(t){return this.isSelected(this.items[t])}__deselectChangedIdx(t){let e=this.__selectedIndexForItemIndex(t);if(e>=0){let t=0;this.__selectedMap.forEach((i,n)=>{e==t++&&this.deselect(n)})}}__selectedIndexForItemIndex(t){let e=this.__dataLinkedPaths["items."+t];if(e)return parseInt(e.slice("selected.".length),10)}deselect(t){let e=this.__selectedMap.get(t);if(e>=0){let i;this.__selectedMap.delete(t),this.multi&&(i=this.__selectedIndexForItemIndex(e)),this.__updateLinks(),this.multi?this.splice("selected",i,1):this.selected=this.selectedItem=null}}deselectIndex(t){this.deselect(this.items[t])}select(t){this.selectIndex(this.items.indexOf(t))}selectIndex(t){let e=this.items[t];this.isSelected(e)?this.toggle&&this.deselectIndex(t):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(e,t),this.__updateLinks(),this.multi?this.push("selected",e):this.selected=this.selectedItem=e)}}})(T.a);class R extends N{static get is(){return"array-selector"}}customElements.define(R.is,R);var D=i(42),H=i(23),V=i(19);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const j=new D.a;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(t,e,i){},styleSubtree(t,e){j.processStyles(),Object(H.c)(t,e)},styleElement(t){j.processStyles()},styleDocument(t){j.processStyles(),Object(H.c)(document.body,t)},getComputedStyleValue:(t,e)=>Object(H.b)(t,e),flushCustomStyles(){},nativeCss:V.a,nativeShadow:V.b}),window.ShadyCSS.CustomStyleInterface=j;var B=i(29);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const U="include",F=window.ShadyCSS.CustomStyleInterface;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let q;window.customElements.define("custom-style",class extends HTMLElement{constructor(){super(),this._style=null,F.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute(U);return e&&(t.removeAttribute(U),t.textContent=Object(B.a)(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}),q=l._mutablePropertyChange;Boolean;var $=i(5);i.d(e,"a",function(){return Z}),i.d(e,!1,function(){return s.a}),i.d(e,!1,function(){return $.a});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Z=Object(n.a)(HTMLElement).prototype},function(t,e,i){"use strict";var n=i(27),s=i(20);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let r={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};function a(t,e){if(!t)return e=e;e=Object(n.a)(e),Array.isArray(t)||(t=[t]);let i=e.prototype.behaviors;return e=function t(e,i){for(let n=0;n<e.length;n++){let s=e[n];s&&(i=Array.isArray(s)?t(s,i):o(s,i))}return i}(t=function t(e,i,n){i=i||[];for(let s=e.length-1;s>=0;s--){let r=e[s];r?Array.isArray(r)?t(r,i):i.indexOf(r)<0&&(!n||n.indexOf(r)<0)&&i.unshift(r):console.warn("behavior is null, check for missing or 404 import")}return i}(t,null,i),e),i&&(t=i.concat(t)),e.prototype.behaviors=t,e}function o(t,e){class i extends e{static get properties(){return t.properties}static get observers(){return t.observers}static get template(){return t._template||s.a&&s.a.import(this.is,"template")||e.template||this.prototype._template||null}created(){super.created(),t.created&&t.created.call(this)}_registered(){super._registered(),t.beforeRegister&&t.beforeRegister.call(Object.getPrototypeOf(this)),t.registered&&t.registered.call(Object.getPrototypeOf(this))}_applyListeners(){if(super._applyListeners(),t.listeners)for(let e in t.listeners)this._addMethodEventListenerToNode(this,e,t.listeners[e])}_ensureAttributes(){if(t.hostAttributes)for(let e in t.hostAttributes)this._ensureAttribute(e,t.hostAttributes[e]);super._ensureAttributes()}ready(){super.ready(),t.ready&&t.ready.call(this)}attached(){super.attached(),t.attached&&t.attached.call(this)}detached(){super.detached(),t.detached&&t.detached.call(this)}attributeChanged(e,i,n){super.attributeChanged(e,i,n),t.attributeChanged&&t.attributeChanged.call(this,e,i,n)}}i.generatedFrom=t;for(let e in t)if(!(e in r)){let n=Object.getOwnPropertyDescriptor(t,e);n&&Object.defineProperty(i.prototype,e,n)}return i}i(7);i.d(e,"a",function(){return l});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l=function(t){let e;return e="function"==typeof t?t:l.Class(t),customElements.define(e.is,e),e};l.Class=function(t){t||console.warn("Polymer's Class function requires `info` argument");let e=o(t,t.behaviors?a(t.behaviors,HTMLElement):Object(n.a)(HTMLElement));return e.is=t.is,e}},function(t,e,i){"use strict";i.d(e,"d",function(){return n}),i.d(e,"g",function(){return s}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"i",function(){return o}),i.d(e,"e",function(){return l}),i.d(e,"f",function(){return h}),i.d(e,"a",function(){return p}),i.d(e,"h",function(){return u});i(7);function n(t){return t.indexOf(".")>=0}function s(t){let e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function r(t,e){return 0===t.indexOf(e+".")}function a(t,e){return 0===e.indexOf(t+".")}function o(t,e,i){return e+i.slice(t.length)}function l(t,e){return t===e||r(t,e)||a(t,e)}function h(t){if(Array.isArray(t)){let e=[];for(let i=0;i<t.length;i++){let n=t[i].toString().split(".");for(let t=0;t<n.length;t++)e.push(n[t])}return e.join(".")}return t}function c(t){return Array.isArray(t)?h(t).split("."):t.toString().split(".")}function p(t,e,i){let n=t,s=c(e);for(let t=0;t<s.length;t++){if(!n)return;n=n[s[t]]}return i&&(i.path=s.join(".")),n}function u(t,e,i){let n=t,s=c(e),r=s[s.length-1];if(s.length>1){for(let t=0;t<s.length-1;t++){if(!(n=n[s[t]]))return}n[r]=i}else n[e]=i;return s.join(".")}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class n{constructor(t){this.value=t.toString()}toString(){return this.value}}function s(t){if(t instanceof n)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}const r=function(t,...e){const i=document.createElement("template");return i.innerHTML=e.reduce((e,i,r)=>e+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof n)return s(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}(i)+t[r+1],t[0]),i}},function(t,e){t.exports=(t=>(class extends t{constructor(){super(),this._injectModel("CollectionModel")}async _getCollectionOverview(){return this.CollectionModel.overview()}async _getCollection(t){return this.CollectionModel.get(t)}}))},function(t,e){
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(t){return t}},function(t,e,i){const{AppStateInterface:n}=i(39);t.exports=(t=>(class extends(Mixin(t).with(n)){_setSelectedRecord(t){this.AppStateModel.setSelectedRecord(t)}_getSelectedRecord(){return this.AppStateModel.getSelectedRecord()}_setSelectedRecordMedia(t){this.AppStateModel.setSelectedRecordMedia(t)}_getSelectedRecordMedia(){return this.AppStateModel.getSelectedRecordMedia()}}))},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n=0;function s(){}s.prototype.__mixinApplications,s.prototype.__mixinSet;const r=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let i=n++;return function(n){let s=n.__mixinSet;if(s&&s[i])return n;let r=e,a=r.get(n);a||(a=t(n),r.set(n,a));let o=Object.create(a.__mixinSet||s||null);return o[i]=!0,a.__mixinSet=o,a}}},function(t,e,i){"use strict";i.r(e),i.d(e,"timeOut",function(){return l}),i.d(e,"animationFrame",function(){return h}),i.d(e,"idlePeriod",function(){return c}),i.d(e,"microTask",function(){return p});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n=0,s=0,r=[],a=0,o=document.createTextNode("");new window.MutationObserver(function(){const t=r.length;for(let e=0;e<t;e++){let t=r[e];if(t)try{t()}catch(t){setTimeout(()=>{throw t})}}r.splice(0,t),s+=t}).observe(o,{characterData:!0});const l={after:t=>({run:e=>window.setTimeout(e,t),cancel(t){window.clearTimeout(t)}}),run:(t,e)=>window.setTimeout(t,e),cancel(t){window.clearTimeout(t)}},h={run:t=>window.requestAnimationFrame(t),cancel(t){window.cancelAnimationFrame(t)}},c={run:t=>window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16),cancel(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},p={run:t=>(o.textContent=a++,r.push(t),n++),cancel(t){const e=t-s;if(e>=0){if(!r[e])throw new Error("invalid async handle: "+t);r[e]=null}}}},function(t,e){t.exports=(t=>(class extends t{constructor(){super(),this._injectModel("RecordModel")}_defaultRecordSearch(t){return this.RecordModel.defaultSearch(t)}_getRecord(t){return this.RecordModel.get(t)}_searchDocumentToUrl(t){return this.RecordModel.searchDocumentToUrl(t)}_urlToSearchDocument(t){return this.RecordModel.urlToSearchDocument(t)}_getEmptySearchDocument(){return this.RecordModel.emptySearchDocument()}_setKeywordFilter(t,e,i,n){return this.RecordModel.setKeywordFilter(t,e,i,n)}_appendKeywordFilter(t,e,i,n){return this.RecordModel.appendKeywordFilter(t,e,i)}_removeKeywordFilter(t,e,i){return this.RecordModel.removeKeywordFilter(t,e,i)}_searchRecords(t){return this.RecordModel.search(t)}_getCurrentSearchDocument(){return this.RecordModel.getCurrentSearchDocument()}_setTextFilter(t,e){return this.RecordModel.setTextFilter(t,e)}_setPaging(t,e,i){return this.RecordModel.setPaging(t,e,i)}_appendRangeFilter(t,e,i){return this.RecordModel.appendRangeFilter(t,e,i)}_removeRangeFilter(t,e){return this.RecordModel.removeRangeFilter(t,e)}}))},function(t,e,i){t.exports={BaseModel:i(133),BaseStore:i(131),BaseService:i(130),Mixin:i(128),EventInterface:i(127),fetch:i(50)}},function(t,e,i){let n=i(31),s={};for(var r in n)s[r]=n[r].text;t.exports={fcrepoBasePath:"/fcrepo/rest",gaCode:"UA-65988958-10",elasticSearch:{facets:{fileFormats:{label:"File Format",type:"facet",valueMap:t=>{if(t.match(/^image\/(.*)/i))return"Image ("+t.match(/^image\/(.*)/)[1]+")";if("application/pdf"===t)return"PDF";if(t.match(/(\w*)\/(.*)/)){let e=t.match(/(\w*)\/(.*)/);return e[1]+" ("+e[2]+")"}return t}},creators:{label:"Creator",type:"facet"},yearPublished:{label:"Published",type:"range"},license:{label:"Rights",type:"facet",valueMap:s},type:{label:"Type",type:"facet",ignore:["CreativeWork","MediaObject"],valueMap:t=>t.replace(/(.)([A-Z])/g,"$1 $2")},"abouts.raw":{label:"Subject",type:"facet"}},textFields:{record:["name","description","abouts"],collection:["name","description","about"]},maxFacetCount:50}}},function(t,e){t.exports=(t=>(class extends t{constructor(){super(),this._injectModel("MediaModel")}_getImgPath(t){return this.MediaModel.getImgPath(t)}_getImgUrl(t,e,i){return this.MediaModel.getImgUrl(t,e,i)}_getImageMediaList(t){return this.MediaModel.getImageMediaList(t)}}))},function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"b",function(){return l}),i.d(e,"a",function(){return h});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n,s,r=/(url\()([^)]*)(\))/g,a=/(^\/)|(^#)|(^[\w-\d]*:)/;function o(t,e){if(t&&a.test(t))return t;if(void 0===n){n=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",n="http://a/c%20d"===t.href}catch(t){}}return e||(e=document.baseURI||window.location.href),n?new URL(t,e).href:(s||((s=document.implementation.createHTMLDocument("temp")).base=s.createElement("base"),s.head.appendChild(s.base),s.anchor=s.createElement("a"),s.body.appendChild(s.anchor)),s.base.href=e,s.anchor.href=t,s.anchor.href||t)}function l(t,e){return t.replace(r,function(t,i,n,s){return i+"'"+o(n.replace(/["']/g,""),e)+"'"+s})}function h(t){return t.substring(0,t.lastIndexOf("/")+1)}},function(t,e,i){"use strict";i.d(e,"d",function(){return s}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o});i(7);var n=i(15);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s=!window.ShadyDOM;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback;let r=Object(n.a)(document.baseURI||window.location.href);let a=void 0;let o=!1},function(t,e,i){"use strict";i.r(e),i.d(e,"dashToCamelCase",function(){return a}),i.d(e,"camelToDashCase",function(){return o});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n={},s=/-[a-z]/g,r=/([A-Z])/g;function a(t){return n[t]||(n[t]=t.indexOf("-")<0?t:t.replace(s,t=>t[1].toUpperCase()))}function o(t){return n[t]||(n[t]=t.replace(r,"-$1").toLowerCase())}},function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"b",function(){return s}),i.d(e,"a",function(){return r});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,s=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,r=/@media\s(.*)/},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return a});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=!(window.ShadyDOM&&window.ShadyDOM.inUse);let s;function r(t){s=(!t||!t.shimcssproperties)&&(n||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?s=window.ShadyCSS.nativeCss:window.ShadyCSS?(r(window.ShadyCSS),window.ShadyCSS=void 0):r(window.WebComponents&&window.WebComponents.flags);const a=s},function(t,e,i){"use strict";i.d(e,"a",function(){return a});i(7);var n=i(15);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let s={},r={};class a extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,e){if(t){let i=function(t){return s[t]||r[t.toLowerCase()]}(t);return i&&e?i.querySelector(e):i}return null}attributeChangedCallback(t,e,i,n){e!==i&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=Object(n.c)(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=Object(n.a)(e)}return this.__assetpath}register(t){var e;(t=t||this.id)&&(this.id=t,s[t]=this,r[t.toLowerCase()]=this,(e=this).querySelector("style")&&console.warn("dom-module %s has style outside template",e.id))}}a.prototype.modules=s,customElements.define("dom-module",a)},function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n=[];const s=function(t){n.push(t)};function r(){const t=Boolean(n.length);for(;n.length;)try{n.shift().flush()}catch(t){setTimeout(()=>{throw t})}return t}const a=function(){let t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=r()}while(t||e)}},function(t,e,i){"use strict";i.r(e),i.d(e,"Debouncer",function(){return n});i(7),i(9),i(10);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=class t{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(t,e){this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run(()=>{this._timer=null,this._callback()})}cancel(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,i,n){return e instanceof t?e.cancel():e=new t,e.setConfig(i,n),e}}},function(t,e,i){"use strict";i.d(e,"c",function(){return s}),i.d(e,"b",function(){return r}),i.d(e,"a",function(){return a});var n=i(18);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function s(t,e){for(let i in e)null===i?t.style.removeProperty(i):t.style.setProperty(i,e[i])}function r(t,e){const i=window.getComputedStyle(t).getPropertyValue(e);return i?i.trim():""}function a(t){const e=n.b.test(t)||n.c.test(t);return n.b.lastIndex=0,n.c.lastIndex=0,e}},function(t,e,i){"use strict";i(7);var n=i(9),s=i(4),r=i(17),a=i(36);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o={"dom-if":!0,"dom-repeat":!0};function l(t){let e=t.getAttribute("is");if(e&&o[e]){let i=t;for(i.removeAttribute("is"),t=i.ownerDocument.createElement(e),i.parentNode.replaceChild(t,i),t.appendChild(i);i.attributes.length;)t.setAttribute(i.attributes[0].name,i.attributes[0].value),i.removeAttribute(i.attributes[0].name)}return t}function h(t,e){let i=e.parentInfo&&h(t,e.parentInfo);if(!i)return t;for(let t=i.firstChild,n=0;t;t=t.nextSibling)if(e.parentIndex===n++)return t}function c(t,e,i,n){n.id&&(e[n.id]=i)}function p(t,e,i){if(i.events&&i.events.length)for(let n,s=0,r=i.events;s<r.length&&(n=r[s]);s++)t._addMethodEventListenerToNode(e,n.name,n.value,t)}function u(t,e,i){i.templateInfo&&(e._templateInfo=i.templateInfo)}const d=Object(n.a)(t=>{return class extends t{static _parseTemplate(t,e){if(!t._templateInfo){let i=t._templateInfo={};i.nodeInfoList=[],i.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,i,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,e,i){return this._parseTemplateNode(t.content,e,i)}static _parseTemplateNode(t,e,i){let n,s=t;return"template"!=s.localName||s.hasAttribute("preserve-content")?"slot"===s.localName&&(e.hasInsertionPoint=!0):n=this._parseTemplateNestedTemplate(s,e,i)||n,s.firstChild&&(n=this._parseTemplateChildNodes(s,e,i)||n),s.hasAttributes&&s.hasAttributes()&&(n=this._parseTemplateNodeAttributes(s,e,i)||n),n}static _parseTemplateChildNodes(t,e,i){if("script"!==t.localName&&"style"!==t.localName)for(let n,s=t.firstChild,r=0;s;s=n){if("template"==s.localName&&(s=l(s)),n=s.nextSibling,s.nodeType===Node.TEXT_NODE){let i=n;for(;i&&i.nodeType===Node.TEXT_NODE;)s.textContent+=i.textContent,n=i.nextSibling,t.removeChild(i),i=n;if(e.stripWhiteSpace&&!s.textContent.trim()){t.removeChild(s);continue}}let a={parentIndex:r,parentInfo:i};this._parseTemplateNode(s,e,a)&&(a.infoIndex=e.nodeInfoList.push(a)-1),s.parentNode&&r++}}static _parseTemplateNestedTemplate(t,e,i){let n=this._parseTemplate(t,e);return(n.content=t.content.ownerDocument.createDocumentFragment()).appendChild(t.content),i.templateInfo=n,!0}static _parseTemplateNodeAttributes(t,e,i){let n=!1,s=Array.from(t.attributes);for(let r,a=s.length-1;r=s[a];a--)n=this._parseTemplateNodeAttribute(t,e,i,r.name,r.value)||n;return n}static _parseTemplateNodeAttribute(t,e,i,n,s){return"on-"===n.slice(0,3)?(t.removeAttribute(n),i.events=i.events||[],i.events.push({name:n.slice(3),value:s}),!0):"id"===n&&(i.id=s,!0)}static _contentForTemplate(t){let e=t._templateInfo;return e&&e.content||t.content}_stampTemplate(t){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let e=this.constructor._parseTemplate(t),i=e.nodeInfoList,n=e.content||t.content,s=document.importNode(n,!0);s.__noInsertionPoint=!e.hasInsertionPoint;let r=s.nodeList=new Array(i.length);s.$={};for(let t,e=0,n=i.length;e<n&&(t=i[e]);e++){let i=r[e]=h(s,t);c(0,s.$,i,t),u(0,i,t),p(this,i,t)}return s=s}_addMethodEventListenerToNode(t,e,i,n){let s=function(t,e,i){return t=t._methodHost||t,function(e){t[i]?t[i](e,e.detail):console.warn("listener method `"+i+"` not defined")}}(n=n||t,0,i);return this._addEventListenerToNode(t,e,s),s}_addEventListenerToNode(t,e,i){t.addEventListener(e,i)}_removeEventListenerFromNode(t,e,i){t.removeEventListener(e,i)}}});var m=i(16);i.d(e,"a",function(){return q});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const f=r;let g=0;const v={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},_=/[A-Z]/;let b;function y(t,e){let i=t[e];if(i){if(!t.hasOwnProperty(e)){i=t[e]=Object.create(t[e]);for(let t in i){let e=i[t],n=i[t]=Array(e.length);for(let t=0;t<e.length;t++)n[t]=e[t]}}}else i=t[e]={};return i}function x(t,e,i,n,s,r){if(e){let a=!1,o=g++;for(let l in i)w(t,e,o,l,i,n,s,r)&&(a=!0);return a}return!1}function w(t,e,i,n,r,a,o,l){let h=!1,c=e[o?Object(s.g)(n):n];if(c)for(let e,s=0,p=c.length;s<p&&(e=c[s]);s++)e.info&&e.info.lastRun===i||o&&!S(n,e.trigger)||(e.info&&(e.info.lastRun=i),e.fn(t,n,r,a,e.info,o,l),h=!0);return h}function S(t,e){if(e){let i=e.name;return i==t||e.structured&&Object(s.b)(i,t)||e.wildcard&&Object(s.c)(i,t)}return!0}function k(t,e,i,n,s){let r="string"==typeof s.method?t[s.method]:s.method,a=s.property;r?r.call(t,t.__data[a],n[a]):s.dynamicFn||console.warn("observer method `"+s.method+"` not defined")}function T(t,e,i){let n=Object(s.g)(e);if(n!==e){return E(t,Object(r.camelToDashCase)(n)+"-changed",i[e],e),!0}return!1}function E(t,e,i,n){let s={value:i,queueProperty:!0};n&&(s.path=n),t.dispatchEvent(new CustomEvent(e,{detail:s}))}function C(t,e,i,n,r,a){let o=(a?Object(s.g)(e):e)!=e?e:null,l=o?Object(s.a)(t,o):t.__data[e];o&&void 0===l&&(l=i[e]),E(t,r.eventName,l,o)}function A(t,e,i,n,s){let r=t.__data[e];m.c&&(r=Object(m.c)(r,s.attrName,"attribute",t)),t._propertyToAttribute(e,s.attrName,r)}function z(t,e,i,n,s){let r=R(t,e,i,n,s),a=s.methodInfo;t.__dataHasAccessor&&t.__dataHasAccessor[a]?t._setPendingProperty(a,r,!0):t[a]=r}function I(t,e,i,n,s,r,a){i.bindings=i.bindings||[];let o={kind:n,target:s,parts:r,literal:a,isCompound:1!==r.length};if(i.bindings.push(o),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(o)){let{event:t,negate:e}=o.parts[0];o.listenerEvent=t||f.camelToDashCase(s)+"-changed",o.listenerNegate=e}let l=e.nodeInfoList.length;for(let i=0;i<o.parts.length;i++){let n=o.parts[i];n.compoundIndex=i,L(t,e,o,n,l)}}function L(t,e,i,n,s){if(!n.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let r=n.dependencies,a={index:s,binding:i,part:n,evaluator:t};for(let i=0;i<r.length;i++){let n=r[i];"string"==typeof n&&((n=B(n)).wildcard=!0),t._addTemplatePropertyEffect(e,n.rootProperty,{fn:O,info:a,trigger:n})}}}function O(t,e,i,n,r,a,o){let l=o[r.index],h=r.binding,c=r.part;if(a&&c.source&&e.length>c.source.length&&"property"==h.kind&&!h.isCompound&&l.__isPropertyEffectsClient&&l.__dataHasAccessor&&l.__dataHasAccessor[h.target]){let n=i[e];e=Object(s.i)(c.source,h.target,e),l._setPendingPropertyOrPath(e,n,!1,!0)&&t._enqueueClient(l)}else{!function(t,e,i,n,s){s=function(t,e,i,n){if(i.isCompound){let s=t.__dataCompoundStorage[i.target];s[n.compoundIndex]=e,e=s.join("")}return"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=void 0==e?"":e)),e}(e,s,i,n),m.c&&(s=Object(m.c)(s,i.target,i.kind,e));if("attribute"==i.kind)t._valueToNodeAttribute(e,s,i.target);else{let n=i.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[n]?e[v.READ_ONLY]&&e[v.READ_ONLY][n]||e._setPendingProperty(n,s)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,n,s)}}(t,l,h,c,r.evaluator._evaluateBinding(t,c,e,i,n,a))}}function M(t,e){if(e.isCompound){let i=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),n=e.parts,s=new Array(n.length);for(let t=0;t<n.length;t++)s[t]=n[t].literal;let r=e.target;i[r]=s,e.literal&&"property"==e.kind&&(t[r]=e.literal)}}function P(t,e,i){if(i.listenerEvent){let n=i.parts[0];t.addEventListener(i.listenerEvent,function(t){!function(t,e,i,n,r){let a,o=t.detail,l=o&&o.path;l?(n=Object(s.i)(i,n,l),a=o&&o.value):a=t.target[i],a=r?!a:a,e[v.READ_ONLY]&&e[v.READ_ONLY][n]||!e._setPendingPropertyOrPath(n,a,!0,Boolean(l))||o&&o.queueProperty||e._invalidateProperties()}(t,e,i.target,n.source,n.negate)})}}function N(t,e,i,n,s,r){r=e.static||r&&("object"!=typeof r||r[e.methodName]);let a={methodName:e.methodName,args:e.args,methodInfo:s,dynamicFn:r};for(let s,r=0;r<e.args.length&&(s=e.args[r]);r++)s.literal||t._addPropertyEffect(s.rootProperty,i,{fn:n,info:a,trigger:s});r&&t._addPropertyEffect(e.methodName,i,{fn:n,info:a})}function R(t,e,i,n,r){let a=t._methodHost||t,o=a[r.methodName];if(o){let n=function(t,e,i,n){let r=[];for(let a=0,o=e.length;a<o;a++){let o,l=e[a],h=l.name;if(l.literal?o=l.value:l.structured?void 0===(o=Object(s.a)(t,h))&&(o=n[h]):o=t[h],l.wildcard){let t=0===h.indexOf(i+"."),e=0===i.indexOf(h)&&!t;r[a]={path:e?i:h,value:e?n[i]:o,base:o}}else r[a]=o}return r}(t.__data,r.args,e,i);return o.apply(a,n)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const D=[],H=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function V(t){let e="";for(let i=0;i<t.length;i++){e+=t[i].literal||""}return e}function j(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:D};if(e[2].trim()){return function(t,e){return e.args=t.map(function(t){let i=B(t);return i.literal||(e.static=!1),i},this),e}(e[2].replace(/\\,/g,"&comma;").split(","),t)}return t}return null}function B(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:e,value:"",literal:!1},n=e[0];switch("-"===n&&(n=e[1]),n>="0"&&n<="9"&&(n="#"),n){case"'":case'"':i.value=e.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(e),i.literal=!0}return i.literal||(i.rootProperty=Object(s.g)(e),i.structured=Object(s.d)(e),i.structured&&(i.wildcard=".*"==e.slice(-2),i.wildcard&&(i.name=e.slice(0,-2)))),i}function U(t,e,i,n){let s=i+".splices";t.notifyPath(s,{indexSplices:n}),t.notifyPath(i+".length",e.length),t.__data[s]={indexSplices:null}}function F(t,e,i,n,s,r){U(t,e,i,[{index:n,addedCount:s,removed:r,object:e,type:"splice"}])}const q=Object(n.a)(t=>{const e=d(Object(a.a)(t));class i extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataCounter=0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return v}_initializeProperties(){super._initializeProperties(),$.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let e=this[v.READ_ONLY];for(let i in t)e&&e[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=t[i])}_addPropertyEffect(t,e,i){this._createPropertyAccessor(t,e==v.READ_ONLY);let n=y(this,e)[t];n||(n=this[e][t]=[]),n.push(i)}_removePropertyEffect(t,e,i){let n=y(this,e)[t],s=n.indexOf(i);s>=0&&n.splice(s,1)}_hasPropertyEffect(t,e){let i=this[e];return Boolean(i&&i[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,v.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,v.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,v.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,v.COMPUTE)}_setPendingPropertyOrPath(t,e,i,n){if(n||Object(s.g)(Array.isArray(t)?t[0]:t)!==t){if(!n){let i=Object(s.a)(this,t);if(!(t=Object(s.h)(this,t,e))||!super._shouldPropertyChange(t,e,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,i))return function(t,e,i){let n=t.__dataLinkedPaths;if(n){let r;for(let a in n){let o=n[a];Object(s.c)(a,e)?(r=Object(s.i)(a,o,e),t._setPendingPropertyOrPath(r,i,!0,!0)):Object(s.c)(o,e)&&(r=Object(s.i)(o,a,e),t._setPendingPropertyOrPath(r,i,!0,!0))}}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,i);this[t]=e}return!1}_setUnmanagedPropertyToNode(t,e,i){i===t[e]&&"object"!=typeof i||(t[e]=i)}_setPendingProperty(t,e,i){let n=this.__dataHasPaths&&Object(s.d)(t),r=n?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,r[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),n?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(n||this[v.NOTIFY]&&this[v.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=i),!0)}_setProperty(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushProperties(){this.__dataCounter++,super._flushProperties(),this.__dataCounter--}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let e=0;e<t.length;e++){let i=t[e];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,e){for(let i in t)!e&&this[v.READ_ONLY]&&this[v.READ_ONLY][i]||this._setPendingPropertyOrPath(i,t[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,e,i){let n=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,e,i,n){let s=t[v.COMPUTE];if(s){let r=e;for(;x(t,s,r,i,n);)Object.assign(i,t.__dataOld),Object.assign(e,t.__dataPending),r=t.__dataPending,t.__dataPending=null}}(this,e,i,n);let s=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(e,i,n),this._flushClients(),x(this,this[v.REFLECT],e,i,n),x(this,this[v.OBSERVE],e,i,n),s&&function(t,e,i,n,s){let r,a,o=t[v.NOTIFY],l=g++;for(let a in e)e[a]&&(o&&w(t,o,l,a,i,n,s)?r=!0:s&&T(t,a,i)&&(r=!0));r&&(a=t.__dataHost)&&a._invalidateProperties&&a._invalidateProperties()}(this,s,e,i,n),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,e,i){this[v.PROPAGATE]&&x(this,this[v.PROPAGATE],t,e,i);let n=this.__templateInfo;for(;n;)x(this,n.propertyEffects,t,e,i,n.nodeList),n=n.nextTemplateInfo}linkPaths(t,e){t=Object(s.f)(t),e=Object(s.f)(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}unlinkPaths(t){t=Object(s.f)(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,e){let i={path:""};U(this,Object(s.a)(this,t,i),i.path,e)}get(t,e){return Object(s.a)(e||this,t)}set(t,e,i){i?Object(s.h)(i,t,e):this[v.READ_ONLY]&&this[v.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}push(t,...e){let i={path:""},n=Object(s.a)(this,t,i),r=n.length,a=n.push(...e);return e.length&&F(this,n,i.path,r,e.length,[]),a}pop(t){let e={path:""},i=Object(s.a)(this,t,e),n=Boolean(i.length),r=i.pop();return n&&F(this,i,e.path,i.length,0,[r]),r}splice(t,e,i,...n){let r,a={path:""},o=Object(s.a)(this,t,a);return e<0?e=o.length-Math.floor(-e):e&&(e=Math.floor(e)),r=2===arguments.length?o.splice(e):o.splice(e,i,...n),(n.length||r.length)&&F(this,o,a.path,e,n.length,r),r}shift(t){let e={path:""},i=Object(s.a)(this,t,e),n=Boolean(i.length),r=i.shift();return n&&F(this,i,e.path,0,0,[r]),r}unshift(t,...e){let i={path:""},n=Object(s.a)(this,t,i),r=n.unshift(...e);return e.length&&F(this,n,i.path,0,e.length,[]),r}notifyPath(t,e){let i;if(1==arguments.length){let n={path:""};e=Object(s.a)(this,t,n),i=n.path}else i=Array.isArray(t)?Object(s.f)(t):t;this._setPendingPropertyOrPath(i,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,e){var i;this._addPropertyEffect(t,v.READ_ONLY),e&&(this["_set"+(i=t,i[0].toUpperCase()+i.substring(1))]=function(e){this._setProperty(t,e)})}_createPropertyObserver(t,e,i){let n={property:t,method:e,dynamicFn:Boolean(i)};this._addPropertyEffect(t,v.OBSERVE,{fn:k,info:n,trigger:{name:t}}),i&&this._addPropertyEffect(e,v.OBSERVE,{fn:k,info:n,trigger:{name:e}})}_createMethodObserver(t,e){let i=j(t);if(!i)throw new Error("Malformed observer expression '"+t+"'");N(this,i,v.OBSERVE,R,null,e)}_createNotifyingProperty(t){this._addPropertyEffect(t,v.NOTIFY,{fn:C,info:{eventName:f.camelToDashCase(t)+"-changed",property:t}})}_createReflectedProperty(t){let e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,v.REFLECT,{fn:A,info:{attrName:e}})}_createComputedProperty(t,e,i){let n=j(e);if(!n)throw new Error("Malformed computed expression '"+e+"'");N(this,n,v.COMPUTE,z,t,i)}static addPropertyEffect(t,e,i){this.prototype._addPropertyEffect(t,e,i)}static createPropertyObserver(t,e,i){this.prototype._createPropertyObserver(t,e,i)}static createMethodObserver(t,e){this.prototype._createMethodObserver(t,e)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,e){this.prototype._createReadOnlyProperty(t,e)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,e,i){this.prototype._createComputedProperty(t,e,i)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,e){let i=this.constructor._parseTemplate(t),n=this.__templateInfo==i;if(!n)for(let t in i.propertyEffects)this._createPropertyAccessor(t);if(e&&((i=Object.create(i)).wasPreBound=n,!n&&this.__templateInfo)){let t=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=t.nextTemplateInfo=i,i.previousTemplateInfo=t,i}return this.__templateInfo=i}static _addTemplatePropertyEffect(t,e,i){(t.hostProps=t.hostProps||{})[e]=!0;let n=t.propertyEffects=t.propertyEffects||{};(n[e]=n[e]||[]).push(i)}_stampTemplate(t){$.beginHosting(this);let e=super._stampTemplate(t);$.endHosting(this);let i=this._bindTemplate(t,!0);if(i.nodeList=e.nodeList,!i.wasPreBound){let t=i.childNodes=[];for(let i=e.firstChild;i;i=i.nextSibling)t.push(i)}return e.templateInfo=i,function(t,e){let{nodeList:i,nodeInfoList:n}=e;if(n.length)for(let e=0;e<n.length;e++){let s=n[e],r=i[e],a=s.bindings;if(a)for(let e=0;e<a.length;e++){let i=a[e];M(r,i),P(r,t,i)}r.__dataHost=t}}(this,i),this.__dataReady&&x(this,i.propertyEffects,this.__data,null,!1,i.nodeList),e}_removeBoundDom(t){let e=t.templateInfo;e.previousTemplateInfo&&(e.previousTemplateInfo.nextTemplateInfo=e.nextTemplateInfo),e.nextTemplateInfo&&(e.nextTemplateInfo.previousTemplateInfo=e.previousTemplateInfo),this.__templateInfoLast==e&&(this.__templateInfoLast=e.previousTemplateInfo),e.previousTemplateInfo=e.nextTemplateInfo=null;let i=e.childNodes;for(let t=0;t<i.length;t++){let e=i[t];e.parentNode.removeChild(e)}}static _parseTemplateNode(t,e,i){let n=super._parseTemplateNode(t,e,i);if(t.nodeType===Node.TEXT_NODE){let s=this._parseBindings(t.textContent,e);s&&(t.textContent=V(s)||" ",I(this,e,i,"text","textContent",s),n=!0)}return n}static _parseTemplateNodeAttribute(t,e,i,n,s){let a=this._parseBindings(s,e);if(a){let s=n,o="property";_.test(n)?o="attribute":"$"==n[n.length-1]&&(n=n.slice(0,-1),o="attribute");let l=V(a);return l&&"attribute"==o&&t.setAttribute(n,l),"input"===t.localName&&"value"===s&&t.setAttribute(s,""),t.removeAttribute(s),"property"===o&&(n=Object(r.dashToCamelCase)(n)),I(this,e,i,o,n,a,l),!0}return super._parseTemplateNodeAttribute(t,e,i,n,s)}static _parseTemplateNestedTemplate(t,e,i){let n=super._parseTemplateNestedTemplate(t,e,i),s=i.templateInfo.hostProps;for(let t in s){I(this,e,i,"property","_host_"+t,[{mode:"{",source:t,dependencies:[t]}])}return n}static _parseBindings(t,e){let i,n=[],s=0;for(;null!==(i=H.exec(t));){i.index>s&&n.push({literal:t.slice(s,i.index)});let r=i[1][0],a=Boolean(i[2]),o=i[3].trim(),l=!1,h="",c=-1;"{"==r&&(c=o.indexOf("::"))>0&&(h=o.substring(c+2),o=o.substring(0,c),l=!0);let p=j(o),u=[];if(p){let{args:t,methodName:i}=p;for(let e=0;e<t.length;e++){let i=t[e];i.literal||u.push(i)}let n=e.dynamicFns;(n&&n[i]||p.static)&&(u.push(i),p.dynamicFn=!0)}else u.push(o);n.push({source:o,mode:r,negate:a,customEvent:l,signature:p,dependencies:u,event:h}),s=H.lastIndex}if(s&&s<t.length){let e=t.substring(s);e&&n.push({literal:e})}return n.length?n:null}static _evaluateBinding(t,e,i,n,r,a){let o;return o=e.signature?R(t,i,n,0,e.signature):i!=e.source?Object(s.a)(t,e.source):a&&Object(s.d)(i)?Object(s.a)(t,i):t.__data[i],e.negate&&(o=!o),o}}return b=i,i});let $={stack:[],registerHost(t){if(this.stack.length){this.stack[this.stack.length-1]._enqueueClient(t)}},beginHosting(t){this.stack.push(t)},endHosting(t){let e=this.stack.length;e&&this.stack[e-1]==t&&this.stack.pop()}}},function(t,e,i){"use strict";i(7);var n=i(16),s=i(9),r=i(29),a=i(15),o=i(20),l=i(24),h=i(35);const c=Object(s.a)(t=>{const e=Object(h.a)(t);function i(t){const e=Object.getPrototypeOf(t);return e.prototype instanceof s?e:null}function n(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let e=null;t.hasOwnProperty(JSCompiler_renameProperty("properties",t))&&t.properties&&(e=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const e={};for(let i in t){const n=t[i];e[i]="function"==typeof n?{type:n}:n}return e}(t.properties)),t.__ownProperties=e}return t.__ownProperties}class s extends e{static get observedAttributes(){const t=this._properties;return t?Object.keys(t).map(t=>this.attributeNameForProperty(t)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=i(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=n(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=i(this);this.__properties=Object.assign({},t&&t._properties,n(this))}return this.__properties}static typeForProperty(t){const e=this._properties[t];return e&&e.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return s});i.d(e,"a",function(){return p});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const p=Object(s.a)(t=>{const e=c(Object(l.a)(t));return class extends e{static _finalizeClass(){var t;super._finalizeClass(),this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&this.is&&(t=this.prototype,u.push(t));const e=((i=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",i))||(i.__ownObservers=i.hasOwnProperty(JSCompiler_renameProperty("observers",i))?i.observers:null),i.__ownObservers);var i;e&&this.createObservers(e,this._properties);let n=this.template;n&&("string"==typeof n?(console.error("template getter must return HTMLTemplateElement"),n=null):n=n.cloneNode(!0)),this.prototype._template=n}static createProperties(t){for(let r in t)e=this.prototype,i=r,n=t[r],s=t,n.computed&&(n.readOnly=!0),n.computed&&!e._hasReadOnlyEffect(i)&&e._createComputedProperty(i,n.computed,s),n.readOnly&&!e._hasReadOnlyEffect(i)&&e._createReadOnlyProperty(i,!n.computed),n.reflectToAttribute&&!e._hasReflectEffect(i)&&e._createReflectedProperty(i),n.notify&&!e._hasNotifyEffect(i)&&e._createNotifyingProperty(i),n.observer&&e._createPropertyObserver(i,n.observer,s[n.observer]),e._addPropertyToAttributeMap(i);var e,i,n,s}static createObservers(t,e){const i=this.prototype;for(let n=0;n<t.length;n++)i._createMethodObserver(t[n],e)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=o.a&&o.a.import(this.is,"template")||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=Object(a.a)(t.url);else{const t=o.a&&o.a.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){0,this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=n.b,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let e=t._properties;for(let i in e){let n=e[i];"value"in n&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[i]=n)}}return t.__propertyDefaults}(this.constructor);if(t)for(let e in t){let i=t[e];if(!this.hasOwnProperty(e)){let t="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}static _processStyleText(t,e){return Object(a.b)(t,e)}static _finalizeTemplate(t){const e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;const i=this.importPath;!function(t,e,i,n){const s=e.content.querySelectorAll("style"),a=Object(r.c)(e),o=Object(r.b)(i),l=e.content.firstElementChild;for(let i=0;i<o.length;i++){let s=o[i];s.textContent=t._processStyleText(s.textContent,n),e.content.insertBefore(s,l)}let h=0;for(let e=0;e<a.length;e++){let i=a[e],r=s[h];r!==i?(i=i.cloneNode(!0),r.parentNode.insertBefore(i,r)):h++,i.textContent=t._processStyleText(i.textContent,n)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,i)}(this,e,t,i?Object(a.c)(i):""),this.prototype._bindTemplate(e)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){if(this.attachShadow)return t?(this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t),this.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,e){return!e&&this.importPath&&(e=Object(a.c)(this.importPath)),Object(a.c)(t,e)}static _parseTemplateContent(t,e,i){return e.dynamicFns=e.dynamicFns||this._properties,super._parseTemplateContent(t,e,i)}}});const u=[]},function(t,e){t.exports=(t=>(class extends t{constructor(){super(),this._injectModel("AuthModel")}ready(){super.ready(),this._onAuthUpdate(this.AuthModel.store.getUser())}_onAuthUpdate(t){}async _getUser(){return this.AuthModel.getUser()}_logout(){this.AuthModel.logout()}_login(){this.AuthModel.login()}}))},function(t,e,i){"use strict";var n=i(19);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class s{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function r(t){return function t(e,i){let n=i.substring(e.start,e.end-1);e.parsedCssText=e.cssText=n.trim();if(e.parent){let t=e.previous?e.previous.end:e.parent.start;n=i.substring(t,e.start-1),n=(n=(n=n.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let t=arguments[1],e=6-t.length;for(;e--;)t="0"+t;return"\\"+t})).replace(c.multipleSpaces," ")).substring(n.lastIndexOf(";")+1);let s=e.parsedSelector=e.selector=n.trim();e.atRule=0===s.indexOf(d),e.atRule?0===s.indexOf(u)?e.type=o.MEDIA_RULE:s.match(c.keyframesRule)&&(e.type=o.KEYFRAMES_RULE,e.keyframesName=e.selector.split(c.multipleSpaces).pop()):0===s.indexOf(p)?e.type=o.MIXIN_RULE:e.type=o.STYLE_RULE}let s=e.rules;if(s)for(let e,n=0,r=s.length;n<r&&(e=s[n]);n++)t(e,i);return e}(function(t){let e=new s;e.start=0,e.end=t.length;let i=e;for(let n=0,r=t.length;n<r;n++)if(t[n]===l){i.rules||(i.rules=[]);let t=i,e=t.rules[t.rules.length-1]||null;(i=new s).start=n+1,i.parent=t,i.previous=e,t.rules.push(i)}else t[n]===h&&(i.end=n+1,i=i.parent||e);return e}(t=t.replace(c.comments,"").replace(c.port,"")),t)}function a(t,e,i=""){let n="";if(t.cssText||t.rules){let i=t.rules;if(i&&!function(t){let e=t[0];return Boolean(e)&&Boolean(e.selector)&&0===e.selector.indexOf(p)}(i))for(let t,s=0,r=i.length;s<r&&(t=i[s]);s++)n=a(t,e,n);else(n=(n=e?t.cssText:function(t){return function(t){return t.replace(c.mixinApply,"").replace(c.varApply,"")}(t=function(t){return t.replace(c.customProp,"").replace(c.mixinProp,"")}(t))}(t.cssText)).trim())&&(n="  "+n+"\n")}return n&&(t.selector&&(i+=t.selector+" "+l+"\n"),i+=n,t.selector&&(i+=h+"\n\n")),i}const o={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},l="{",h="}",c={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},p="--",u="@media",d="@";var m=i(18);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const f=new Set,g="shady-unscoped";function v(t){const e=t.textContent;if(!f.has(e)){f.add(e);const i=t.cloneNode(!0);document.head.appendChild(i)}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function _(t,e){return t?("string"==typeof t&&(t=r(t)),e&&y(t,e),a(t,n.a)):""}function b(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=r(t.textContent)),t.__cssRules||null}function y(t,e,i,n){if(!t)return;let s=!1,r=t.type;if(n&&r===o.MEDIA_RULE){let e=t.selector.match(m.a);e&&(window.matchMedia(e[1]).matches||(s=!0))}r===o.STYLE_RULE?e(t):i&&r===o.KEYFRAMES_RULE?i(t):r===o.MIXIN_RULE&&(s=!0);let a=t.rules;if(a&&!s)for(let t,s=0,r=a.length;s<r&&(t=a[s]);s++)y(t,e,i,n)}var x=i(23);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const w=/;\s*/m,S=/^\s*(initial)|(inherit)\s*$/,k=/\s*!important/,T="_-_";class E{constructor(){this._map={}}set(t,e){t=t.trim(),this._map[t]={properties:e,dependants:{}}}get(t){return t=t.trim(),this._map[t]||null}}let C=null;class A{constructor(){this._currentElement=null,this._measureElement=null,this._map=new E}detectMixin(t){return Object(x.a)(t)}gatherStyles(t){const e=function(t){const e=[],i=t.querySelectorAll("style");for(let t=0;t<i.length;t++){const s=i[t];s.hasAttribute(g)?n.b||(v(s),s.parentNode.removeChild(s)):(e.push(s.textContent),s.parentNode.removeChild(s))}return e.join("").trim()}(t.content);if(e){const i=document.createElement("style");return i.textContent=e,t.content.insertBefore(i,t.content.firstChild),i}return null}transformTemplate(t,e){void 0===t._gatheredStyle&&(t._gatheredStyle=this.gatherStyles(t));const i=t._gatheredStyle;return i?this.transformStyle(i,e):null}transformStyle(t,e=""){let i=b(t);return this.transformRules(i,e),t.textContent=_(i),i}transformCustomStyle(t){let e=b(t);return y(e,t=>{":root"===t.selector&&(t.selector="html"),this.transformRule(t)}),t.textContent=_(e),e}transformRules(t,e){this._currentElement=e,y(t,t=>{this.transformRule(t)}),this._currentElement=null}transformRule(t){t.cssText=this.transformCssText(t.parsedCssText),":root"===t.selector&&(t.selector=":host > *")}transformCssText(t){return t=t.replace(m.c,(t,e,i,n)=>this._produceCssProperties(t,e,i,n)),this._consumeCssProperties(t)}_getInitialValueForProperty(t){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(t)}_consumeCssProperties(t){let e=null;for(;e=m.b.exec(t);){let i=e[0],n=e[1],s=e.index,r=s+i.indexOf("@apply"),a=s+i.length,o=t.slice(0,r),l=t.slice(a),h=this._cssTextToMap(o),c=this._atApplyToCssProperties(n,h);t=`${o}${c}${l}`,m.b.lastIndex=s+c.length}return t}_atApplyToCssProperties(t,e){t=t.replace(w,"");let i=[],n=this._map.get(t);if(n||(this._map.set(t,{}),n=this._map.get(t)),n){let s,r,a;this._currentElement&&(n.dependants[this._currentElement]=!0);const o=n.properties;for(s in o)a=e&&e[s],r=[s,": var(",t,T,s],a&&r.push(",",a.replace(k,"")),r.push(")"),k.test(o[s])&&r.push(" !important"),i.push(r.join(""))}return i.join("; ")}_replaceInitialOrInherit(t,e){let i=S.exec(e);return i&&(e=i[1]?this._getInitialValueForProperty(t):"apply-shim-inherit"),e}_cssTextToMap(t){let e,i,n=t.split(";"),s={};for(let t,r,a=0;a<n.length;a++)(t=n[a])&&(r=t.split(":")).length>1&&(e=r[0].trim(),i=this._replaceInitialOrInherit(e,r.slice(1).join(":")),s[e]=i);return s}_invalidateMixinEntry(t){if(C)for(let e in t.dependants)e!==this._currentElement&&C(e)}_produceCssProperties(t,e,i,n){if(i&&function t(e,i){let n=e.indexOf("var(");if(-1===n)return i(e,"","","");let s=function(t,e){let i=0;for(let n=e,s=t.length;n<s;n++)if("("===t[n])i++;else if(")"===t[n]&&0==--i)return n;return-1}(e,n+3),r=e.substring(n+4,s),a=e.substring(0,n),o=t(e.substring(s+1),i),l=r.indexOf(",");return-1===l?i(a,r.trim(),"",o):i(a,r.substring(0,l).trim(),r.substring(l+1).trim(),o)}(i,(t,e)=>{e&&this._map.get(e)&&(n=`@apply ${e};`)}),!n)return t;let s=this._consumeCssProperties(""+n),r=t.slice(0,t.indexOf("--")),a=this._cssTextToMap(s),o=a,l=this._map.get(e),h=l&&l.properties;h?o=Object.assign(Object.create(h),a):this._map.set(e,o);let c,p,u=[],d=!1;for(c in o)void 0===(p=a[c])&&(p="initial"),!h||c in h||(d=!0),u.push(`${e}${T}${c}: ${p}`);return d&&this._invalidateMixinEntry(l),l&&(l.properties=o),i&&(r=`${t};${r}`),`${r}${u.join("; ")};`}}A.prototype.detectMixin=A.prototype.detectMixin,A.prototype.transformStyle=A.prototype.transformStyle,A.prototype.transformCustomStyle=A.prototype.transformCustomStyle,A.prototype.transformRules=A.prototype.transformRules,A.prototype.transformRule=A.prototype.transformRule,A.prototype.transformTemplate=A.prototype.transformTemplate,A.prototype._separator=T,Object.defineProperty(A.prototype,"invalidCallback",{get:()=>C,set(t){C=t}});var z=A;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var I={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const L="_applyShimCurrentVersion",O="_applyShimNextVersion",M="_applyShimValidatingVersion",P=Promise.resolve();function N(t){let e=I[t];e&&function(t){t[L]=t[L]||0,t[M]=t[M]||0,t[O]=(t[O]||0)+1}(e)}function R(t){return t[L]===t[O]}function D(t){return!R(t)&&t[M]===t[O]}function H(t){t[M]=t[O],t._validating||(t._validating=!0,P.then(function(){t[L]=t[O],t._validating=!1}))}i(42);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const V=new z;if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const t=new class{constructor(){this.customStyleInterface=null,V.invalidCallback=N}ensure(){this.customStyleInterface||(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface&&(this.customStyleInterface.transformCallback=(t=>{V.transformCustomStyle(t)}),this.customStyleInterface.validateCallback=(()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})})))}prepareTemplate(t,e){this.ensure(),I[e]=t;let i=V.transformTemplate(t,e);t._styleAst=i}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let t=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let e=0;e<t.length;e++){let i=t[e],n=this.customStyleInterface.getStyleForCustomStyle(i);n&&V.transformCustomStyle(n)}this.customStyleInterface.enqueued=!1}}styleSubtree(t,e){if(this.ensure(),e&&Object(x.c)(t,e),t.shadowRoot){this.styleElement(t);let e=t.shadowRoot.children||t.shadowRoot.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}else{let e=t.children||t.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}}styleElement(t){this.ensure();let{is:e}=function(t){let e=t.localName,i="",n="";return e?e.indexOf("-")>-1?i=e:(n=e,i=t.getAttribute&&t.getAttribute("is")||""):(i=t.is,n=t.extends),{is:i,typeExtension:n}}(t),i=I[e];if(i&&!R(i)){D(i)||(this.prepareTemplate(i,e),H(i));let n=t.shadowRoot;if(n){let t=n.querySelector("style");t&&(t.__cssRules=i._styleAst,t.textContent=_(i._styleAst))}}}styleDocument(t){this.ensure(),this.styleSubtree(document.body,t)}};let e=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(e,i,n){t.flushCustomStyles(),t.prepareTemplate(e,i)},styleSubtree(e,i){t.flushCustomStyles(),t.styleSubtree(e,i)},styleElement(e){t.flushCustomStyles(),t.styleElement(e)},styleDocument(e){t.flushCustomStyles(),t.styleDocument(e)},getComputedStyleValue:(t,e)=>Object(x.b)(t,e),flushCustomStyles(){t.flushCustomStyles()},nativeCss:n.a,nativeShadow:n.b},e&&(window.ShadyCSS.CustomStyleInterface=e)}window.ShadyCSS.ApplyShim=V;var j=i(25),B=i(34),U=i(36),F=i(9);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const q=/:host\(:dir\((ltr|rtl)\)\)/g,$=':host([dir="$1"])',Z=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,G=':host([dir="$2"]) $1',X=[];let K=null,W="";function Y(){W=document.documentElement.getAttribute("dir")}function J(t){if(!t.__autoDirOptOut){t.setAttribute("dir",W)}}function Q(){Y(),W=document.documentElement.getAttribute("dir");for(let t=0;t<X.length;t++)J(X[t])}const tt=Object(F.a)(t=>{K||(Y(),(K=new MutationObserver(Q)).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const e=Object(U.a)(t);class i extends e{static _processStyleText(t,e){return t=super._processStyleText(t,e),t=this._replaceDirInCssText(t)}static _replaceDirInCssText(t){let e=t;return t!==(e=(e=e.replace(q,$)).replace(Z,G))&&(this.__activateDir=!0),e}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){e.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(K&&K.takeRecords().length&&Q(),X.push(this),J(this))}disconnectedCallback(){if(e.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const t=X.indexOf(this);t>-1&&X.splice(t,1)}}}return i.__activateDir=!1,i});i(45),i(134);var et=i(1),it=i(33),nt=i(22),st=i(10),rt=i(4);i.d(e,"a",function(){return ot});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let at=window.ShadyCSS;const ot=Object(F.a)(t=>{const e=tt(Object(B.a)(Object(j.a)(t))),i={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class n extends e{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this._applyListeners()}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(t,e,i,n){e!==i&&(super.attributeChangedCallback(t,e,i,n),this.attributeChanged(t,e,i))}attributeChanged(t,e,i){}_initializeProperties(){let t=Object.getPrototypeOf(this);t.hasOwnProperty("__hasRegisterFinished")||(t.__hasRegisterFinished=!0,this._registered()),super._initializeProperties(),this.root=this,this.created()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(t){return this._serializeValue(t)}deserialize(t,e){return this._deserializeValue(t,e)}reflectPropertyToAttribute(t,e,i){this._propertyToAttribute(t,e,i)}serializeValueToAttribute(t,e,i){this._valueToNodeAttribute(i||this,t,e)}extend(t,e){if(!t||!e)return t||e;let i=Object.getOwnPropertyNames(e);for(let n,s=0;s<i.length&&(n=i[s]);s++){let i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}return t}mixin(t,e){for(let i in e)t[i]=e[i];return t}chainObject(t,e){return t&&e&&t!==e&&(t.__proto__=e),t}instanceTemplate(t){let e=this.constructor._contentForTemplate(t);return document.importNode(e,!0)}fire(t,e,i){i=i||{},e=null===e||void 0===e?{}:e;let n=new Event(t,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});return n.detail=e,(i.node||this).dispatchEvent(n),n}listen(t,e,i){t=t||this;let n=this.__boundListeners||(this.__boundListeners=new WeakMap),s=n.get(t);s||(s={},n.set(t,s));let r=e+i;s[r]||(s[r]=this._addMethodEventListenerToNode(t,e,i,this))}unlisten(t,e,i){t=t||this;let n=this.__boundListeners&&this.__boundListeners.get(t),s=e+i,r=n&&n[s];r&&(this._removeEventListenerFromNode(t,e,r),n[s]=null)}setScrollDirection(t,e){Object(it.setTouchAction)(e||this,i[t]||"auto")}$$(t){return this.root.querySelector(t)}get domHost(){let t=this.getRootNode();return t instanceof DocumentFragment?t.host:t}distributeContent(){window.ShadyDOM&&this.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Object(et.a)(this).getEffectiveChildNodes()}queryDistributedElements(t){return Object(et.a)(this).queryDistributedElements(t)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter(function(t){return t.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let t=this.getEffectiveChildNodes(),e=[];for(let i,n=0;i=t[n];n++)i.nodeType!==Node.COMMENT_NODE&&e.push(i.textContent);return e.join("")}queryEffectiveChildren(t){let e=this.queryDistributedElements(t);return e&&e[0]}queryAllEffectiveChildren(t){return this.queryDistributedElements(t)}getContentChildNodes(t){let e=this.root.querySelector(t||"slot");return e?Object(et.a)(e).getDistributedNodes():[]}getContentChildren(t){return this.getContentChildNodes(t).filter(function(t){return t.nodeType===Node.ELEMENT_NODE})}isLightDescendant(t){return this!==t&&this.contains(t)&&this.getRootNode()===t.getRootNode()}isLocalDescendant(t){return this.root===t.getRootNode()}scopeSubtree(t,e){}getComputedStyleValue(t){return at.getComputedStyleValue(this,t)}debounce(t,e,i){return this._debouncers=this._debouncers||{},this._debouncers[t]=nt.Debouncer.debounce(this._debouncers[t],i>0?st.timeOut.after(i):st.microTask,e.bind(this))}isDebouncerActive(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];return!(!e||!e.isActive())}flushDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.flush()}cancelDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.cancel()}async(t,e){return e>0?st.timeOut.run(t.bind(this),e):~st.microTask.run(t.bind(this))}cancelAsync(t){t<0?st.microTask.cancel(~t):st.timeOut.cancel(t)}create(t,e){let i=document.createElement(t);if(e)if(i.setProperties)i.setProperties(e);else for(let t in e)i[t]=e[t];return i}elementMatches(t,e){return Object(et.c)(e||this,t)}toggleAttribute(t,e,i){i=i||this,1==arguments.length&&(e=!i.hasAttribute(t)),e?i.setAttribute(t,""):i.removeAttribute(t)}toggleClass(t,e,i){i=i||this,1==arguments.length&&(e=!i.classList.contains(t)),e?i.classList.add(t):i.classList.remove(t)}transform(t,e){(e=e||this).style.webkitTransform=t,e.style.transform=t}translate3d(t,e,i,n){n=n||this,this.transform("translate3d("+t+","+e+","+i+")",n)}arrayDelete(t,e){let i;if(Array.isArray(t)){if((i=t.indexOf(e))>=0)return t.splice(i,1)}else{if((i=Object(rt.a)(this,t).indexOf(e))>=0)return this.splice(t,i,1)}return null}_logger(t,e){switch(Array.isArray(e)&&1===e.length&&Array.isArray(e[0])&&(e=e[0]),t){case"log":case"warn":case"error":console[t](...e)}}_log(...t){this._logger("log",t)}_warn(...t){this._logger("warn",t)}_error(...t){this._logger("error",t)}_logf(t,...e){return["[%s::%s]",this.is,t,...e]}}return n.prototype.is="",n})},function(t,e,i){"use strict";i.r(e);var n=i(37),s=i.n(n),r=i(87),a=i.n(r),o=i(86),l=i.n(o),h=i(85),c=i.n(h),p=i(84),u=i.n(p);e.default=new class{constructor(){this.engines={apa:new s.a.Engine(this,l.a),mla:new s.a.Engine(this,c.a),chicago:new s.a.Engine(this,u.a)},this.data={}}retrieveLocale(){return a.a}retrieveItem(t){return this.data[t]}render(t,e){if(!this.engines[e])throw new Error("Invalid citation format: "+e);this.data[t.id]=t;let i=this.engines[e];return i.updateItems([t.id]),i.makeBibliography()[1].join("\n")}esRecordToCslJson(t){let e=new Date,i={id:t["@id"],URL:window.location.href,title:t.name,type:"webpage",publisher:t.publisher,source:window.location.host,accessed:{"date-parts":[[e.getFullYear(),e.getMonth()+1,e.getDate()]]}};return t.collectionName&&(i["collection-title"]=t.collectionName),t.creator&&(i.author=[{family:t.creator}]),t.datePublished?i.issued={raw:t.datePublished}:t.yearPublished&&(i.issued={raw:t.yearPublished+""}),i}renderEsRecord(t,e){return this.render(this.esRecordToCslJson(t),e)}}},function(t,e,i){"use strict";i.d(e,"c",function(){return p}),i.d(e,"b",function(){return u}),i.d(e,"a",function(){return m});var n=i(15);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const s="link[rel=import][type~=css]",r="include",a="shady-unscoped";function o(t){const e=customElements.get("dom-module");return e?e.import(t):null}function l(t){let e=t.body?t.body:t;const i=Object(n.b)(e.textContent,t.baseURI),s=document.createElement("style");return s.textContent=i,s}function h(t){const e=t.trim().split(/\s+/),i=[];for(let t=0;t<e.length;t++)i.push(...c(e[t]));return i}function c(t){const e=o(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){const t=[];t.push(...d(e));const i=e.querySelector("template");i&&t.push(...p(i,e.assetpath)),e._styles=t}return e._styles}function p(t,e){if(!t._styles){const i=[],s=t.content.querySelectorAll("style");for(let t=0;t<s.length;t++){let a=s[t],o=a.getAttribute(r);o&&i.push(...h(o).filter(function(t,e,i){return i.indexOf(t)===e})),e&&(a.textContent=Object(n.b)(a.textContent,e)),i.push(a)}t._styles=i}return t._styles}function u(t){let e=o(t);return e?d(e):[]}function d(t){const e=[],i=t.querySelectorAll(s);for(let t=0;t<i.length;t++){let n=i[t];if(n.import){const t=n.import,i=n.hasAttribute(a);if(i&&!t._unscopedStyle){const e=l(t);e.setAttribute(a,""),t._unscopedStyle=e}else t._style||(t._style=l(t));e.push(i?t._unscopedStyle:t._style)}}return e}function m(t){let e=t.trim().split(/\s+/),i="";for(let t=0;t<e.length;t++)i+=f(e[t]);return i}function f(t){let e=o(t);if(e&&void 0===e._cssText){let t=g(e),i=e.querySelector("template");i&&(t+=function(t,e){let i="";const n=p(t,e);for(let t=0;t<n.length;t++){let e=n[t];e.parentNode&&e.parentNode.removeChild(e),i+=e.textContent}return i}(i,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}function g(t){let e="",i=d(t);for(let t=0;t<i.length;t++)e+=i[t].textContent;return e}},function(t,e){t.exports=new class{getYearFromDate(t){return t&&(t=(t+="").match(/^(\d{4})/))?t[0]:""}}},function(t){t.exports={"http://rightsstatements.org/vocab/InC/1.0/":{text:"IN COPYRIGHT",icon:"InC"},"http://rightsstatements.org/vocab/InC-OW-EU/1.0/":{text:"IN COPYRIGHT - EU ORPHAN WORK",icon:"InC"},"http://rightsstatements.org/vocab/InC-EDU/1.0/":{text:"IN COPYRIGHT - EDUCATIONAL USE PERMITTED",icon:"InC"},"http://rightsstatements.org/vocab/InC-NC/1.0/":{text:"IN COPYRIGHT - NON-COMMERCIAL USE PERMITTED",icon:"InC"},"http://rightsstatements.org/vocab/InC-RUU/1.0/":{text:"IN COPYRIGHT - RIGHTS-HOLDER(S) UNLOCATABLE OR UNIDENTIFIABLE",icon:"InC"},"http://rightsstatements.org/vocab/NoC-NC/1.0/":{text:"NO COPYRIGHT - NON-COMMERCIAL USE ONLY",icon:"NoC"},"http://rightsstatements.org/vocab/NoC-OKLR/1.0/":{text:"NO COPYRIGHT - OTHER KNOWN LEGAL RESTRICTIONS",icon:"NoC"},"http://rightsstatements.org/vocab/NoC-US/1.0/":{text:"NO COPYRIGHT - UNITED STATES",icon:"NoC"},"http://rightsstatements.org/vocab/CNE/1.0/":{text:"COPYRIGHT NOT EVALUATED",icon:"Other"},"http://rightsstatements.org/vocab/UND/1.0/":{text:"COPYRIGHT UNDETERMINED",icon:"Other"},"http://rightsstatements.org/vocab/NKC/1.0/":{text:"NO KNOWN COPYRIGHT",icon:"Other"}}},function(t,e,i){"use strict";i.d(e,"a",function(){return h});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function n(t,e,i){return{index:t,removed:e,addedCount:i}}const s=0,r=1,a=2,o=3;function l(t,e,i,l,h,p){let u,d=0,m=0,f=Math.min(i-e,p-h);if(0==e&&0==h&&(d=function(t,e,i){for(let n=0;n<i;n++)if(!c(t[n],e[n]))return n;return i}(t,l,f)),i==t.length&&p==l.length&&(m=function(t,e,i){let n=t.length,s=e.length,r=0;for(;r<i&&c(t[--n],e[--s]);)r++;return r}(t,l,f-d)),h+=d,p-=m,(i-=m)-(e+=d)==0&&p-h==0)return[];if(e==i){for(u=n(e,[],0);h<p;)u.removed.push(l[h++]);return[u]}if(h==p)return[n(e,[],i-e)];let g=function(t){let e=t.length-1,i=t[0].length-1,n=t[e][i],l=[];for(;e>0||i>0;){if(0==e){l.push(a),i--;continue}if(0==i){l.push(o),e--;continue}let h,c=t[e-1][i-1],p=t[e-1][i],u=t[e][i-1];(h=p<u?p<c?p:c:u<c?u:c)==c?(c==n?l.push(s):(l.push(r),n=c),e--,i--):h==p?(l.push(o),e--,n=p):(l.push(a),i--,n=u)}return l.reverse(),l}(function(t,e,i,n,s,r){let a=r-s+1,o=i-e+1,l=new Array(a);for(let t=0;t<a;t++)l[t]=new Array(o),l[t][0]=t;for(let t=0;t<o;t++)l[0][t]=t;for(let i=1;i<a;i++)for(let r=1;r<o;r++)if(c(t[e+r-1],n[s+i-1]))l[i][r]=l[i-1][r-1];else{let t=l[i-1][r]+1,e=l[i][r-1]+1;l[i][r]=t<e?t:e}return l}(t,e,i,l,h,p));u=void 0;let v=[],_=e,b=h;for(let t=0;t<g.length;t++)switch(g[t]){case s:u&&(v.push(u),u=void 0),_++,b++;break;case r:u||(u=n(_,[],0)),u.addedCount++,_++,u.removed.push(l[b]),b++;break;case a:u||(u=n(_,[],0)),u.addedCount++,_++;break;case o:u||(u=n(_,[],0)),u.removed.push(l[b]),b++}return u&&v.push(u),v}function h(t,e){return l(t,0,t.length,e,0,e.length)}function c(t,e){return t===e}},function(t,e,i){"use strict";i.r(e),i.d(e,"gestures",function(){return A}),i.d(e,"recognizers",function(){return z}),i.d(e,"deepTargetFind",function(){return I}),i.d(e,"addListener",function(){return M}),i.d(e,"removeListener",function(){return P}),i.d(e,"register",function(){return N}),i.d(e,"setTouchAction",function(){return R}),i.d(e,"prevent",function(){return H}),i.d(e,"resetMouseCanceller",function(){return V}),i.d(e,"findOriginalTarget",function(){return j}),i.d(e,"add",function(){return B}),i.d(e,"remove",function(){return U});i(7);var n=i(10),s=i(22),r=i(16);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a="string"==typeof document.head.style.touchAction,o="__polymerGestures",l="__polymerGesturesHandled",h="__polymerGesturesTouchAction",c=2500,p=["mousedown","mousemove","mouseup","click"],u=[0,1,4,2],d=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function m(t){return p.indexOf(t)>-1}let f=!1;function g(t){if(!m(t)&&"touchend"!==t)return a&&f&&r.a?{passive:!0}:void 0}!function(){try{let t=Object.defineProperty({},"passive",{get(){f=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();let v=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),_=function(){};_.prototype.reset,_.prototype.mousedown,_.prototype.mousemove,_.prototype.mouseup,_.prototype.touchstart,_.prototype.touchmove,_.prototype.touchend,_.prototype.click;const b=[],y={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0};function x(t){let e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];let i=t.getRootNode();if(t.id){let n=i.querySelectorAll(`label[for = ${t.id}]`);for(let t=0;t<n.length;t++)e.push(n[t])}}return e}let w=function(t){let e=t.sourceCapabilities;var i;if((!e||e.firesTouchEvents)&&(t[l]={skip:!0},"click"===t.type)){let e=!1,n=t.composedPath&&t.composedPath();if(n)for(let t=0;t<n.length;t++){if(n[t].nodeType===Node.ELEMENT_NODE)if("label"===n[t].localName)b.push(n[t]);else if(i=n[t],y[i.localName]){let i=x(n[t]);for(let t=0;t<i.length;t++)e=e||b.indexOf(i[t])>-1}if(n[t]===T.mouse.target)return}if(e)return;t.preventDefault(),t.stopPropagation()}};function S(t){let e=v?["click"]:p;for(let i,n=0;n<e.length;n++)i=e[n],t?(b.length=0,document.addEventListener(i,w,!0)):document.removeEventListener(i,w,!0)}function k(t){let e=t.type;if(!m(e))return!1;if("mousemove"===e){let e=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!d&&(e=u[t.which]||0),Boolean(1&e)}return 0===(void 0===t.button?0:t.button)}let T={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function E(t,e,i){t.movefn=e,t.upfn=i,document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}function C(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}document.addEventListener("touchend",function(t){T.mouse.mouseIgnoreJob||S(!0),T.mouse.target=t.composedPath()[0],T.mouse.mouseIgnoreJob=s.Debouncer.debounce(T.mouse.mouseIgnoreJob,n.timeOut.after(c),function(){S(),T.mouse.target=null,T.mouse.mouseIgnoreJob=null})},!!f&&{passive:!0});const A={},z=[];function I(t,e){let i=document.elementFromPoint(t,e),n=i;for(;n&&n.shadowRoot&&!window.ShadyDOM;){if(n===(n=n.shadowRoot.elementFromPoint(t,e)))break;n&&(i=n)}return i}function L(t){if(t.composedPath){const e=t.composedPath();return e.length>0?e[0]:t.target}return t.target}function O(t){let e,i=t.type,n=t.currentTarget[o];if(!n)return;let s=n[i];if(s){if(!t[l]&&(t[l]={},"touch"===i.slice(0,5))){let e=(t=t).changedTouches[0];if("touchstart"===i&&1===t.touches.length&&(T.touch.id=e.identifier),T.touch.id!==e.identifier)return;a||"touchstart"!==i&&"touchmove"!==i||function(t){let e=t.changedTouches[0],i=t.type;if("touchstart"===i)T.touch.x=e.clientX,T.touch.y=e.clientY,T.touch.scrollDecided=!1;else if("touchmove"===i){if(T.touch.scrollDecided)return;T.touch.scrollDecided=!0;let i=function(t){let e="auto",i=t.composedPath&&t.composedPath();if(i)for(let t,n=0;n<i.length;n++)if((t=i[n])[h]){e=t[h];break}return e}(t),n=!1,s=Math.abs(T.touch.x-e.clientX),r=Math.abs(T.touch.y-e.clientY);t.cancelable&&("none"===i?n=!0:"pan-x"===i?n=r>s:"pan-y"===i&&(n=s>r)),n?t.preventDefault():n("track")}}(t)}if(!(e=t[l]).skip){for(let i,n=0;n<z.length;n++)s[(i=z[n]).name]&&!e[i.name]&&i.flow&&i.flow.start.indexOf(t.type)>-1&&i.reset&&i.reset();for(let n,r=0;r<z.length;r++)s[(n=z[r]).name]&&!e[n.name]&&(e[n.name]=!0,n[i](t))}}}function M(t,e,i){return!!A[e]&&(function(t,e,i){let n=A[e],s=n.deps,r=n.name,a=t[o];a||(t[o]=a={});for(let e,i,n=0;n<s.length;n++)e=s[n],v&&m(e)&&"click"!==e||((i=a[e])||(a[e]=i={_count:0}),0===i._count&&t.addEventListener(e,O,g(e)),i[r]=(i[r]||0)+1,i._count=(i._count||0)+1);t.addEventListener(e,i),n.touchAction&&R(t,n.touchAction)}(t,e,i),!0)}function P(t,e,i){return!!A[e]&&(function(t,e,i){let n=A[e],s=n.deps,r=n.name,a=t[o];if(a)for(let e,i,n=0;n<s.length;n++)e=s[n],(i=a[e])&&i[r]&&(i[r]=(i[r]||1)-1,i._count=(i._count||1)-1,0===i._count&&t.removeEventListener(e,O,g(e)));t.removeEventListener(e,i)}(t,e,i),!0)}function N(t){z.push(t);for(let e=0;e<t.emits.length;e++)A[t.emits[e]]=t}function R(t,e){a&&n.microTask.run(()=>{t.style.touchAction=e}),t[h]=e}function D(t,e,i){let n=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(n.detail=i,t.dispatchEvent(n),n.defaultPrevented){let t=i.preventer||i.sourceEvent;t&&t.preventDefault&&t.preventDefault()}}function H(t){let e=function(t){for(let e,i=0;i<z.length;i++){e=z[i];for(let i,n=0;n<e.emits.length;n++)if((i=e.emits[n])===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function V(){T.mouse.mouseIgnoreJob&&T.mouse.mouseIgnoreJob.flush()}N({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){C(this.info)},mousedown:function(t){if(!k(t))return;let e=L(t),i=this;E(this.info,function(t){k(t)||(i._fire("up",e,t),C(i.info))},function(t){k(t)&&i._fire("up",e,t),C(i.info)}),this._fire("down",e,t)},touchstart:function(t){this._fire("down",L(t),t.changedTouches[0],t)},touchend:function(t){this._fire("up",L(t),t.changedTouches[0],t)},_fire:function(t,e,i,n){D(e,t,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:n,prevent:function(t){return H(t)}})}}),N({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,C(this.info)},hasMovedEnough:function(t,e){if(this.info.prevent)return!1;if(this.info.started)return!0;let i=Math.abs(this.info.x-t),n=Math.abs(this.info.y-e);return i>=5||n>=5},mousedown:function(t){if(!k(t))return;let e=L(t),i=this,n=function(t){let n=t.clientX,s=t.clientY;i.hasMovedEnough(n,s)&&(i.info.state=i.info.started?"mouseup"===t.type?"end":"track":"start","start"===i.info.state&&H("tap"),i.info.addMove({x:n,y:s}),k(t)||(i.info.state="end",C(i.info)),i._fire(e,t),i.info.started=!0)};E(this.info,n,function(t){i.info.started&&n(t),C(i.info)}),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){let e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){let e=L(t),i=t.changedTouches[0],n=i.clientX,s=i.clientY;this.hasMovedEnough(n,s)&&("start"===this.info.state&&H("tap"),this.info.addMove({x:n,y:s}),this._fire(e,i),this.info.state="track",this.info.started=!0)},touchend:function(t){let e=L(t),i=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),this._fire(e,i,t))},_fire:function(t,e){let i,n=this.info.moves[this.info.moves.length-2],s=this.info.moves[this.info.moves.length-1],r=s.x-this.info.x,a=s.y-this.info.y,o=0;n&&(i=s.x-n.x,o=s.y-n.y),D(t,"track",{state:this.info.state,x:e.clientX,y:e.clientY,dx:r,dy:a,ddx:i,ddy:o,sourceEvent:e,hover:function(){return I(e.clientX,e.clientY)}})}}),N({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(t){this.info.x=t.clientX,this.info.y=t.clientY},mousedown:function(t){k(t)&&this.save(t)},click:function(t){k(t)&&this.forward(t)},touchstart:function(t){this.save(t.changedTouches[0],t)},touchend:function(t){this.forward(t.changedTouches[0],t)},forward:function(t,e){let i=Math.abs(t.clientX-this.info.x),n=Math.abs(t.clientY-this.info.y),s=L(e||t);s&&!s.disabled&&(isNaN(i)||isNaN(n)||i<=25&&n<=25||function(t){if("click"===t.type){if(0===t.detail)return!0;let e=L(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let i=e.getBoundingClientRect(),n=t.pageX,s=t.pageY;return!(n>=i.left&&n<=i.right&&s>=i.top&&s<=i.bottom)}return!1}(t))&&(this.info.prevent||D(s,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:e}))}});const j=L,B=M,U=P},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i(7);var n=i(9);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s=i(33),r=Object(n.a)(t=>{return class extends t{_addEventListenerToNode(t,e,i){s.addListener(t,e,i)||super._addEventListenerToNode(t,e,i)}_removeEventListenerFromNode(t,e,i){s.removeListener(t,e,i)||super._removeEventListenerFromNode(t,e,i)}}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r});i(7);var n=i(9);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s=i(10).microTask,r=Object(n.a)(t=>{return class extends t{static createProperties(t){const e=this.prototype;for(let i in t)i in e||e._createPropertyAccessor(i)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}_addPropertyToAttributeMap(t){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){const e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}_definePropertyAccessor(t,e){Object.defineProperty(this,t,{get(){return this._getProperty(t)},set:e?function(){}:function(e){this._setProperty(t,e)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,e,i){let n=this.__data[t],s=this._shouldPropertyChange(t,e,n);return s&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||t in this.__dataOld||(this.__dataOld[t]=n),this.__data[t]=e,this.__dataPending[t]=e),s}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,s.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const t=this.__data,e=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(t,e,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,i))}_shouldPropertiesChange(t,e,i){return Boolean(e)}_propertiesChanged(t,e,i){}_shouldPropertyChange(t,e,i){return i!==e&&(i==i||e==e)}attributeChangedCallback(t,e,i,n){e!==i&&this._attributeToProperty(t,i),super.attributeChangedCallback&&super.attributeChangedCallback(t,e,i,n)}_attributeToProperty(t,e,i){if(!this.__serializing){const n=this.__dataAttributes,s=n&&n[t]||t;this[s]=this._deserializeValue(e,i||this.constructor.typeForProperty(s))}}_propertyToAttribute(t,e,i){this.__serializing=!0,i=arguments.length<3?this[t]:i,this._valueToNodeAttribute(this,i,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,e,i){const n=this._serializeValue(e);void 0===n?t.removeAttribute(i):t.setAttribute(i,n)}_serializeValue(t){switch(typeof t){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}_deserializeValue(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}})},function(t,e,i){"use strict";i.d(e,"a",function(){return h});i(7);var n=i(9),s=i(17),r=i(35);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a=s;const o={};let l=HTMLElement.prototype;for(;l;){let t=Object.getOwnPropertyNames(l);for(let e=0;e<t.length;e++)o[t[e]]=!0;l=Object.getPrototypeOf(l)}const h=Object(n.a)(t=>{const e=Object(r.a)(t);return class extends e{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let e=0;e<t.length;e++)this.prototype._createPropertyAccessor(a.dashToCamelCase(t[e]))}static attributeNameForProperty(t){return a.camelToDashCase(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let e in t)this._setProperty(e,t[e])}_ensureAttribute(t,e){const i=this;i.hasAttribute(t)||this._valueToNodeAttribute(i,e,t)}_serializeValue(t){switch(typeof t){case"object":if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}default:return super._serializeValue(t)}}_deserializeValue(t,e){let i;switch(e){case Object:try{i=JSON.parse(t)}catch(e){i=t}break;case Array:try{i=JSON.parse(t)}catch(e){i=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${t}`)}break;case Date:i=isNaN(t)?String(t):Number(t),i=new Date(i);break;default:i=super._deserializeValue(t,e)}return i}_definePropertyAccessor(t,e){!function(t,e){if(!o[e]){let i=t[e];void 0!==i&&(t.__data?t._setPendingProperty(e,i):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=i))}}(this,t),super._definePropertyAccessor(t,e)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}})},function(t,e,i){(function(t){var i,n,s,r,a,o,l,h,c,p={PROCESSOR_VERSION:"1.1.206",CONDITION_LEVEL_TOP:1,CONDITION_LEVEL_BOTTOM:2,PLAIN_HYPHEN_REGEX:/(?:[^\\]-|\u2013)/,LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_GROUPED_REGEX:/((?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/g,STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},NestedBraces:[["(","["],[")","]"]],checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),i=1,n=e.length;i<n;i+=2)"("===e[i]?(1==this.depth%2&&(e[i]="["),this.depth+=1):")"===e[i]&&(0==this.depth%2&&(e[i]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"journals",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"number",edition:"number",issue:"number",volume:"number"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(e>-1){var i=t.locator;t.locator=i.slice(0,e);var n=(i=i.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);n&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(n[1]),i=i.slice(n[1].length)),t["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},isDatePart:function(t,e,i){return!!(t.length>e&&t.length<i&&parseInt(t))},isDateString:function(t){if(!t)return!1;var e=t.split("-");return!(e.length>0&&!isDatePart(e[0],3,5))&&(!(e.length>1&&!isDatePart(e[1],0,3))&&(!(e.length>2&&!isDatePart(e[2],0,3))&&!(e.length>3)))},parseNoteFieldHacks:function(t,e,i){if("string"==typeof t.note){for(var n=[],s=t.note.split("\n"),r=0,a=s.length;r<a;r++){n=[];var o=(m=s[r]).match(p.NOTE_FIELDS_REGEXP);if(o){for(var l=m.split(p.NOTE_FIELDS_REGEXP),h=0,c=l.length-1;h<c;h++)n.push(l[h]),n.push(o[h]);n.push(l[l.length-1]);for(h=1,c=n.length;h<c&&(!n[h-1].trim()||!(r>0||h>1)||n[h-1].match(p.NOTE_FIELD_REGEXP));h+=2)n[h]="\n"+n[h].slice(2,-1).trim()+"\n";s[r]=n.join("")}}var u=0,d={};for(r=0,a=(s=s.join("\n").split("\n")).length;r<a;r++){var m,f=(m=s[r]).match(p.NOTE_FIELD_REGEXP);if(m.trim()){if(!f){if(0===r)continue;u=r;break}var g=f[1],v=f[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)t.type=v,s[r]="";else if(p.DATE_VARIABLES.indexOf(g)>-1)i&&(t[g]={raw:v},(!e||e[g]&&isDateString(v))&&(s[r]=""));else if(!t[g]){if(p.NAME_VARIABLES.indexOf(g)>-1){d[g]||(d[g]=[]);var _=v.split(/\s*\|\|\s*/);if(1===_.length)d[g].push({literal:_[0]});else if(2===_.length){var b={family:_[0],given:_[1]};p.parseParticles(b),d[g].push(b)}}else t[g]=v;e&&!e[g]||(s[r]="")}}}for(var g in d)t[g]=d[g];if(e){s[u].trim()&&(s[u]="\n"+s[u]);for(r=u-1;r>-1;r--)s[r].trim()||(s=s.slice(0,r).concat(s.slice(r+1)))}t.note=s.join("\n").trim()}},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,ONLY_FIRST:1,ALWAYS:2,ONLY_LAST:3,FINISH:1,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,MARK_TRAILING_NAMES:!0,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],MINIMAL_NAME_FIELDS:["literal","family"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,COLLAPSE_VALUES:["citation-number","year","year-suffix"],DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DECORABLE_NAME_PARTS:["given","family","suffix"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","editor","translator","contributor","collection-editor","composer","container-author","director","editorial-director","interviewer","original-author","recipient"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","edition","page","issue","locator","number","number-of-pages","number-of-volumes","volume","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","container","original-date","publication-date","original-date","available-date","submitted"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub"],i={},n=0,s=e.length;n<s;n++)i[e[n]]=t+"title"+("title"===e[n]?"":"-"+e[n]);return i},TAG_USEALL:function(t){var e,i,n,s;for(e=[""],i=t.indexOf("<"),n=t.indexOf(">");i>-1&&n>-1;)s=i>n?i+1:n+1,i<n&&-1===t.slice(i+1,n).indexOf("<")?(e[e.length-1]+=t.slice(0,i),e.push(t.slice(i,n+1)),e.push(""),t=t.slice(s)):(e[e.length-1]+=t.slice(0,n+1),t=t.slice(s)),i=t.indexOf("<"),n=t.indexOf(">");return e[e.length-1]+=t,e},demoteNoiseWords:function(t,e,i){var n=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&i){(e=e.split(/\s+/)).reverse();for(var s=[],r=e.length-1;r>-1&&n.indexOf(e[r].toLowerCase())>-1;r+=-1)s.push(e.pop());e.reverse();var a=e.join(" "),o=s.join(" ");"drop"!==i&&o?"demote"===i&&(e=[a,o].join(", ")):e=a}return e},extractTitleAndSubtitle:function(t){for(var e=["","container-"],i=0,n=e.length;i<n;i++){var s=e[i],r=p.TITLE_FIELD_SPLITS(s),a=[!1];if(t.multi)for(var o in t.multi._keys[r.short])a.push(o);var l=0;for(a.length;l<n;l++){var h={};if((o=a[l])?(t.multi._keys[r.title]&&(h[r.title]=t.multi._keys[r.title][o]),t.multi._keys[r.short]&&(h[r.short]=t.multi._keys[r.short][o])):(h[r.title]=t[r.title],h[r.short]=t[r.short]),h[r.main]=h[r.title],h[r.sub]=!1,h[r.title]&&h[r.short]){var c=h[r.short],u=c.length;h[r.title].slice(0,u)===c&&h[r.title].slice(u).match(/^\s*:/)&&(h[r.main]=h[r.title].slice(0,u).replace(/\s+$/,""),h[r.sub]=h[r.title].slice(u).replace(/^\s*:\s*/,""))}if(o)for(var d in h)t.multi._keys[d]||(t.multi._keys[d]={}),t.multi._keys[d][o]=h[d];else for(var d in h)t[d]=h[d]}}},titlecaseSentenceOrNormal:function(t,e,i,n,s){var r=p.TITLE_FIELD_SPLITS(i),a={};if(n&&e.multi?(e.multi._keys[r.title]&&(a[r.title]=e.multi._keys[r.title][n]),e.multi._keys[r.main]&&(a[r.main]=e.multi._keys[r.main][n]),e.multi._keys[r.sub]&&(a[r.sub]=e.multi._keys[r.sub][n])):(a[r.title]=e[r.title],a[r.main]=e[r.main],a[r.sub]=e[r.sub]),a[r.main]&&a[r.sub]){var o=a[r.main],l=a[r.sub];return s?(o=p.Output.Formatters.sentence(t,o),l=p.Output.Formatters.sentence(t,l)):l=p.Output.Formatters["capitalize-first"](t,l),[o,l].join(a[r.title].slice(o.length,-1*l.length))}return s?p.Output.Formatters.sentence(t,a[r.title]):a[r.title]},getSafeEscape:function(t){if(["bibliography","citation"].indexOf(t.tmp.area)>-1){var e=[];return t.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===t.opt.mode&&e.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),e.length?function(i){for(var n=0,s=e.length;n<s;n+=1)i=e[n](i);return p.Output.Formats[t.opt.mode].text_escape(i)}:p.Output.Formats[t.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","et","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],CREATORS:["author","editor","contributor","translator","recipient","interviewer","composer","original-author","container-author","collection-editor"],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukranian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"ª":"a","²":"2","³":"3","¹":"1","º":"o","ʰ":"h","ʱ":"ɦ","ʲ":"j","ʳ":"r","ʴ":"ɹ","ʵ":"ɻ","ʶ":"ʁ","ʷ":"w","ʸ":"y","ˠ":"ɣ","ˡ":"l","ˢ":"s","ˣ":"x","ˤ":"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")","ⁿ":"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人","ˀ":"ʔ","ˁ":"ʕ","ۥ":"و","ۦ":"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,i){if(t.tmp.group_context.tip.condition){if(t.tmp.group_context.tip.condition.test){var n;if("empty-label"===t.tmp.group_context.tip.condition.test)n=!e;else if("empty-label-no-decor"===t.tmp.group_context.tip.condition.test)n=!e||e.indexOf("%s")>-1;else if("comma-safe"===t.tmp.group_context.tip.condition.test){var s=!e,r=e.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP);t.tmp.just_did_number;n=!!s||!(!r||i)}t.tmp.group_context.tip.force_suppress=!n,t.tmp.group_context.tip.condition.not&&(t.tmp.group_context.tip.force_suppress=!t.tmp.group_context.tip.force_suppress)}}else e.slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1},locale:{},locale_opts:{},locale_dates:{}};if(void 0!==t&&"exports"in t){e.CSL=p}p.TERMINAL_PUNCTUATION_REGEXP=new RegExp("^(["+p.TERMINAL_PUNCTUATION.slice(0,-1).join("")+"])(.*)"),p.CLOSURES=new RegExp(".*[\\]\\)]"),t.exports=p,"undefined"==typeof console?(p.debug=function(t){dump("CSL: "+t+"\n")},p.error=function(t){dump("CSL error: "+t+"\n")}):(p.debug=function(t){console.log("CSL: "+t)},p.error=function(t){console.log("CSL error: "+t)}),t.exports=p,p.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},p.XmlJSON.prototype.clean=function(t){return t},p.XmlJSON.prototype.getStyleId=function(t,e){var i="id";e&&(i="title");for(var n="",s=t.children,r=0,a=s.length;r<a;r++)if("info"===s[r].name)for(var o=s[r].children,l=0,h=o.length;l<h;l++)o[l].name===i&&(n=o[l].children[0]);return n},p.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},p.XmlJSON.prototype.nodename=function(t){return t?t.name:null},p.XmlJSON.prototype.attributes=function(t){var e={};for(var i in t.attrs)e["@"+i]=t.attrs[i];return e},p.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var i=0,n=t.children.length;i<n;i+=1)"string"==typeof t.children[i]&&(e+=t.children[i]);return e},p.XmlJSON.prototype.namespace={},p.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},p.XmlJSON.prototype.getAttributeValue=function(t,e,i){var n="";return i&&(e=i+":"+e),t&&t.attrs&&(n=t.attrs[e]?t.attrs[e]:""),n},p.XmlJSON.prototype.getNodeValue=function(t,e){var i="";if(e)for(var n=0,s=t.children.length;n<s;n+=1)t.children[n].name===e&&(i=t.children[n].children.length?t.children[n]:"");else t&&(i=t);return i&&i.children&&1==i.children.length&&"string"==typeof i.children[0]&&(i=i.children[0]),i},p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,n,s){"@"===n.slice(0,1)&&(n=n.slice(1));for(var r=0,a=t.children.length;r<a;r+=1)t.children[r].name===e&&t.children[r].attrs.name===i&&(t.children[r].attrs[n]=s)},p.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var i,n;for(i=0,n=t.children.length;i<n;i+=1)t.children[i]&&"string"!=typeof t.children[i]&&t.children[i].attrs.name==e&&(t.children=t.children.slice(0,i).concat(t.children.slice(i+1)))},p.XmlJSON.prototype.deleteAttribute=function(t,e){void 0!==t.attrs[e]&&t.attrs.pop(e)},p.XmlJSON.prototype.setAttribute=function(t,e,i){return t.attrs[e]=i,!1},p.XmlJSON.prototype.nodeCopy=function(t,e){if(!e)e={};if("object"==typeof e&&void 0===e.length)for(var i in t)"string"==typeof t[i]?e[i]=t[i]:"object"==typeof t[i]&&(void 0===t[i].length?e[i]=this.nodeCopy(t[i],{}):e[i]=this.nodeCopy(t[i],[]));else for(var n=0,s=t.length;n<s;n+=1)"string"==typeof t[n]?e[n]=t[n]:e[n]=this.nodeCopy(t[n],{});return e},p.XmlJSON.prototype.getNodesByName=function(t,e,i,n){if(!n)n=[];if(!t||!t.children)return n;e===t.name&&(i?i===t.attrs.name&&n.push(t):n.push(t));for(var s=0,r=t.children.length;s<r;s+=1)"object"==typeof t.children[s]&&this.getNodesByName(t.children[s],e,i,n);return n},p.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},p.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},p.XmlJSON.prototype.insertChildNodeAfter=function(t,e,i,n){for(var s=0,r=t.children.length;s<r;s+=1)if(e===t.children[s]){t.children=t.children.slice(0,s).concat([n]).concat(t.children.slice(s+1));break}return t},p.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,i=["publisher","publisher-place"],n=0,s=t.children.length;n<s;n+=1){var r=i.indexOf(t.children[n].attrs.variable);if(!("text"===t.children[n].name&&r>-1)||t.children[n].attrs.prefix||t.children[n].attrs.suffix){e=!1;break}i=i.slice(0,r).concat(i.slice(r+1))}e&&!i.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(n=0,s=t.children.length;n<s;n+=1)"object"==typeof t.children[n]&&this.insertPublisherAndPlace(t.children[n])},p.XmlJSON.prototype.isChildOfSubstitute=function(t){if(t.length>0){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},p.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e||(e=[]),"names"===t.name&&!this.isChildOfSubstitute(e)){for(var i=!0,n=0,s=t.children.length;n<s;n++)if("name"===t.children[n].name){i=!1;break}i&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}e.push(t.name);for(n=0,s=t.children.length;n<s;n+=1)"object"==typeof t.children[n]&&this.addMissingNameNodes(t.children[n],e);e.pop()},p.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},i=-1,n=0,s=t.children.length;n<s;n+=1){if("name"==t.children[n].name){for(var r in t.children[n].attrs)e[r]=t.children[n].attrs[r];e.delimiter=t.children[n].attrs.delimiter,e.and=t.children[n].attrs.and,i=n;for(var a=0,o=t.children[n].children.length;a<o;a+=1)if("family"===t.children[n].children[a].attrs.name)for(var r in t.children[n].children[a].attrs)e[r]=t.children[n].children[a].attrs[r]}if("institution"==t.children[n].name){i=-1;break}}if(i>-1){var l=this.nodeCopy(this.institution);for(n=0,s=p.INSTITUTION_KEYS.length;n<s;n+=1){var h=p.INSTITUTION_KEYS[n];void 0!==e[h]&&(l.children[0].attrs[h]=e[h]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and="text")}t.children=t.children.slice(0,i+1).concat([l]).concat(t.children.slice(i+1))}}for(n=0,s=t.children.length;n<s;n+=1)"string"!=typeof t.children[n]&&this.addInstitutionNodes(t.children[n])},p.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,i=t.children.length;e<i;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},p.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,i=t.children.length;e<i;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},p.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},p.parseXml=function(t){var e={children:[]},i=[e.children];function n(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var i=parseInt(e,10);return String.fromCharCode(i)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var i=parseInt(e,16);return String.fromCharCode(i)})}function s(t,e){var i=RegExp("^.*[\t ]+"+e+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),n=t.match(i);return n?n[1].slice(1,-1):null}function r(t){var e=RegExp("^<([^\t />]+)"),i=t.match(e);return i?i[1]:null}function a(t){var e={};e.name=r(t),e.attrs={};var i=function(t){var e=t.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var i=0,n=e.length;i<n;i++)e[i]=e[i].replace(/=.*/,"");return e}(t);if(i)for(var a=0,o=i.length;a<o;a++){var l={name:i[a],value:s(t,i[a])};e.attrs[l.name]=n(l.value)}return e.children=[],e}function o(t){i.slice(-1)[0].push(t)}function l(t){var e;t.slice(1).indexOf("<")>-1?((e=a(t.slice(0,t.indexOf(">")+1))).children=[function(t){return n(t.match(/^.*>([^<]*)<.*$/)[1])}(t)],o(e)):"/>"===t.slice(-2)?(e=a(t),"term"===r(t)&&e.children.push(""),o(e)):"</"===t.slice(0,2)?i.pop():(o(e=a(t)),function(t){i.push(t.children)}(e))}for(var h=function(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),i=null,n=0,s=e.length;n<s;n++)n>0&&(e[n]="<"+e[n]),n<e.length-1&&(e[n]=e[n]+">"),"number"!=typeof i&&("<style "!==e[n].slice(0,7)&&"<locale "!=e[n].slice(0,8)||(i=n));for(n=(e=e.slice(i)).length-2;n>-1;n--)if(-1===e[n].slice(1).indexOf("<")){var r=e[n].slice(0,5);"/>"!==e[n].slice(-2)&&("<term"===r?"</term"===e[n+1].slice(0,6)&&(e[n]=e[n]+e[n+1],e=e.slice(0,n+1).concat(e.slice(n+2))):["<sing","<mult"].indexOf(r)>-1&&"/>"!==e[n].slice(-2)&&"<"===e[n+1].slice(0,1)&&(e[n]=e[n]+e[n+1],e=e.slice(0,n+1).concat(e.slice(n+2))))}return e}(t),c=0,p=h.length;c<p;c++){l(h[c])}return e.children[0]},t.exports=p,p.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){if("undefined"!=typeof ActiveXObject)return(i=new ActiveXObject("MSXML.DomDocument")).async=!1,i.loadXML(t),i;if("undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest;return e||(e="text/xml"),i.open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),i.overrideMimeType&&i.overrideMimeType(e),i.send(null),i.responseXML}return"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){if(void 0===t.importNode)var i=this._importNode(t,e,!0);else i=t.importNode(e,!0);return i},this._importNode=function(t,e,i){switch(e.nodeType){case 1:var n=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var s=0,r=e.attributes.length;s<r;)n.setAttribute(e.attributes[s].nodeName,e.getAttribute(e.attributes[s++].nodeName));if(i&&e.childNodes&&e.childNodes.length>0)for(s=0,r=e.childNodes.length;s<r;)n.appendChild(this._importNode(t,e.childNodes[s++],i));return n}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var n=e.getElementsByTagName("institution-part");this.institutionpart=n.item(0),this.ns="http://purl.org/net/xbiblio/csl"},p.XmlDOM.prototype.clean=function(t){return t=(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},p.XmlDOM.prototype.getStyleId=function(t,e){var i="",n="id";e&&(n="title");var s=t.getElementsByTagName(n);return s&&s.length&&(s=s.item(0)),s&&(i=s.textContent),i||(i=s.innerText),i||(i=s.innerHTML),i},p.XmlDOM.prototype.children=function(t){var e,i,n,s;if(t){for(s=[],i=0,n=(e=t.childNodes).length;i<n;i+=1)"#text"!=e[i].nodeName&&s.push(e[i]);return s}return[]},p.XmlDOM.prototype.nodename=function(t){return t.nodeName},p.XmlDOM.prototype.attributes=function(t){var e,i,n,s,r;if(e=new Object,t&&this.hasAttributes(t))for(s=0,r=(i=t.attributes).length;s<r;s+=1)e["@"+(n=i[s]).name]=n.value;return e},p.XmlDOM.prototype.content=function(t){return void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.txt},p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},p.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},p.XmlDOM.prototype.getAttributeName=function(t){return t.name},p.XmlDOM.prototype.getAttributeValue=function(t,e,i){var n="";return i&&(e=i+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(n=t.getAttribute(e)),n},p.XmlDOM.prototype.getNodeValue=function(t,e){var i=null;if(e){var n=t.getElementsByTagName(e);n.length>0&&(i=void 0!==n[0].textContent?n[0].textContent:void 0!==n[0].innerText?n[0].innerText:n[0].text)}return null===i&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(i=void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.text),null===i&&(i=t),i},p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,n,s){var r,a,o,l;for("@"===n.slice(0,1)&&(n=n.slice(1)),r=0,a=(o=t.getElementsByTagName(e)).length;r<a;r+=1)(l=o[r]).getAttribute("name")==i&&l.setAttribute(n,s)},p.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var i,n,s,r;for(i=0,n=(r=t.childNodes).length;i<n;i+=1)(s=r[i])&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==e&&t.removeChild(r[i])},p.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},p.XmlDOM.prototype.setAttribute=function(t,e,i){return t.ownerDocument||(t=t.firstChild),["function","unknown"].indexOf(typeof t.setAttribute)>-1&&t.setAttribute(e,i),!1},p.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},p.XmlDOM.prototype.getNodesByName=function(t,e,i){var n,s,r,a,o;for(n=[],a=0,o=(s=t.getElementsByTagName(e)).length;a<o;a+=1)r=s.item(a),(!i||this.hasAttributes(r)&&r.getAttribute("name")==i)&&n.push(r);return n},p.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},p.XmlDOM.prototype.makeXml=function(t){return t||(t="<docco><bogus/></docco>"),t=t.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},p.XmlDOM.prototype.insertChildNodeAfter=function(t,e,i,n){var s;return s=this.importNode(e.ownerDocument,n),t.replaceChild(s,e),t},p.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),i=0,n=e.length;i<n;i+=1){for(var s=e.item(i),r=[],a=0,o=s.childNodes.length;a<o;a+=1)1!==s.childNodes.item(a).nodeType&&r.push(a);if(s.childNodes.length-r.length==2){var l=[];for(a=0,o=2;a<o;a+=1)if(!(r.indexOf(a)>-1)){for(var h=s.childNodes.item(a),c=[],p=0,u=h.childNodes.length;p<u;p+=1)1!==h.childNodes.item(p).nodeType&&c.push(p);if(h.childNodes.length-c.length==0&&(l.push(h.getAttribute("variable")),h.getAttribute("suffix")||h.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},p.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},p.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),i=0,n=e.length;i<n;i+=1){var s=e.item(i),r=s.getElementsByTagName("name");if(!(r&&0!==r.length||this.isChildOfSubstitute(s))){var a=s.ownerDocument.createElement("name");s.appendChild(a)}}},p.XmlDOM.prototype.addInstitutionNodes=function(t){var e,i,n,s,r,a,o;for(a=0,o=(e=t.getElementsByTagName("names")).length;a<o;a+=1)if(0!=(s=(i=e.item(a)).getElementsByTagName("name")).length&&0==i.getElementsByTagName("institution").length){n=this.importNode(t.ownerDocument,this.institution),theinstitutionpart=n.getElementsByTagName("institution-part").item(0),r=s.item(0),i.insertBefore(n,r.nextSibling);for(var l=0,h=p.INSTITUTION_KEYS.length;l<h;l+=1){var c=p.INSTITUTION_KEYS[l];(f=r.getAttribute(c))&&theinstitutionpart.setAttribute(c,f)}var u=r.getElementsByTagName("name-part");for(l=0,h=u.length;l<h;l+=1)if("family"===u[l].getAttribute("name"))for(var d=0,m=p.INSTITUTION_KEYS.length;d<m;d+=1){var f;c=p.INSTITUTION_KEYS[d];(f=u[l].getAttribute(c))&&theinstitutionpart.setAttribute(c,f)}}},p.XmlDOM.prototype.flagDateMacros=function(t){var e,i,n;for(nodes=t.getElementsByTagName("macro"),e=0,i=nodes.length;e<i;e+=1)(n=nodes.item(e)).getElementsByTagName("date").length&&n.setAttribute("macro-has-date","true")},t.exports=p,t.exports=p,p.setupXml=function(t){var e={},i=null;if(void 0!==t?"string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?p.parseXml(t):JSON.parse(t),i=new p.XmlJSON(e)):i=void 0!==t.getAttribute?new p.XmlDOM(t):void 0!==t.toXMLString?new p.XmlE4X(t):new p.XmlJSON(t):p.error("unable to parse XML input"),!i)throw"citeproc-js error: unable to parse CSL style or locale object";return i},t.exports=p,p.getSortCompare=function(t){if(p.stringCompare)return p.stringCompare;var e,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};t||(t="en-US");var n=function(t){return t.replace(/^[\[\]\'\"]*/g,"")},s=!!(e=function(e,n){return e.toLocaleLowerCase().localeCompare(n.toLocaleLowerCase(),t,i)})("[x","x")&&function(t,i){return e(n(t),n(i))};return function(t,i){return s?s(t,i):e(t,i)}},t.exports=p,p.ambigConfigDiff=function(t,e){var i,n,s,r;if(t.names.length!==e.names.length)return 1;for(i=0,n=t.names.length;i<n;i+=1){if(t.names[i]!==e.names[i])return 1;for(s=0,r=t.givens[i];s<r;s+=1)if(t.givens[i][s]!==e.givens[i][s])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},p.cloneAmbigConfig=function(t,e,i){var n,s,r,a,o,l={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(n=0,s=t.names.length;n<s;n+=1)o=t.names[n],l.names[n]=o;for(n=0,s=t.givens.length;n<s;n+=1){for(o=[],r=0,a=t.givens[n].length;r<a;r+=1)o.push(t.givens[n][r]);l.givens.push(o)}return e?(l.year_suffix=e.year_suffix,l.disambiguate=e.disambiguate):(l.year_suffix=t.year_suffix,l.disambiguate=t.disambiguate),l},p.getAmbigConfig=function(){var t;return(t=this.tmp.disambig_request)||(t=this.tmp.disambig_settings),p.cloneAmbigConfig(t)},p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},p.getMinVal=function(){return this.tmp["et-al-min"]},t.exports=p,p.tokenExec=function(t,e,i){var n,s;n=t.next,s=!1;t.test&&(n=function(e){return e?(this.tmp.jump.replace("succeed"),t.succeed):(this.tmp.jump.replace("fail"),t.fail)}.call(this,t.test(e,i)));for(var r=0,a=t.execs.length;r<a;r++)(s=t.execs[r].call(t,this,e,i))&&(n=s);return n},p.expandMacro=function(t,e){var i,n,s;i=t.postponed_macro,t=new p.Token("group",p.START);var r=!1,a=!1;if((n=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i)).length&&(a=this.cslXml.getAttributeValue(n[0],"cslid"),r=this.cslXml.getAttributeValue(n[0],"macro-has-date")),r&&(i=i+"@"+this.build.current_default_locale,h=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(h)),this.build.macro_stack.indexOf(i)>-1)throw'CSL processor error: call to macro "'+i+'" would cause an infinite loop';if(this.build.macro_stack.push(i),t.cslid=a,p.MODULE_MACROS[i]&&(t.juris=i,this.opt.update_mode=p.POSITION),p.Node.group.build.call(t,this,e,!0),!this.cslXml.getNodeValue(n))throw'CSL style error: undefined macro "'+i+'"';var o,l=p.getMacroTarget.call(this,i);if(l&&(p.buildMacro.call(this,l,n),p.configureMacro.call(this,l)),!this.build.extension){var h=(o=i,function(t,e,i){for(var n=0;n<t.macros[o].length;)n=p.tokenExec.call(t,t.macros[o][n],e,i)}),c=new p.Token("text",p.SINGLETON);c.execs.push(h),e.push(c)}s=new p.Token("group",p.END),r&&(h=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},s.execs.push(h)),t.juris&&(s.juris=i),p.Node.group.build.call(s,this,e,!0),this.build.macro_stack.pop()},p.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},p.buildMacro=function(t,e){p.makeBuilder(this,t)(void 0===e.length?e:e[0])},p.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},p.XmlToToken=function(t,e,i,n){var s,r,a,o,l,h;if(s=t.cslXml.nodename(this),!t.build.skip||t.build.skip===s)if(s){if(!p.Node[t.cslXml.nodename(this)])throw'Undefined node name "'+s+'".';if([],a=t.cslXml.attributes(this),o=p.setDecorations.call(this,t,a),l=new p.Token(s,e),e!==p.END||"if"===s||"else-if"===s||"layout"===s){for(var c in a)if(a.hasOwnProperty(c)){if(e===p.END&&"@language"!==c&&"@locale"!==c)continue;if(a.hasOwnProperty(c))if(p.Attributes[c])try{p.Attributes[c].call(l,t,""+a[c])}catch(t){throw p.error(t),"CSL processor error, "+c+" attribute: "+t}else p.debug('warning: undefined attribute "'+c+'" in style')}l.decorations=o,p.DATE_VARIABLES.indexOf(a["@variable"])>-1&&n.push(l.variables)}else e===p.END&&a["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(a["@variable"])>-1&&(l.variables=n.pop()));h=i||t[t.build.area].tokens,p.Node[s].build.call(l,t,h,!0)}else(r=t.cslXml.content(this))&&(t.build.text=r)},t.exports=p,p.DateParser=new function(){for(var t=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],e={},i=0,n=t.length;i<n;i++){var s=t[i][0],r=t[i][1];e[s]=r}var a=[];for(i=0,n=t.length;i<n;i++){r=t[i][0];a.push(r)}var o=a.join("|"),l=new RegExp("(?:"+o+")(?:[0-9]+)"),h=new RegExp("(?:"+o+")(?:[0-9]+)","g"),c=/(\u6708|\u5E74)/g,u=/\u65E5/g,d=/\u301c/g,m="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",f=new RegExp(m.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),g=new RegExp(m.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),v=new RegExp(m.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);this.monthAbbrevs=[];for(t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var i=0,n=this.monthSets[t].length;i<n;i++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}this.monthRexes=[];for(t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,i=t.length;e<i;e++){for(var n=null,s=!1,r=3,a={},o=0,l=this.monthAbbrevs.length;o<l;o++){if(a[o]={},o===e){for(var h=0,c=this.monthAbbrevs[e].length;h<c;h++)if(this.monthAbbrevs[e][h]===t[e].slice(0,this.monthAbbrevs[e][h].length)){s=!0;break}}else for(h=0,c=this.monthAbbrevs[o].length;h<c;h++)if(n=this.monthAbbrevs[o][h].length,this.monthAbbrevs[o][h]===t[e].slice(0,n)){for(;this.monthSets[o][h].slice(0,n)===t[e].slice(0,n);){if(n>t[e].length||n>this.monthSets[o][h].length){p.debug("unable to disambiguate month string in date parser: "+t[e]);break}n+=1}r=n,a[o][h]=n}for(var u in a)for(kKey in a[u])n=a[u][kKey],u=parseInt(u,10),kKey=parseInt(kKey,10),this.monthAbbrevs[u][kKey]=this.monthSets[u][kKey].slice(0,n)}s||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,r)))}this.monthRexes=[],this.monthRexStrs=[];for(e=0,i=this.monthAbbrevs.length;e<i;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,i=14;e<i;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else p.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e=0,i=0,n=3;i<n;i++){var s=["year","month","day"][i];if(!t[s])break;e+=1,t["date-parts"][0].push(t[s]),delete t[s]}t["date-parts"].push([]);for(i=0,n=e;i<n&&t[s=["year_end","month_end","day_end"][i]];i++)t["date-parts"][1].push(t[s]),delete t[s];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],i=0;i<3&&t[DATE_PARTS_ALL[i]];i+=1)e.push(t[DATE_PARTS_ALL[i]]);return e.join("-")},this._parseNumericDate=function(t,e,i,n){i||(i="");for(var s=n.split(e),r=0,a=s.length;r<a;r++)if(4===s[r].length){t["year"+i]=s[r].replace(/^0*/,""),s=r?s.slice(0,r):s.slice(1);break}for(r=0,a=s.length;r<a;r++)s[r]=parseInt(s[r],10);1===s.length||2===s.length&&!s[1]?t["month"+i]=""+s[0]:2===s.length&&(s[this.monthGuess]>12?(t["month"+i]=""+s[this.dayGuess],t["day"+i]=""+s[this.monthGuess]):(t["month"+i]=""+s[this.monthGuess],t["day"+i]=""+s[this.dayGuess]))},this.parseDateToObject=function(t){var e,i=t,n=-1,s=-1,r=!1;if(t){if("-"===t.slice(0,1)&&(r=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(C=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(c)){var a=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(u,"")).replace(c,"-")).replace(d,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(l);e=[];var o=t.match(h);if(o){for(var m=[],_=0,b=o.length;_<b;_++)m=m.concat(o[_].match(/([^0-9]+)([0-9]+)/).slice(1));for(_=0,b=a.length;_<b;_++)if(e.push(a[_]),_!==len-1){var y=2*pos;e.push(m[y]),e.push(m[y+1])}}else e=a;for(_=1,b=e.length;_<b;_+=3)e[_+1]=jiy[e[_]]+parseInt(e[_+1],10),e[_]="";n=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=t.indexOf("-")}}var x,w,S="",k="",T={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return T.literal=t.slice(1,-1),T;n>-1&&s>-1?t.split("/").length>3?(x="-",w="/",e=(t=t.replace(/\_/g,"-")).split(v)):(x="/",w="-",e=(t=t.replace(/\_/g,"/")).split(g)):(x="-",w="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(f));var E=[];for(_=0,b=e.length;_<b;_++){var C;(C=e[_].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&E.push(C[1])}var A=E.indexOf(x),z=[],I=!1;A>-1?(z.push([0,A]),z.push([A+1,E.length]),I=!0):z.push([0,E.length]);var L="";for(_=0,b=z.length;_<b;_++){var O=z[_],M=E.slice(O[0],O[1]);t:for(var P=0,N=M.length;P<N;P++){var R=M[P];if(R.indexOf(w)>-1)this._parseNumericDate(T,w,L,R);else if(R.match(/[0-9]{4}/))T["year"+L]=R.replace(/^0*/,"");else{for(var D=0,H=this.monthRexes.length;D<H;D++)if(R.toLocaleLowerCase().match(this.monthRexes[D])){T["month"+L]=""+(parseInt(D,10)+1);continue t}R.match(/^[0-9]+$/)&&(S=R),R.toLocaleLowerCase().match(/^bc/)&&S?(T["year"+L]=""+-1*S,S=""):R.toLocaleLowerCase().match(/^ad/)&&S?(T["year"+L]=""+S,S=""):"~"===R||"?"===R||"c"===R||R.match(/^cir/)?T.circa="1":!R.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||T["season"+L]||(k=R)}}S&&(T["day"+L]=S,S=""),k&&!T["season"+L]&&(T["season"+L]=k,k=""),L="_end"}if(I)for(P=0,N=p.DATE_PARTS_ALL.length;P<N;P++){var V=p.DATE_PARTS_ALL[P];T[V]&&!T[V+"_end"]?T[V+"_end"]=T[V]:!T[V]&&T[V+"_end"]&&(T[V]=T[V+"_end"])}(!T.year||T.year&&T.day&&!T.month)&&(T={literal:i});var j=["year","month","day","year_end","month_end","day_end"];for(_=0,b=j.length;_<b;_++){var B=j[_];"string"==typeof T[B]&&T[B].match(/^[0-9]+$/)&&(T[B]=parseInt(T[B],10))}return r&&Object.keys(T).indexOf("year")>-1&&(T.year=-1*T.year),T},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},t.exports=p,p.Engine=function(t,e,i,n){var s,r;this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,t.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.parallel=new p.Parallel(this),this.transform=new p.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(e),(this.opt.development_extensions.csl_reverse_lookup_support||this.sys.csl_reverse_lookup_support)&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var i=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var n=0,s=this.cslXml.numberofnodes(i);n<s;n+=1)(e=this.cslXml.nodename(i[n]))&&this.setCslNodeIds(i[n],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.rtl_support=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),i&&(i=i.replace("_","-"),i=p.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),i&&n&&(this.opt["default-locale"]=[i]),i&&!n&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(i||(i="en-US"),this.opt["default-locale"].push("en-US")),i||(i=this.opt["default-locale"][0]),s=p.localeResolve(i),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=(r=(r=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+r.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var a=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(a,this[this.build.area].tokens),this.build.area="bibliography";a=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(a,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},p.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},p.makeBuilder=function(t,e){var i=[];function n(n){p.XmlToToken.call(n,t,p.START,e,i)}function s(n){p.XmlToToken.call(n,t,p.END,e,i)}function r(n){p.XmlToToken.call(n,t,p.SINGLETON,e,i)}return function e(i){var a;if(t.cslXml.numberofnodes(t.cslXml.children(i))){n(a=i);for(var o=0;o<t.cslXml.numberofnodes(t.cslXml.children(a));o+=1)i=t.cslXml.children(a)[o],null!==t.cslXml.nodename(i)&&("date"===t.cslXml.nodename(i)&&(p.Util.fixDateNode.call(t,a,o,i),i=t.cslXml.children(a)[o]),e(i));s(a)}else r(i)}},p.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&p.makeBuilder(this,e)(void 0===t.length?t:t[0])},p.Engine.prototype.setStyleAttributes=function(){var t,e,i={};for(e in i.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&p.Attributes[e].call(i,this,t[e])},p.Engine.prototype.getTerm=function(t,e,i,n,s,r){var a;t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase()),a=r?this.opt["default-locale"][0]:this.opt.lang;var o=p.Engine.getField(p.LOOSE,this.locale[a].terms,t,e,i,n);if(o||"range-delimiter"!==t||(o="–"),void 0===o){if(s===p.STRICT)throw'Error in getTerm: term "'+t+'" does not exist.';s===p.TOLERANT&&(o="")}return o&&(this.tmp.cite_renders_content=!0),o},p.Engine.prototype.getDate=function(t,e){var i;return i=e?this.opt["default-locale"]:this.opt.lang,!!this.locale[i].dates[t]&&this.locale[i].dates[t]},p.Engine.prototype.getOpt=function(t){return void 0!==this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},p.Engine.prototype.getVariable=function(t,e,i,n){return p.Engine.getField(p.LOOSE,t,e,i,n)},p.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},p.Engine.getField=function(t,e,i,n,s,r){var a,o,l,h,c,u;if(a="",void 0!==e[i]){for(u=r&&e[i][r]?e[i][r]:e[i],o=[],"symbol"===n?o=["symbol","short"]:"verb-short"===n?o=["verb-short","verb"]:"long"!==n&&(o=[n]),c=(o=o.concat(["long"])).length,h=0;h<c;h+=1)if(l=o[h],"string"==typeof u||"number"==typeof u)a=u;else if(void 0!==u[l]){a="string"==typeof u[l]||"number"==typeof u[l]?u[l]:"number"==typeof s?u[l][s]:u[l][0];break}return a}if(t===p.STRICT)throw'Error in getField: term "'+i+'" does not exist.'},p.Engine.prototype.configureTokenLists=function(){var t,e;for(e=p.AREAS.length,t=0;t<e;t+=1){var i=this[p.AREAS[t]].tokens;this.configureTokenList(i)}return this.version=p.version,this.state},p.Engine.prototype.configureTokenList=function(t){var e,i,n,s,r,a;for(e=["year","month","day"],s=t.length-1;s>-1;s+=-1){if("date"===(i=t[s]).name&&p.END===i.tokentype&&(n=[]),"date-part"===i.name&&i.strings.name)for(a=e.length,r=0;r<a;r+=1)e[r]===i.strings.name&&n.push(i.strings.name);"date"===i.name&&p.START===i.tokentype&&(n.reverse(),i.dateparts=n),i.next=s+1,i.name&&p.Node[i.name].configure&&p.Node[i.name].configure.call(i,this,s)}},p.Engine.prototype.retrieveItems=function(t){var e;e=[];for(var i=0,n=t.length;i<n;i+=1)e.push(this.retrieveItem(""+t[i]));return e},p.ITERATION=0,p.Engine.prototype.retrieveItem=function(t){var e,i;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var n=0,s=this.opt["default-locale"].length;n<s;n+=1)this.opt["default-locale"][n]=this.opt["default-locale"][n].toLowerCase();for(n=0,s=this.opt["locale-translit"].length;n<s;n+=1)this.opt["locale-translit"][n]=this.opt["locale-translit"][n].toLowerCase();for(n=0,s=this.opt["locale-translat"].length;n<s;n+=1)this.opt["locale-translat"][n]=this.opt["locale-translat"][n].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var r in e.multi._keys)for(var a in e.multi._keys[r])a!==a.toLowerCase()&&(e.multi._keys[r][a.toLowerCase()]=e.multi._keys[r][a],delete e.multi._keys[r][a]);if(e.multi.main)for(var r in e.multi.main)e.multi.main[r]=e.multi.main[r].toLowerCase()}for(n=0,s=p.CREATORS.length;n>s;n+=1){var o=p.CREATORS[n];if(e[o]&&e[o].multi)for(var l=0,h=e[o].length;l<h;l+=1){var c=e[o][l];if(c.multi){if(c.multi._key)for(var a in c.multi._key)a!==a.toLowerCase()&&(c.multi._key[a.toLowerCase()]=c.multi._key[a],delete c.multi._key[a]);c.multi.main&&(c.multi.main=c.multi.main.toLowerCase())}}}}if(e.language){var u=e.language.split("<");u.length>0&&(e["language-name"]=u[0]),2===u.length&&(e["language-name-original"]=u[1])}e.page&&(e["page-first"]=e.page,"\\"!==(i=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=i[0]));this.opt.development_extensions.field_hack&&e.note&&p.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override);for(n=1,s=p.DATE_VARIABLES.length;n<s;n+=1){var d=e[p.DATE_VARIABLES[n]];d&&(this.opt.development_extensions.raw_date_parsing&&d.raw&&(d=this.fun.dateparser.parseDateToObject(d.raw)),e[p.DATE_VARIABLES[n]]=this.dateParseArray(d))}if(this.opt.development_extensions.static_statute_locator&&e.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1){var m,f=["type","title","jurisdiction","genre","volume","container-title"],g=[];for(n=0,s=f.length;n<s;n+=1)e[m=f[n]]&&g.push(e[m]);for(n=0,(f=["original-date","issued"]).length;n<s;n+=1)if(e[m=f[n]]&&e[m].year){var v=e[m].year;g.push(v);break}e.legislation_id=g.join("::")}this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority}]),e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title&&p.extractTitleAndSubtitle(e);var _=["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&_&&(e.jurisdiction||(e.jurisdiction="us")),!_&&e.title&&this.sys.getAbbreviation){if(e.jurisdiction||!0,this.sys.normalizeAbbrevsKey)var b=this.sys.normalizeAbbrevsKey(e.title);else b=e.title;var y=this.transform.loadAbbreviation(e.jurisdiction,"title",b,e.type);this.transform.abbrevs[y].title&&this.transform.abbrevs[y].title[b]&&(e["title-short"]=this.transform.abbrevs[y].title[b])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)b=this.sys.normalizeAbbrevsKey(e["container-title"]);else b=e["container-title"];y=this.transform.loadAbbreviation(e.jurisdiction,"container-title",b);this.transform.abbrevs[y]["container-title"]&&this.transform.abbrevs[y]["container-title"][b]&&(e["container-title-short"]=this.transform.abbrevs[y]["container-title"][b])}return e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]=e,e},p.Engine.prototype.setOpt=function(t,e,i){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=i,this.citation.opt.inheritedAttributes[e]=i,this.bibliography.opt.inheritedAttributes[e]=i):["citation","bibliography"].indexOf(t.name)>-1?this[t.name].opt.inheritedAttributes[e]=i:t.strings[e]=i},p.Engine.prototype.inheritOpt=function(t,e,i,n){if(void 0!==t.strings[e])return t.strings[e];var s=this[this.tmp.root].opt.inheritedAttributes[i||e];return void 0!==s?s:n},t.exports=p,p.Engine.prototype.remapSectionVariable=function(t){for(var e=0,i=t.length;e<i;e+=1){var n=t[e][0],s=t[e][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)>-1){if(s.locator)s.locator=s.locator.trim(),(a=s.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=p.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var r=null;if(n.section)n.section=n.section.trim(),(a=n.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?r=a[0].trim():(n.section="sec. "+n.section,r="sec.");if(n.section)if(s.locator){var a,o=" ";(a=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===a[1]&&"p."!==r&&(s.locator=a[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(o="")):o="",s.locator=n.section+o+s.locator}else s.locator=n.section;s.label=""}}},p.Engine.prototype.setNumberLabels=function(t){if(t.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,i=(e=e.split("\\").join("")).split(/\s+/)[0],n=p.STATUTE_SUBDIV_STRINGS[i];if(n){var s=e.match(p.STATUTE_SUBDIV_GROUPED_REGEX),r=e.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(r.length>1){for(var a=[],o=1,l=r.length;o<l;o+=1){s[o-1].replace(/^\s*/,"");a.push(r[o].replace(/\s*$/,"").replace(/^\s*/,""))}e=a.join(" ")}else e=r[0];this.tmp.shadow_numbers.number.label=n,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},t.exports=p,p.substituteOne=function(t){return function(e,i){return i?t.replace("%%STRING%%",i):""}},p.substituteTwo=function(t){return function(e){var i=t.replace("%%PARAM%%",e);return function(t,e){return e?i.replace("%%STRING%%",e):""}}},p.Mode=function(t){var e,i,n,s,r,a;for(n in e={},i=p.Output.Formats[t])if("@"===n.slice(0,1)){if(s=!1,r=i[n],a=n.split("/"),"string"==typeof r&&r.indexOf("%%STRING%%")>-1)s=r.indexOf("%%PARAM%%")>-1?p.substituteTwo(r):p.substituteOne(r);else if("boolean"!=typeof r||r){if("function"!=typeof r)throw"CSL.Compiler: Bad "+t+" config entry for "+n+": "+r;s=r}else s=p.Output.Formatters.passthrough;1===a.length?e[a[0]]=s:2===a.length&&(e[a[0]]||(e[a[0]]={}),e[a[0]][a[1]]=s)}else e[n]=i[n];return e},p.setDecorations=function(t,e){var i,n;for(n in i=[],p.FORMAT_KEY_SEQUENCE){var s;e[s=p.FORMAT_KEY_SEQUENCE[n]]&&(i.push([s,e[s]]),delete e[s])}return i},p.Doppeler=function(t,e){this.split=function(t){e&&(t=e(t));var s=t.match(i);if(!s)return{tags:[],strings:[t]};for(var r=t.split(n),a=s.length-1;a>-1;a--){var o=s[a];"'"===o&&r[a+1].length>0&&(r[a+1]=s[a]+r[a+1],s[a]="")}return{tags:s,strings:r,origStrings:r.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),i=t.tags.length-1;i>-1;i--)e.push(t.tags[i]),e.push(t.strings[i]);return e.reverse(),e.join("")};var i=new RegExp("("+t+")","g"),n=new RegExp(t,"g")},p.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var i,n=!1,s=(i="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;s>-1;s+=-1)for(var r=i[s].length-1;r>-1;r+=-1)i[s][r][0]===e[0]&&"normal"!==i[s][r][1]&&(n=!0);if(!n)return!0}return!1},t.exports=p,p.Engine.prototype.getCitationLabel=function(t){var e="",i=this.getTrigraphParams(),n=i[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var r=0,a=p.CREATORS.length;r<a;r+=1){var o=p.CREATORS[r];if(t[o]){var l=t[o];n=l.length>i.length?i[i.length-1]:i[l.length-1];for(var h=0,c=l.length;h<c&&h!==n.authors.length;h+=1){var u=this.nameOutput.getName(l[h],"locale-translit",!0).name;u&&u.family?s=(s=u.family).replace(/^([ \'\u2019a-z]+\s+)/,""):u&&u.literal&&(s=u.literal);var d=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(d&&(s=s.slice(d[1].length)),!(s=s.replace(p.ROMANESQUE_NOT_REGEXP,"")))break;(s=s.slice(0,n.authors[h])).length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),e+=s}break}}if(!e&&t.title){var m=this.locale[this.opt.lang].opts["skip-words"],f=t.title.split(/\s+/);for(r=f.length-1;r>-1;r--)m.indexOf(f[r])>-1&&(f=f.slice(0,r).concat(f.slice(r+1)));var g=f.join("");(g=g.slice(0,i[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),e=g}var v="0000";return t.issued&&t.issued.year&&(v=""+t.issued.year),e+=v=v.slice(-1*n.year)},p.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var i=0,n=e.length;i<n;i+=1){for(var s=e[i],r={authors:[],year:0},a=0,o=s.length;a<o;a+=1)switch(s.slice(a,a+1)){case"A":r.authors.push(1);break;case"a":r.authors[r.authors.length-1]+=1;break;case"0":r.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}t.push(r)}return t},t.exports=p,p.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=p.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},p.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},p.Engine.prototype.setLangTagsForCslSort=function(t){var e,i;if(t)for(this.opt["locale-sort"]=[],e=0,i=t.length;e<i;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,i;if(this.opt["locale-translit"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,i;if(this.opt["locale-translat"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},p.Engine.prototype.setLangPrefsForCites=function(t,e){var i=this.opt["cite-lang-prefs"];e||(e=function(t){return t.toLowerCase()});for(var n=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,r=n.length;s<r;s+=1){var a=e(n[s]),o=n[s].toLowerCase();if(t[a]){for(var l=[];t[a].length>1;)l.push(t[a].pop());var h={orig:1,translit:2,translat:3};for(2===l.length&&h[l[0]]<h[l[1]]&&l.reverse();l.length;)t[a].push(l.pop());for(var c=i[o];c.length;)c.pop();for(var p=0,u=t[a].length;p<u;p+=1)c.push(t[a][p])}}},p.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,i=this.opt.citeAffixes,n=0,s=["persons","institutions","titles","journals","publishers","places"],r=["translit","orig","translit","translat"],a=0,o=s.length;a<o;a+=1)for(var l=0,h=r.length;l<h;l+=1)e="",n%8==4&&(i[s[a]]["locale-"+r[l]].prefix||i[s[a]]["locale-"+r[l]].suffix)||(e=t[n]?t[n]:"",i[s[a]]["locale-"+r[l]].prefix=e,e=t[n]?t[n+1]:"",i[s[a]]["locale-"+r[l]].suffix=e),n+=2;this.opt.citeAffixes=i}},p.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},p.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},p.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},t.exports=p,p.Output={},p.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new p.Token("empty");var e={};e.empty=this.empty,this.formats=new p.Stack(e),this.current=new p.Stack(this.queue)},p.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},p.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},p.Output.Queue.prototype.mergeTokenStrings=function(t,e){var i,n,s;if(s=i=this.formats.value()[t],n=this.formats.value()[e]){i||((i=new p.Token(t,p.SINGLETON)).decorations=[]),s=new p.Token(t,p.SINGLETON);var r="";for(var r in i.strings)i.strings.hasOwnProperty(r)&&(s.strings[r]=i.strings[r]);for(var r in n.strings)n.strings.hasOwnProperty(r)&&(s.strings[r]=n.strings[r]);s.decorations=i.decorations.concat(n.decorations)}return s},p.Output.Queue.prototype.addToken=function(t,e,i){var n,s;if(n=new p.Token("output"),"string"==typeof i&&(i=this.formats.value()[i]),i&&i.strings){for(s in i.strings)i.strings.hasOwnProperty(s)&&(n.strings[s]=i.strings[s]);n.decorations=i.decorations}"string"==typeof e&&(n.strings.delimiter=e),this.formats.value()[t]=n},p.Output.Queue.prototype.pushFormats=function(t){t||(t={}),t.empty=this.empty,this.formats.push(t)},p.Output.Queue.prototype.popFormats=function(t){this.formats.pop()},p.Output.Queue.prototype.startTag=function(t,e){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),i[t]=e,this.pushFormats(i),this.openLevel(t)},p.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},p.Output.Queue.prototype.openLevel=function(t,e){var i,n;if("object"==typeof t)i=new p.Blob(void 0,t);else if(void 0===t)i=new p.Blob(void 0,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[t])throw'CSL processor error: call to nonexistent format token "'+t+'"';i=new p.Blob(void 0,this.formats.value()[t],t)}n=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(i.strings.prefix=this.checkNestedBrace.update(i.strings.prefix)),n.push(i),this.current.push(i)},p.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},p.Output.Queue.prototype.append=function(t,e,i,n,s){var r,a,o,l=!0;if(i&&(n=!0),this.state.tmp["doing-macro-with-date"]&&!i){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!i&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(a=!1,e?"literal"===e?(r=!0,l=!1):r="string"==typeof e?this.formats.value()[e]:e:r=this.formats.value().empty,!r)throw"CSL processor error: unknown format token name: "+e;if(r.strings&&void 0===r.strings.delimiter&&(r.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),i||(t=t.replace(/^'/g," '")),n?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),a=new p.Blob(t,r),void 0===(o=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),o=this.current.value()),"string"==typeof a.blobs&&(n?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),i||this.state.parallel.AppendBlobPointer(o),"string"==typeof t){if("string"==typeof a.blobs&&" "!==a.blobs.slice(0,1)){for(var h="",c=a.blobs;p.TERMINAL_PUNCTUATION.indexOf(c.slice(0,1))>-1;)h+=c.slice(0,1),c=c.slice(1);c&&h&&(a.strings.prefix=a.strings.prefix+h,a.blobs=c)}a.strings["text-case"]&&(a.blobs=p.Output.Formatters[a.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!s&&(a.blobs=a.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var u=a.decorations.length-1;u>-1;u+=-1)"@quotes"===a.decorations[u][0]&&"false"!==a.decorations[u][1]&&(a.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),a.blobs.match(p.ROMANESQUE_REGEXP)||"@font-style"===a.decorations[u][0]&&(a.decorations=a.decorations.slice(0,u).concat(a.decorations.slice(u+1)));o.push(a),this.state.fun.flipflopper.processTags(a)}else l?o.push(a):o.push(t);return!0},p.Output.Queue.prototype.string=function(t,e,i){var n,s=p.getSafeEscape(this.state),r=e.slice(),a=[];if(0===r.length)return a;var o,l,h,c,u="";i?u=i.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=t.opt.lang,t.opt.lang=i.new_locale);for(var d=0,m=r.length;d<m;d+=1){if((o=r[d]).strings.first_blob&&(t.tmp.count_offset_characters=o.strings.first_blob),"string"==typeof o.blobs){if("number"==typeof o.num)a.push(o);else if(o.blobs){o.particle&&(o.blobs=o.particle+o.blobs,o.particle="");var f=(n=s(o.blobs)).length;if(!t.tmp.suppress_decorations)for(_=0,b=o.decorations.length;_<b;_+=1)"@showid"!==(c=o.decorations[_])[0]&&(t.normalDecorIsOrphan(o,c)||(n=t.fun.decorate[c[0]][c[1]].call(o,t,n,c[2])));if(n&&n.length){if(n=s(o.strings.prefix)+n+s(o.strings.suffix),(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&!t.tmp.suppress_decorations)for(_=0,b=o.decorations.length;_<b;_+=1)"@showid"===(c=o.decorations[_])[0]&&(n=t.fun.decorate[c[0]][c[1]].call(o,t,n,c[2]));a.push(n),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=f+o.strings.suffix.length+o.strings.prefix.length)}}}else if(o.blobs.length){var g=t.output.string(t,o.blobs,o);if(i&&"string"!==g&&g.length>1&&o.strings.delimiter)for(var v=!1,_=0,b=g.length;_<b;_++)"string"!=typeof g[_]?v=!0:v&&(g[_]=o.strings.delimiter+g[_]);a=a.concat(g)}o.strings.first_blob&&t.registry.registry[o.strings.first_blob]&&(t.registry.registry[o.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(d=0,m=a.length-1;d<m;d+=1)"number"!=typeof a[d].num||"number"!=typeof a[d+1].num||a[d+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[d].strings.suffix=a[d].strings.suffix+(u||""),a[d+1].successor_prefix="",a[d+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var y=0;for(d=0,m=a.length;d<m;d+=1)"string"==typeof a[d]&&(y=parseInt(d,10)+1,d<a.length-1&&"object"==typeof a[d+1]&&(u&&!a[d+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[d]+=s(u)),a[d+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))y=a.length;else if(i&&i.strings.prefix)for(d=0,m=a.length;d<m;d++)if(void 0!==a[d].num){y=d,0===d&&(a[d].strings.prefix=i.strings.prefix+a[d].strings.prefix);break}var x=t.output.renderBlobs(a.slice(0,y),u,!1,i);if(x&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!t.tmp.suppress_decorations)for(d=0,m=i.decorations.length;d<m;d+=1)c=i.decorations[d],["@cite","@bibliography","@display","@showid"].indexOf(c[0])>-1||t.normalDecorIsOrphan(o,c)||"string"==typeof x&&(x=t.fun.decorate[c[0]][c[1]].call(i,t,x,c[2]));if(n=x,l=i.strings.suffix,n&&n.length&&(n=s(h=i.strings.prefix)+n+s(l),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=h.length+l.length)),x=n,!t.tmp.suppress_decorations)for(d=0,m=i.decorations.length;d<m;d+=1)c=i.decorations[d],-1!==["@cite","@bibliography","@display","@showid"].indexOf(c[0])&&"string"==typeof x&&(x=t.fun.decorate[c[0]][c[1]].call(i,t,x,c[2]))}var w=a.slice(y,a.length);return!w.length&&x?a=[x]:w.length&&!x?a=w:x&&w.length&&(a=[x].concat(w)),void 0===i?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(a=t.output.renderBlobs(a,void 0,!1))):"boolean"==typeof i&&(a=t.output.renderBlobs(a,void 0,!0)),i&&i.new_locale&&(t.opt.lang=i.old_locale),a},p.Output.Queue.prototype.clearlevel=function(){var t,e,i;for(i=(t=this.current.value()).blobs.length,e=0;e<i;e+=1)t.blobs.pop()},p.Output.Queue.prototype.renderBlobs=function(t,e,i,n){var s,r,a,o,l,h,c,u,d,m,f;if(f=p.getSafeEscape(this.state),e||(e=""),s=this.state,r="",[],a="",h=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===h&&"object"==typeof t[0]&&n)return t[0].strings.prefix=n.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+n.strings.suffix,t[0].decorations=t[0].decorations.concat(n.decorations),t[0].params=n.params,t[0];var g=!0;for(l=0;l<h;l+=1)t[l].checkNext?(t[l].checkNext(t[l+1],g),g=!1):g=!t[l+1]||!t[l+1].splice_prefix;var v=!0;for(l=t.length-1;l>0;l+=-1)t[l].checkLast?v&&t[l].checkLast(t[l-1])&&(v=!1):v=!0;for(h=t.length,l=0;l<h;l+=1)if(o=t[l],r&&(a=e),"string"==typeof o)r+=f(a),r+=o,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=a.length);else if(i)r=r?[r,o]:[o];else if(o.status!==p.SUPPRESS){var _=(d=o.particle?o.particle+o.num:o.formatter.format(o.num,o.gender)).replace(/<[^>]*>/g,"").length;this.append(d,"empty",!0);var b=this.pop(),y=s.tmp.count_offset_characters;if(d=this.string(s,[b],!1),s.tmp.count_offset_characters=y,o.strings["text-case"]&&(d=p.Output.Formatters[o.strings["text-case"]](this.state,d)),d&&this.state.tmp.strip_periods&&(d=d.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(u=o.decorations.length,c=0;c<u;c+=1)m=o.decorations[c],s.normalDecorIsOrphan(o,m)||(d=s.fun.decorate[m[0]][m[1]].call(o,s,d,m[2]));d=f(o.strings.prefix)+d+f(o.strings.suffix);var x="";o.status===p.END?x=f(o.range_prefix):o.status===p.SUCCESSOR?x=f(o.successor_prefix):o.status===p.START?x=l>0&&!o.suppress_splice_prefix?f(o.splice_prefix):"":o.status===p.SEEN&&(x=f(o.splice_prefix)),r+=x,r+=d,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=x.length+o.strings.prefix.length+_+o.strings.suffix.length)}return r},p.Output.Queue.purgeEmptyBlobs=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--){p.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var i=t.blobs[e];if(!i||!i.blobs||!i.blobs.length){for(var n=[];t.blobs.length-1>e;)n.push(t.blobs.pop());for(t.blobs.pop();n.length;)t.blobs.push(n.pop())}}},p.Output.Queue.adjust=function(t){var e={";":!0,":":!0},i={".":!0,"!":!0,"?":!0};this.upward=function(t){if(t.blobs&&"string"==typeof t.blobs)return void(a[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1)));if("object"!=typeof t||"object"!=typeof t.blobs||!t.blobs.length)return;for(var e=d(t,!0),i=t.blobs.length-1;i>-1;i--){t.blobs.length;this.upward(t.blobs[i]);var n=t.strings,s=t.blobs[i].strings;if(0===i){" "===n.prefix.slice(-1)&&" "===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1));var r=s.prefix.slice(0,1);e||!o[r]||n.prefix||(n.prefix+=r,s.prefix=s.prefix.slice(1))}if(i===t.blobs.length-1){var r=s.suffix.slice(-1);!e&&[" "].indexOf(r)>-1&&(n.suffix.slice(0,1)!==r&&(n.suffix=r+n.suffix),s.suffix=s.suffix.slice(0,-1))}n.delimiter&&i>0&&o[n.delimiter.slice(-1)]&&n.delimiter.slice(-1)===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1))}},this.leftward=function(t){if("object"!=typeof t||"object"!=typeof t.blobs||!t.blobs.length)return;for(var e=t.blobs.length-1;e>-1;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var i=t.blobs[e],n=i.strings.suffix.slice(-1),s=t.blobs[e+1],r=s.strings.prefix.slice(0,1),o=d(i)||d(s),l="number"==typeof n||"number"==typeof r;if(!o&&!l&&a[r]&&!l){var h=r===i.strings.suffix.slice(-1),c=!i.strings.suffix&&"string"==typeof i.blobs&&i.blobs.slice(-1)===r;h||c?s.strings.prefix=s.strings.prefix.slice(1):v(i,"suffix",s,"prefix")}}},this.downward=function(e,i){if(e.blobs&&"string"==typeof e.blobs)return void(a[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1)));if("object"!=typeof e||"object"!=typeof e.blobs||!e.blobs.length)return;for(var n=e.strings,s=0,r=e.blobs.length;s<r;s++)if(p(e.blobs[s])){!0;break}if(n.delimiter&&a[n.delimiter.slice(0,1)]){for(var l=n.delimiter.slice(0,1),s=e.blobs.length-2;s>-1;s--){var h=e.blobs[s].strings;h.suffix.slice(-1)!==l&&(h.suffix+=l)}n.delimiter=n.delimiter.slice(1)}d(e,!0),p(e);for(var s=e.blobs.length-1;s>-1;s--){var c=e.blobs[s],h=e.blobs[s].strings,_=d(c,!0),b=p(c);if(s===e.blobs.length-1){var y=n.suffix.slice(0,1),x=!1;a[y]&&!(x=f(y,c))&&t&&(x=m(c)),x&&a[y]&&(u(c)||("string"==typeof c.blobs?v(c,"blobs",e,"suffix"):v(c,"suffix",e,"suffix"),"."===n.suffix.slice(0,1)&&(h.suffix+=n.suffix.slice(0,1),n.suffix=n.suffix.slice(1))))," "===h.suffix.slice(-1)&&" "===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(1)),o[h.suffix.slice(0,1)]&&("string"==typeof c.blobs&&c.blobs.slice(-1)===h.suffix.slice(0,1)&&(h.suffix=h.suffix.slice(1)),h.suffix.slice(-1)===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(0,-1))),g(e,e.strings.suffix.slice(0,1))&&(e.strings.suffix=e.strings.suffix.slice(1))}else if(n.delimiter)o[n.delimiter.slice(0,1)]&&n.delimiter.slice(0,1)===h.suffix.slice(-1)&&(e.blobs[s].strings.suffix=e.blobs[s].strings.suffix.slice(0,-1));else{var w=e.blobs[s+1].strings;p(c)||_||!o[h.suffix.slice(-1)]||h.suffix.slice(-1)!==w.prefix.slice(0,1)||(w.prefix=w.prefix.slice(1))}b||_||!a[h.suffix.slice(0,1)]||"string"!=typeof c.blobs||v(c,"blobs",c,"suffix"),this.downward(e.blobs[s])}},this.fix=function(e){if("object"!=typeof e||"object"!=typeof e.blobs||!e.blobs.length)return;for(var i,n=0,s=e.blobs.length;n<s;n++){for(var r=e.blobs[n],a=!1,o=0,l=r.decorations.length;o<l;o++){var h=r.decorations[o];"@quotes"===h[0]&&"false"!==h[1]&&(a=!0)}a&&(t?_(r):b(r)),i=this.fix(e.blobs[n]),r.blobs&&"string"==typeof r.blobs&&(i=r.blobs.slice(-1))}return i};var n={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},s={},r={},a={},o={};for(var l in n)a[l]=!0,o[l]=!0,e[l]||(s[l]=!0),i[l]||(r[l]=!0);o[" "]=!0,o[" "]=!0;var h={};for(var l in n)for(var c in n[l])h[c]||(h[c]={}),h[c][l]=n[l][c];function p(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function u(t){return"number"==typeof t.num||!(!t.blobs||"object"!=typeof t.blobs)&&(!!u(t.blobs[t.blobs.length-1])||void 0)}function d(t,e){var i=!1,n=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&n.push("@quotes"),t.decorations)for(var s=0,r=t.decorations.length;s<r;s++)if(n.indexOf(t.decorations[s][0])>-1){i=!0;break}return i}function m(t){if(t.decorations)for(var e=0,i=t.decorations.length;e<i;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"==typeof t.blobs&&m(t.blobs[t.blobs.length-1])}function f(t,e){var i=e.strings.suffix.slice(-1);i||"string"!=typeof e.blobs||(i=e.blobs.slice(-1));var n=h[t][i];return!(!n||1!==n.length)||"object"==typeof e.blobs&&!!f(t,e.blobs[e.blobs.length-1])}function g(t,e){if(!a[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var i=t.blobs[t.blobs.length-1];return!!i&&(i.strings.suffix.slice(-1)?i.strings.suffix.slice(-1)==e:g(i,e))}function v(t,e,i,s,r){var a="blobs"===e?t:t.strings,o="blobs"===s?i:i.strings,l=a[e].slice(-1),c=o[s].slice(0,1);function p(){o[s]=o[s].slice(1)}function u(){a[e]=a[e].slice(0,-1)}function d(t){o[s]=t+o[s]}function m(t){a[e]+=t}var f=r?function(){return n[l]}:function(){return h[c]};var g=r?function(){var t=n[l][c];"string"==typeof t?(u(),p(),d(t)):(d(l),u())}:function(){var t=h[c][l];"string"==typeof t?(u(),p(),m(t)):(m(c),p())};l===c?(r?u:p)():f()&&g()}function _(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;s[e];)v(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;s[e];)v(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function b(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);r[e];)v(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);r[e];)v(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}},t.exports=p,p.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_parsing_for_plurals=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.flip_parentheses_to_braces=!0,this.development_extensions.jurisdiction_subfield=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.clobber_locator_if_no_statute_section=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.allow_force_lowercase=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.rtl_support=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0},p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_conditions:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={}},p.Engine.Fun=function(t){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(t),this.long_ordinalizer=new p.Util.LongOrdinalizer},p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1},p.Engine.Configure=function(){this.fail=[],this.succeed=[]},p.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="bibliography"},p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},t.exports=p,p.Engine.prototype.previewCitationCluster=function(t,e,i,n){var s=this.opt.mode;this.setOutputFormat(n);var r=this.processCitationCluster(t,e,i,p.PREVIEW);return this.setOutputFormat(s),r[1]},p.Engine.prototype.appendCitationCluster=function(t){for(var e=[],i=this.registry.citationreg.citationByIndex.length,n=0;n<i;n+=1){var s=this.registry.citationreg.citationByIndex[n];e.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},p.Engine.prototype.processCitationCluster=function(t,e,i,n){var s,r,a,o,l,h,c,u,d,m,f,g;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[];var v,_,b,y={bibchange:!1};if(this.setCitationId(t),n===p.PREVIEW){v=this.registry.citationreg.citationByIndex.slice(),_=this.registry.reflist.slice();for(var x=e.concat([[""+t.citationID,t.properties.noteIndex]]).concat(i),w={},S=[],k=0,T=x.length;k<T;k+=1)for(r=0,a=(s=this.registry.citationreg.citationById[x[k][0]]).citationItems.length;r<a;r+=1)w[s.citationItems[r].id]=!0,S.push(""+s.citationItems[r].id);b={};for(k=0,T=_.length;k<T;k+=1)if(!w[_[k].id]){var E=this.registry.registry[_[k].id].ambig,C=this.registry.ambigcites[E];if(C)for(r=0,a=C.length;r<a;r+=1)b[C[r]]=p.cloneAmbigConfig(this.registry.registry[C[r]].disambig)}}this.tmp.taintedCitationIDs={};var A=[],z={};for(k=0,T=t.citationItems.length;k<T;k+=1){for(var I in d={},t.citationItems[k])d[I]=t.citationItems[k][I];var L;if((u=this.retrieveItem(""+d.id)).id&&this.transform.loadAbbreviation("default","hereinafter",u.id),d=p.parseLocator.call(this,d),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[u,d]]),this.opt.development_extensions.locator_label_parse)if(d.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(u.type)&&(!d.label||"page"===d.label))if(L=p.LOCATOR_LABELS_REGEXP.exec(d.locator)){var O=p.LOCATOR_LABELS_MAP[L[2]];this.getTerm(O)&&(d.label=O,d.locator=L[3])}var M=[u,d];A.push(M),t.citationItems[k].item=u}t.sortedItems=A;var P=[];for(k=0,T=e.length;k<T;k+=1){s=e[k];try{this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1]}catch(t){var N="CSL error\n";throw N+="  "+t+"\n",N+="  citationID="+s[0]+"\n",N+="  noteIndex="+s[1]+"\n",N+="  atarray citationsPre index "+k+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[s[0]])}P.push(t);for(k=0,T=i.length;k<T;k+=1){s=i[k];try{this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1]}catch(t){N="CSL error\n";throw N+="  "+t+"\n",N+="  citationID="+s[0]+"\n",N+="  noteIndex="+s[1]+"\n",N+="  at array citationsPost index "+k+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[s[0]])}this.registry.citationreg.citationByIndex=P,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(f=[],m=[],g={});var R,D=[];for(k=0,T=P.length;k<T;k+=1){for(P[k].properties||(P[k].properties={}),P[k].properties.index=k,r=0,a=P[k].sortedItems.length;r<a;r+=1)d=P[k].sortedItems[r],this.registry.citationreg.citationsByItemId[d[1].id]||(this.registry.citationreg.citationsByItemId[d[1].id]=[],D.push(""+d[1].id)),-1===this.registry.citationreg.citationsByItemId[d[1].id].indexOf(P[k])&&this.registry.citationreg.citationsByItemId[d[1].id].push(P[k]);this.opt.update_mode===p.POSITION&&(P[k].properties.noteIndex?m.push(P[k]):(P[k].properties.noteIndex=0,f.push(P[k])))}if(n!==p.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(D,null,null,!0),!this.opt.citation_number_sort&&A&&A.length>1&&this.citation_sort.tokens.length>0){for(k=0,T=A.length;k<T;k+=1)A[k][1].sortkeys=p.getSortKeys.call(this,A[k][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(k=0,T=A.length;k<T;k+=1){var H=A[k][1].sortkeys;this.tmp.authorstring_request=!0;var V=this.registry.registry[A[k][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,A[k][0],V);var j=this.registry.authorstrings[A[k][0].id];this.tmp.authorstring_request=!1,A[k][1].sortkeys=[j].concat(H)}A.sort(this.citation.srt.compareCompositeKeys);var B=!1,U=!1,F=!1;for(k=0,T=A.length;k<T;k+=1)A[k][1].sortkeys[0]!==B&&(F=A[k][1].sortkeys[0],U=A[k][1].sortkeys[1]),A[k][1].sortkeys[0]=""+U+k,B=F}t.properties.unsorted||A.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.update_mode===p.POSITION)for(k=0;k<2;k+=1){var q={},$={};for(r=0,a=(R=[f,m][k]).length;r<a;r+=1){var Z=R[r];for(R[r].properties.noteIndex||(R[r].properties.noteIndex=0),R[r].properties.noteIndex=parseInt(R[r].properties.noteIndex,10),r>0&&R[r-1].properties.noteIndex>R[r].properties.noteIndex&&(g={},q={},$={}),o=0,l=Z.sortedItems.length;o<l;o+=1)this.registry.registry[Z.sortedItems[o][1].id].parallel||(g[Z.properties.noteIndex]?g[Z.properties.noteIndex]+=1:g[Z.properties.noteIndex]=1);for(o=0,l=R[r].sortedItems.length;o<l;o+=1){var G,X=(d=R[r].sortedItems[o])[0].id,K=d[1].locator,W=d[1].label;if(d[0].legislation_id&&(X=d[0].legislation_id),o>0&&(G=Z.sortedItems[o-1][0].legislation_id?Z.sortedItems[o-1][0].legislation_id:Z.sortedItems[o-1][1].id),n!==p.PREVIEW||Z.citationID==t.citationID){var Y,J={};if(J.position=d[1].position,J["first-reference-note-number"]=d[1]["first-reference-note-number"],J["near-note"]=d[1]["near-note"],d[1]["first-reference-note-number"]=0,d[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[X]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var Q=this.registry.registry[X]["citation-count"],tt=this.registry.citationreg.citationsByItemId[X].length;if(this.registry.registry[X]["citation-count"]=this.registry.citationreg.citationsByItemId[X].length,"number"==typeof Q){if(Q<2!==tt<2)for(var et=0,it=this.registry.citationreg.citationsByItemId[X].length;et<it;et++)z[this.registry.registry[X].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[X][et].citationID]=!0}else for(et=0,it=this.registry.citationreg.citationsByItemId[X].length;et<it;et++)z[this.registry.registry[X].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[X][et].citationID]=!0}if(void 0===q[X])q[X]=Z.properties.noteIndex,this.registry.registry[X]&&(this.registry.registry[X]["first-reference-note-number"]=Z.properties.noteIndex),$[X]=Z.properties.noteIndex,d[1].position=p.POSITION_FIRST;else{var nt,st,rt,at,ot=!1,lt=!1;if(r>0){try{Y=R[r-1].sortedItems.slice(-1)[0][1].id}catch(t){N="CSL Error\n";throw N+="  "+t,N+="  in citation object "+R[r-1].citationID+" at index "+(r-1)}R[r-1].sortedItems[0].slice(-1)[0].legislation_id&&(Y=R[r-1].sortedItems[0].slice(-1)[0].legislation_id)}if(r>0&&0===parseInt(o,10)&&R[r-1].properties.noteIndex!==R[r].properties.noteIndex){var ht=R[r-1].sortedItems,ct=!1,pt=R[r-1].sortedItems[0][0].id;for(R[r-1].sortedItems[0][0].legislation_id&&(pt=R[r-1].sortedItems[0][0].legislation_id),(pt==X&&R[r-1].properties.noteIndex>=R[r].properties.noteIndex-1||R[r-1].sortedItems[0][1].id==this.registry.registry[d[1].id].parallel)&&(1!==g[R[r-1].properties.noteIndex]&&0!==R[r-1].properties.noteIndex||(ct=!0)),h=0,c=ht.slice(1).length;h<c;h+=1){var ut=ht.slice(1)[h];this.registry.registry[ut[1].id].parallel&&this.registry.registry[ut[1].id].parallel!=this.registry.registry[ut[1].id]||(ct=!1)}ct?ot=!0:lt=!0}else o>0&&G==X?ot=!0:0===o&&R[r-1].properties.noteIndex==R[r].properties.noteIndex&&R[r-1].sortedItems.length&&Y==X?ot=!0:lt=!0;if(ot&&((nt=o>0?Z.sortedItems[o-1][1]:R[r-1].sortedItems[0][1]).locator?(rt=nt.label?nt.label:"",st=""+nt.locator+rt):st=nt.locator,at=K?""+K+(W||""):K),ot&&st&&!at&&(ot=!1,lt=!0),ot&&(!st&&at?d[1].position=p.POSITION_IBID_WITH_LOCATOR:st||at?st&&at===st?d[1].position=p.POSITION_IBID:st&&at&&at!==st?d[1].position=p.POSITION_IBID_WITH_LOCATOR:(ot=!1,lt=!0):d[1].position=p.POSITION_IBID),lt&&(d[1].position=p.POSITION_SUBSEQUENT),(lt||ot)&&q[X]!=Z.properties.noteIndex&&(d[1]["first-reference-note-number"]=q[X],this.registry.registry[X])){var dt=this.registry.citationreg.citationsByItemId[X][0].properties.noteIndex,mt=Z.properties.noteIndex;this.registry.registry[X]["first-reference-note-number"]=mt<dt?mt:dt}}if(Z.properties.noteIndex){var ft=parseInt(Z.properties.noteIndex,10)-parseInt($[X],10);d[1].position!==p.POSITION_FIRST&&ft<=this.citation.opt["near-note-distance"]&&(d[1]["near-note"]=!0),$[X]=Z.properties.noteIndex}if(Z.citationID!=t.citationID)for(h=0,c=p.POSITION_TEST_VARS.length;h<c;h+=1){var gt=p.POSITION_TEST_VARS[h];d[1][gt]!==J[gt]&&(this.registry.registry[X]&&"first-reference-note-number"===gt&&(z[this.registry.registry[X].ambig]=!0,this.tmp.taintedItemIDs[X]=!0),this.tmp.taintedCitationIDs[Z.citationID]=!0)}this.sys.variableWrapper&&(d[1].index=Z.properties.index,d[1].noteIndex=Z.properties.noteIndex)}else void 0===q[d[1].id]?(q[X]=Z.properties.noteIndex,$[X]=Z.properties.noteIndex):$[X]=Z.properties.noteIndex}}}if(this.opt.citation_number_sort&&A&&A.length>1&&this.citation_sort.tokens.length>0&&!t.properties.unsorted){for(k=0,T=A.length;k<T;k+=1)A[k][1].sortkeys=p.getSortKeys.call(this,A[k][0],"citation_sort");A.sort(this.citation.srt.compareCompositeKeys)}for(var I in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(I)&&(R=this.registry.citationreg.citationsByItemId[I]))for(k=0,T=R.length;k<T;k+=1)this.tmp.taintedCitationIDs[R[k].citationID]=!0;var vt=[];if(n===p.PREVIEW){try{vt=this.process_CitationCluster.call(this,t.sortedItems,t.citationID)}catch(t){p.error("Error running CSL processor for preview: "+t)}this.registry.citationreg.citationByIndex=v,this.registry.citationreg.citationById={};for(k=0,T=v.length;k<T;k+=1)this.registry.citationreg.citationById[v[k].citationID]=v[k];var _t=[];for(k=0,T=_.length;k<T;k+=1)_t.push(""+_[k].id);for(var I in this.updateItems(_t,null,null,!0),b)b.hasOwnProperty(I)&&(this.registry.registry[I].disambig=b[I])}else{for(var bt in z)this.disambiguate.run(bt,t);var yt;for(var I in this.tmp.taintedCitationIDs)if(I!=t.citationID){var xt=this.registry.citationreg.citationById[I];if(!xt.properties.unsorted){for(k=0,T=xt.sortedItems.length;k<T;k+=1)xt.sortedItems[k][1].sortkeys=p.getSortKeys.call(this,xt.sortedItems[k][0],"citation_sort");xt.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=xt.properties.index,this.tmp.citation_note_index=xt.properties.noteIndex,this.tmp.citation_id=""+xt.citationID,(yt=[]).push(xt.properties.index),yt.push(this.process_CitationCluster.call(this,xt.sortedItems,xt.citationID)),yt.push(xt.citationID),vt.push(yt)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(yt=[]).push(e.length),yt.push(this.process_CitationCluster.call(this,A,t.citationID)),yt.push(t.citationID),vt.push(yt),vt.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return y.citation_errors=this.tmp.citation_errors.slice(),[y,vt]},p.Engine.prototype.process_CitationCluster=function(t,e){return this.parallel.StartCitation(t),p.getCitationCluster.call(this,t,e)},p.Engine.prototype.makeCitationCluster=function(t){var e,i,n,s,r,a;for(e=[],s=t.length,n=0;n<s;n+=1){for(var o in r={},t[n])r[o]=t[n][o];if(a=this.retrieveItem(""+r.id),this.opt.development_extensions.locator_label_parse&&r.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!r.label||"page"===r.label)){var l=p.LOCATOR_LABELS_REGEXP.exec(r.locator);if(l){var h=p.LOCATOR_LABELS_MAP[l[2]];this.getTerm(h)&&(r.label=h,r.locator=l[3])}}r.locator&&(r.locator=(""+r.locator).replace(/\s+$/,"")),i=[a,r],e.push(i)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&e.length>1&&this.citation_sort.tokens.length>0){for(s=e.length,n=0;n<s;n+=1)e[n][1].sortkeys=p.getSortKeys.call(this,e[n][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(e),p.getCitationCluster.call(this,e)},p.getAmbiguousCite=function(t,e,i,n){var s=this.tmp.group_context.tip,r={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,parallel_conditions:s.parallel_conditions,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=e||!1;var a={position:1,"near-note":!0};n&&(a.locator=n.locator,a.label=n.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&i&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,t,a,null,!1);for(var o=0,l=this.output.queue.length;o<l;o+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[o]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var h=0,c=this.output.queue.length;h<c;h+=1)this.output.adjust.upward(this.output.queue[h]),this.output.adjust.leftward(this.output.queue[h]),this.output.adjust.downward(this.output.queue[h]),this.output.adjust.fix(this.output.queue[h]);var u=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.group_context.replace(r),u},p.getSpliceDelimiter=function(t,e,i){if(void 0!==this.citation.opt["after-collapse-delimiter"])t?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var n=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];n&&n.delimiter&&(this.tmp.splice_delimiter=n.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},p.getCitationCluster=function(t,e){var i,n,s,r,a,o,l,h,c,u,d,m,f,g,v,_,b,y;t=t||[],this.tmp.last_primary_names_string=!1,b=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",n=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.output.checkNestedBrace=new p.checkNestedBrace(this);var x=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix),w=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(w=!0),e&&this.registry.citationreg.citationById[e].properties["suppress-trailing-punctuation"]&&(w=!0),"note"===this.opt.xclass){for(var S=[],k=!1,T=!1,E=[],C=0,A=t.length;C<A;C+=1){var z=t[C][0].type,I=t[C][0].title,L=t[C][1].position,O=t[C][0].id;I&&"legal_case"===z&&O!==T&&L&&(I===k&&0!==S.length||(E=[],S.push(E)),E.push(t[C][1])),k=I,L,T=O}for(C=0,A=S.length;C<A;C+=1)if(!((E=S[C]).length<2)){var M=E.slice(-1)[0].locator;if(M)for(var P=0,N=E.length-1;P<N;P+=1)E[P].locator&&(M=!1);M&&(E[0].locator=M,delete E.slice(-1)[0].locator,E[0].label=E.slice(-1)[0].label,E.slice(-1)[0].label&&delete E.slice(-1)[0].label)}}for(s=[],r=t.length,a=0;a<r;a+=1){m=t[a][0],o=t[a][1],o=p.parseLocator.call(this,o),l=this.tmp.have_collapsed;var R=!1;if(a>0&&t[a-1][1]&&(R=!!t[a-1][1].locator),h={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var D=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,m,null,!1,o),this.output=D}if(this.tmp.in_cite_predecessor=!1,a>0?p.getCite.call(this,m,o,""+t[a-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,m,o,null,!0)),this.tmp.cite_renders_content||(y={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+m.id,citationItems_pos:a,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(y)),a===t.length-1&&this.parallel.ComposeSet(),h.splice_delimiter=p.getSpliceDelimiter.call(this,R,l,a),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),a>0){var H=(_=t[a-1][1]).suffix&&[".",","].indexOf(_.suffix.slice(-1))>-1,V=!_.suffix&&o.prefix&&[".",","].indexOf(o.prefix.slice(0,1))>-1;if(H||V){var j=h.splice_delimiter.indexOf(" ");h.splice_delimiter=j>-1&&!V?h.splice_delimiter.slice(j):""}}h.suppress_decorations=this.tmp.suppress_decorations,h.have_collapsed=this.tmp.have_collapsed,s.push(h)}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),d=this.output.queue.slice();this.citation.opt.layout_suffix,this.citation.opt.layout_delimiter;var B=this.citation.opt.layout_suffix,U=this.tmp.cite_locales[this.tmp.cite_locales.length-1];U&&this.tmp.cite_affixes[this.tmp.area][U]&&this.tmp.cite_affixes[this.tmp.area][U].suffix&&(B=this.tmp.cite_affixes[this.tmp.area][U].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(B.slice(0,1))>-1&&(B=B.slice(0,1));var F=this.citation.opt.layout_delimiter;F||(F=""),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(F.slice(0,1))>-1&&(F=F.slice(0,1)),B=this.output.checkNestedBrace.update(B);for(C=0,A=this.output.queue.length;C<A;C+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[C]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(w||(this.output.queue[this.output.queue.length-1].strings.suffix=B),this.output.queue[0].strings.prefix=x)),this.opt.development_extensions.clean_up_csl_flaws)for(P=0,N=this.output.queue.length;P<N;P+=1)this.output.adjust.upward(this.output.queue[P]),this.output.adjust.leftward(this.output.queue[P]),this.output.adjust.downward(this.output.queue[P]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[P]);for(a=0,r=d.length;a<r;a+=1){var q=[];if(this.output.queue=[d[a]],this.tmp.suppress_decorations=s[a].suppress_decorations,this.tmp.splice_delimiter=s[a].splice_delimiter,d[a].parallel_delimiter&&(this.tmp.splice_delimiter=d[a].parallel_delimiter),this.tmp.have_collapsed=s[a].have_collapsed,c=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof c)return this.tmp.suppress_decorations=!1,c;if("object"==typeof c&&0===c.length&&!o["suppress-author"])if(this.tmp.has_purged_parallel)c.push("");else{var $=0===a?b(this.citation.opt.layout_prefix):"",Z=a===d.length-1?b(this.citation.opt.layout_suffix):"";c.push($+"[CSL STYLE ERROR: reference with no printed form.]"+Z)}if(q.length&&"string"==typeof c[0]){c.reverse();var G=c.pop();G&&","===G.slice(0,1)?q.push(G):"string"==typeof q.slice(-1)[0]&&","===q.slice(-1)[0].slice(-1)?q.push(" "+G):G&&q.push(b(this.tmp.splice_delimiter)+G)}else c.reverse(),void 0!==(u=c.pop())&&(q.length&&"string"==typeof q[q.length-1]&&(q[q.length-1]+=u.successor_prefix),q.push(u));for(f=c.length,g=0;g<f;g+=1)"string"!=typeof(v=c[g])?void 0!==(u=c.pop())&&q.push(u):q.push(b(this.tmp.splice_delimiter)+v);0!==q.length||t[a][1]["suppress-author"]||1,q.length>1&&"string"!=typeof q[0]&&(q=[this.output.renderBlobs(q)]),q.length&&("string"==typeof q[0]?a>0&&(q[0]=b(this.tmp.splice_delimiter)+q[0]):q[0].splice_prefix=a>0?this.tmp.splice_delimiter:""),n=n.concat(q)}if((i+=this.output.renderBlobs(n))&&!this.tmp.suppress_decorations)for(r=this.citation.opt.layout_decorations.length,a=0;a<r;a+=1)"normal"!==(h=this.citation.opt.layout_decorations[a])[1]&&(o&&o["author-only"]||(i=this.fun.decorate[h[0]][h[1]](this,i)));return this.tmp.suppress_decorations=!1,i},p.getCite=function(t,e,i,n){var s,r;for(this.tmp.cite_renders_content=!1,this.parallel.StartCite(t,e,i),p.citeStart.call(this,t,e,n),s=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,t,e);s<this[this.tmp.area].tokens.length;)s=p.tokenExec.call(this,this[this.tmp.area].tokens[s],t,e);return p.citeEnd.call(this,t,e),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(r={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(r)),""+t.id},p.citeStart=function(t,e,i){if(i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var n=0,s=this.tmp.disambig_settings.givens.length;n<s;n+=1)this.tmp.disambig_settings.givens[n]=this.registry.registry[t.id].disambig.givens[n].slice();for(n=0,s=this.tmp.disambig_request.givens.length;n<s;n+=1)this.tmp.disambig_request.givens[n]=this.registry.registry[t.id].disambig.givens[n].slice()}}else this.tmp.disambig_restore=new p.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},p.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,n=this.registry.registry[t.id].disambig.givens.length;i<n;i+=1)this.registry.registry[t.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=s.length-1;i>-1;i+=-1)this.tmp.issued_date.list.push(s.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},t.exports=p,p.Engine.prototype.makeBibliography=function(t){var e,i,n,s,r,a,o;if(!1,!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),a=(e=p.getBibliographyEntries.call(this,t))[0],o=e[1];var l=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:a,bibliography_errors:this.tmp.bibliography_errors.slice(),done:l},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),0,s=this.registry.reflist.length,r=0;r<s;r+=1)(n=this.registry.reflist[r]).offset>i.maxoffset&&(i.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,o]},p.getBibliographyEntries=function(t){var e,i,n,s,r,a,o,l,h,c,u,d,m,f,g,v,_,b;function y(t,e){return t===e}function x(t,e){return!("none"!==t&&t||e)||("string"==typeof e?y(t,e):!!e&&function(t,e){for(h=e.length,c=0;c<h;c+=1)if(y(t,e[c]))return!0;return!1}(t,e))}if(e=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,i=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.retrieveItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,f={},t&&t.page_start&&t.page_length&&(b=0,!0!==t.page_start))for(var w=0,S=i.length;w<S&&(f[i[w]]=!0,t.page_start!=i[w]);w+=1);var k=[];for(w=0,S=i.length;w<S;w+=1){if(t&&t.page_start&&t.page_length){if(f[i[w]])continue;if(o=this.retrieveItem(i[w]),b===t.page_length)break}else if(f[(o=i[w]).id])continue;if(t){if(n=!0,t.include){for(n=!1,E=0,C=t.include.length;E<C;E+=1)if(x((l=t.include[E]).value,o[l.field])){n=!0;break}}else if(t.exclude){for(s=!1,E=0,C=t.exclude.length;E<C;E+=1)if(x((l=t.exclude[E]).value,o[l.field])){s=!0;break}s&&(n=!1)}else if(t.select){for(n=!1,r=!0,E=0,C=t.select.length;E<C;E+=1)x((l=t.select[E]).value,o[l.field])||(r=!1);r&&(n=!0)}if(t.quash){for(r=!0,E=0,C=t.quash.length;E<C;E+=1)x((l=t.quash[E]).value,o[l.field])||(r=!1);r&&(n=!1)}if(!n)continue}if((a=new p.Token("group",p.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",a),o.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=o.system_id:this.output.current.value().system_id=o.id,g=[[{id:""+o.id},o]],d=[],!this.registry.registry[o.id].master||t&&t.page_start&&t.page_length)this.registry.registry[o.id].siblings||(this.parallel.StartCitation(g),this.tmp.term_predecessor=!1,d.push(""+p.getCite.call(this,o)),t&&t.page_start&&t.page_length&&(b+=1));else{for(m=!0,this.parallel.StartCitation(g),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,d.push(""+p.getCite.call(this,o)),f[o.id]=!0,E=0,C=this.registry.registry[o.id].siblings.length;E<C;E+=1){var T=this.registry.registry[o.id].siblings[E];v=this.retrieveItem(T),d.push(""+p.getCite.call(this,v)),f[v.id]=!0}this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}_.push(""),this.tmp.bibliography_pos+=1,k.push(d),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(m||!this.output.queue[0].blobs[0].blobs[0].strings?(u=this.output.queue[0].blobs,m=!1):u=this.output.queue[0].blobs[0].blobs,u[0].strings.prefix=this.bibliography.opt.layout_prefix+u[0].strings.prefix);for(var E=0,C=this.output.queue.length;E<C;E+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[E]);for(E=0,C=this.output.queue.length;E<C;E+=1)this.output.adjust.upward(this.output.queue[E]),this.output.adjust.leftward(this.output.queue[E]),this.output.adjust.downward(this.output.queue[E],!0),this.output.adjust.fix(this.output.queue[E]);var A;if(!(A=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===p.NUMERIC){var z=e.length+1+". [CSL STYLE ERROR: reference with no printed form.]";A=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,z)}A&&e.push(A)}var I=!1;if(t&&t.page_start&&t.page_length){var L=i.slice(-1)[0],O=k.slice(-1)[0];L&&O&&L!=O||(I=!0)}return this.tmp.disambig_override=!1,[k,e,I]},t.exports=p,p.Engine.prototype.setCitationId=function(t,e){var i,n,s;if(i=!1,!t.citationID||e){for(n=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[n]){t.citationID="a"+n.toString(32);break}n+=1===(s=!s&&n<5e13?1:-1)?1:-1}i=""+n}return this.registry.citationreg.citationById[t.citationID]=t,i},t.exports=p,p.Engine.prototype.rebuildProcessorState=function(t,e,i){t||(t=[]),e||(e="html");for(var n={},s=[],r=0,a=t.length;r<a;r+=1)for(var o=0,l=t[r].citationItems.length;o<l;o+=1){var h=""+t[r].citationItems[o].id;n[h]||s.push(h),n[h]=!0}this.updateItems(s);var c=[],u=[],d=[],m=this.opt.mode;this.setOutputFormat(e);for(r=0,a=t.length;r<a;r+=1){var f=this.processCitationCluster(t[r],c,u,p.ASSUME_ALL_ITEMS_REGISTERED);c.push([t[r].citationID,t[r].properties.noteIndex]);for(o=0,l=f[1].length;o<l;o+=1){var g=f[1][o][0];d[g]=[c[g][0],c[g][1],f[1][o][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(m),d},p.Engine.prototype.restoreProcessorState=function(t){var e,i,n,s,r,a,o,l,h,c;l=[],h=[],t||(t=[]);var u=[],d={};for(e=0,i=t.length;e<i;e+=1)d[t[e].citationID]&&this.setCitationId(t[e],!0),d[t[e].citationID]=!0,u.push(t[e].properties.index);var m=t.slice();for(m.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,i=m.length;e<i;e+=1)m[e].properties.index=e;for(e=0,i=m.length;e<i;e+=1){for(c=[],n=0,s=m[e].citationItems.length;n<s;n+=1)void 0===(r=m[e].citationItems[n]).sortkeys&&(r.sortkeys=[]),o=[a=this.retrieveItem(""+r.id),r],c.push(o),m[e].citationItems[n].item=a,h.push(""+r.id);m[e].properties.unsorted||c.sort(this.citation.srt.compareCompositeKeys),m[e].sortedItems=c,this.registry.citationreg.citationById[m[e].citationID]=m[e]}for(this.updateItems(h),e=0,i=t.length;e<i;e+=1)l.push([""+t[e].citationID,t[e].properties.noteIndex]);var f=[];return t&&t.length?f=this.processCitationCluster(t[0],[],l.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),f},p.Engine.prototype.updateItems=function(t,e,i,n){var s=this.tmp.area,r=this.tmp.root,a=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",n||(this.tmp.loadedItemIDs={}),this.registry.init(t),i)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),e||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=s,this.tmp.root=r,this.registry.getSortedIds()},p.Engine.prototype.updateUncitedItems=function(t,e){var i=this.tmp.area,n=this.tmp.root,s=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},t||(t=[]),"object"==typeof t)if(void 0===t.length){var r=t;for(var a in t=[],r)t.push(a)}else if("number"==typeof t.length){r={};for(var o=0,l=t.length;o<l;o+=1)r[t[o]]=!0}return this.registry.init(t,!0),this.registry.dopurge(r),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),e||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=i,this.tmp.root=n,this.registry.getSortedIds()},t.exports=p,p.localeResolve=function(t,e){var i,n;return e||(e="en-US"),t||(t=e),i={},n=t.split(/[\-_]/),i.base=p.LANG_BASES[n[0]],void 0===i.base?{base:e,best:t,bare:n[0]}:(1===n.length&&(i.generic=!0),1===n.length||"x"===n[1]?i.best=i.base.replace("_","-"):i.best=n.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=n[0],i)},p.Engine.prototype.localeConfigure=function(t,e){var i;if((!e||!this.locale[t.best])&&("en-US"===t.best?(i=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(i=p.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(i,t.base,t.best)),i=p.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(i,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),void 0===this.locale[t.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())>-1?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]="–"),void 0===this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="–"),void 0===this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var n=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,r=n.length;s<r;s+=1)for(var a=0,o=this.opt[n[s]].length;a<o;a+=1)this.opt[n[s]][a]=this.opt[n[s]][a].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},p.Engine.prototype.localeSet=function(t,e,i){var n,s,r,a,o,l,h,c,u,d,m,f;if(e=e.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=p.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),s=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))s=t.dataObj;else for(r=t.getNodesByName(t.dataObj,"locale"),o=0,m=t.numberofnodes(r);o<m;o+=1)if(n=r[o],t.getAttributeValue(n,"lang","xml")===e){s=n;break}for(r=t.getNodesByName(s,"type"),M=0,P=t.numberofnodes(r);M<P;M+=1){var g=r[M],v=t.getAttributeValue(g,"name"),_=t.getAttributeValue(g,"gender");this.opt.gender[v]=_}if(t.getNodesByName(s,"term","ordinal").length){for(var b in this.locale[i].ord.keys)delete this.locale[i].terms[b];this.locale[i].ord={"1.0.1":!1,keys:{}}}r=t.getNodesByName(s,"term");var y={"last-digit":{},"last-two-digits":{},"whole-number":{}},x=!1,w={};for(o=0,m=t.numberofnodes(r);o<m;o+=1){if(l=r[o],"sub verbo"===(c=t.getAttributeValue(l,"name"))&&(c="sub-verbo"),"ordinal"===c.slice(0,7)){t.getNodeValue(l);if("ordinal"===c)x=!0;else{var S,k=t.getAttributeValue(l,"match"),T=c.slice(8);(S=t.getAttributeValue(l,"gender-form"))||(S="neuter"),k||(k="last-two-digits","0"===T.slice(0,1)&&(k="last-digit")),"0"===T.slice(0,1)&&(T=T.slice(1)),y[k][T]||(y[k][T]={}),y[k][T][S]=c}this.locale[i].ord.keys[c]=!0}void 0===this.locale[i].terms[c]&&(this.locale[i].terms[c]={}),h="long",S=!1,t.getAttributeValue(l,"form")&&(h=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(S=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[i]["noun-genders"][c]=t.getAttributeValue(l,"gender")),S?(this.locale[i].terms[c][S]={},this.locale[i].terms[c][S][h]=[],f=this.locale[i].terms[c][S],w[c]=!0):(this.locale[i].terms[c][h]=[],f=this.locale[i].terms[c]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(f[h][0]=t.getNodeValue(l,"single"),f[h][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),f[h][1]=t.getNodeValue(l,"multiple"),f[h][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(f[h]=t.getNodeValue(l),f[h].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(x){for(var E in w){var C={},A=0;for(var z in this.locale[i].terms[E])["masculine","feminine"].indexOf(z)>-1?C[z]=this.locale[i].terms[E][z]:A+=1;if(!A)if(C.feminine)for(var z in C.feminine)this.locale[i].terms[E][z]=C.feminine[z];else if(C.masculine)for(var z in C.masculine)this.locale[i].terms[E][z]=C.masculine[z]}this.locale[i].ord["1.0.1"]=y}for(c in this.locale[i].terms)for(M=0,P=2;M<P;M+=1)if(S=p.GENDERS[M],this.locale[i].terms[c][S])for(h in this.locale[i].terms[c])this.locale[i].terms[c][S][h]||(this.locale[i].terms[c][S][h]=this.locale[i].terms[c][h]);for(r=t.getNodesByName(s,"style-options"),o=0,m=t.numberofnodes(r);o<m;o+=1)for(d in u=r[o],a=t.attributes(u))if(a.hasOwnProperty(d))if("@punctuation-in-quote"===d||"@limit-day-ordinals-to-day-1"===d)"true"===a[d]?this.locale[i].opts[d.slice(1)]=!0:this.locale[i].opts[d.slice(1)]=!1;else if("@jurisdiction-preference"===d){var I=a[d].split(/\s*,\s*/);this.locale[i].opts[d.slice(1)]=I}else if("@skip-words"===d){var L=a[d].split(/\s*,\s*/);this.locale[i].opts[d.slice(1)]=L}else if("@leading-noise-words"===d){var O=a[d].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=O}else if("@name-as-sort-order"===d){this.locale[i].opts["name-as-sort-order"]={};for(var M=0,P=(N=a[d].split(/\s+/)).length;M<P;M+=1)this.locale[i].opts["name-as-sort-order"][N[M]]=!0}else if("@name-as-reverse-order"===d){this.locale[i].opts["name-as-reverse-order"]={};for(M=0,P=(N=a[d].split(/\s+/)).length;M<P;M+=1)this.locale[i].opts["name-as-reverse-order"][N[M]]=!0}else if("@name-never-short"===d){this.locale[i].opts["name-never-short"]={};var N;for(M=0,P=(N=a[d].split(/\s+/)).length;M<P;M+=1)this.locale[i].opts["name-never-short"][N[M]]=!0}for(r=t.getNodesByName(s,"date"),o=0,m=t.numberofnodes(r);o<m;o+=1){var R=r[o];this.locale[i].dates[t.getAttributeValue(R,"form")]=R}},t.exports=p,p.getLocaleNames=function(t,e){var i=p.setupXml(t);function n(t,e){var i=["base","best"];if(e){normalizedLocale=p.localeResolve(e);for(var n=0,s=i.length;n<s;n++)normalizedLocale[i[n]]&&-1===t.indexOf(normalizedLocale[i[n]])&&t.push(normalizedLocale[i[n]])}}function s(t){for(var e=i.getNodesByName(i.dataObj,t),n=0,s=e.length;n<s;n++){var a=i.getAttributeValue(e[n],"locale");if(a)for(var o=0,l=(a=a.split(/ +/)).length;o<l;o++)this.extendLocaleList(r,a[o])}}var r=["en-US"];n(r,e);var a=i.getNodesByName(i.dataObj,"style")[0],o=i.getAttributeValue(a,"default-locale");n(r,o);for(var l=["layout","if","else-if","condition"],h=0,c=l.length;h<c;h++)s(i);return r},t.exports=p,p.Node={},p.Node.bibliography={build:function(t,e){if(this.tokentype===p.START){t.build.area="bibliography",t.build.root="bibliography",t.build.extension="";this.execs.push(function(t,e){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""})}e.push(this)}},t.exports=p,p.Node.choose={build:function(t,e){var i;this.tokentype===p.START&&(i=function(t,e){t.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(i=function(t,e){t.tmp.jump.pop()}),this.execs.push(i),e.push(this)},configure:function(t,e){this.tokentype===p.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},t.exports=p,p.Node.citation={build:function(t,e){if(this.tokentype===p.START){t.build.area="citation",t.build.root="citation",t.build.extension="";this.execs.push(function(t,e){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""})}if(this.tokentype===p.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==p.POSITION&&t.opt.update_mode!==p.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var i=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[i].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new p.Registry.Comparifier(t,"citation_sort")}e.push(this)}},t.exports=p,p.Node["#comment"]={build:function(t,e){}},t.exports=p,p.Node.date={build:function(t,e){var i,n,s,r,a,o,l,h,c,u;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||p.Util.substituteStart.call(this,t,e),i=t.build.extension?p.dateMacroAsSortKey:function(t,e,i){var p;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],p=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(n=e[this.variables[0]])&&(n={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&i&&"locator-date"===this.variables[0]&&i["locator-date"]&&(n=i["locator-date"])),t.tmp.date_object=n,s=this.dateparts.length,r=0;r<s;r+=1)a=this.dateparts[r],void 0!==t.tmp.date_object[a+"_end"]?p.push(a):"month"===a&&void 0!==t.tmp.date_object.season_end&&p.push(a);for(o=[],s=(l=["year","month","day"]).length,r=0;r<s;r+=1)p.indexOf(l[r])>-1&&o.push(l[r]);for(p=o.slice(),h=2,s=p.length,r=0;r<s;r+=1)if(a=p[r],c=t.tmp.date_object[a],u=t.tmp.date_object[a+"_end"],c!==u){h=r;break}t.tmp.date_collapse_at=p.slice(h)}},this.execs.push(i),i=function(t,e){if(e[this.variables[0]]&&(t.parallel.StartVariable(this.variables[0]),t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var i in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(i)&&"year"===i.slice(0,4)){t.tmp.issued_date={};var n=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=n,t.tmp.issued_date.pos=n.length-1}},this.execs.push(i)),t.build.extension||this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(i=function(t,e){e[this.variables[0]]&&(t.output.endTag(),t.parallel.CloseVariable(this.variables[0]))},this.execs.push(i)),e.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||t.build.extension||p.Util.substituteEnd.call(this,t,e)}},t.exports=p,p.Node["date-part"]={build:function(t,e){var i,n,s,r,a,o,l,h,c,u,d,m,f,g,v,_,b,y,x;this.strings.form||(this.strings.form="long"),t.build.date_parts.push(this.strings.name);var w=t.build.date_variables[0];i=function(t,e){if(t.tmp.date_object){if(r=!0,a="",o="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(t.parallel.AppendToVariable(t.tmp.date_object.literal),t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(a=t.tmp.date_object[this.strings.name],o=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==a||t.tmp.suppress_decorations||(a=!1),l=!t.tmp.suppress_decorations,h=t.tmp.have_collapsed,c="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,u=t.opt["disambiguate-add-year-suffix"],l&&u&&c&&(t.tmp.years_used.push(a),t.tmp.last_years_used.length>=t.tmp.years_used.length&&h&&t.tmp.last_years_used[t.tmp.years_used.length-1]===a&&(a=!1)),void 0!==a){d=!1,m=!1,!1,!1,"year"===this.strings.name&&(parseInt(a,10)<500&&parseInt(a,10)>0&&(m=t.getTerm("ad")),parseInt(a,10)<0&&(d=t.getTerm("bc"),a=-1*parseInt(a,10)),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&t.getTerm("ad"),parseInt(o,10)<0&&(t.getTerm("bc"),o=-1*parseInt(o,10)))),t.parallel.AppendToVariable(a);for(var i=""+t.tmp.date_object.month;i.length<2;)i="0"+i;i="month-"+i;var S=t.locale[t.opt.lang]["noun-genders"][i];if(this.strings.form){var k=this.strings.form;if("day"===this.strings.name&&"ordinal"===k&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+a!="1"&&(k="numeric"),a=p.Util.Dates[this.strings.name][k](t,a,S,this.default_locale),"month"===this.strings.name)if(t.tmp.strip_periods)a=a.replace(/\./g,"");else for(var T=0,E=this.decorations.length;T<E;T+=1)if("@strip-periods"===this.decorations[T][0]&&"true"===this.decorations[T][1]){a=a.replace(/\./g,"");break}if(o)if(o=p.Util.Dates[this.strings.name][k](t,o,S,"accessed"===w,"_end"),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(T=0,E=this.decorations.length;T<E;T+=1)if("@strip-periods"===this.decorations[T][0]&&"true"===this.decorations[T][1]){o=o.replace(/\./g,"");break}}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(f=!0,s=t.tmp.date_collapse_at.length,n=0;n<s;n+=1)if(x=t.tmp.date_collapse_at[n],-1===t.tmp.donesies.indexOf(x)){f=!1;break}if(f){if(""+o!="0"){if(0===t.dateput.queue.length&&(r=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&a&&o){o=t.fun.year_mangler(a+"-"+o,!0);var C=t.getTerm("year-range-delimiter");o=o.slice(o.indexOf(C)+1)}t.dateput.append(o,this),r&&(t.dateput.current.value()[0].strings.prefix="")}t.output.append(a,this),(g=t.output.current.value()).blobs[g.blobs.length-1].strings.suffix="",t.output.append(t.getTerm("year-range-delimiter"),"empty"),v=t.dateput.current.value(),g.blobs=g.blobs.concat(v),t.dateput.string(t,t.dateput.queue),t.tmp.date_collapse_at=[]}else t.output.append(a,this),t.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(0===t.dateput.queue.length&&(r=!0),t.dateput.openLevel("empty"),t.dateput.append(o,this),r&&(t.dateput.current.value().blobs[0].strings.prefix=""),d&&t.dateput.append(d),m&&t.dateput.append(m),t.dateput.closeLevel())}else t.output.append(a,this);d&&t.output.append(d),m&&t.output.append(m),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((a=""+t.tmp.date_object.season)&&a.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+a),this)):a&&t.output.append(a,this));t.tmp.value=[],!e[w]||!a&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,b=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),_=new p.NumericBlob(!1,b,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,y=new p.Util.Suffixator(p.SUFFIX_CHARS),_.setFormatter(y),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(_.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?_.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?_.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:_.successor_prefix=t[t.tmp.area].opt.layout_delimiter,_.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(_,"literal"))}},this.execs.push(i),e.push(this)}},t.exports=p,p.Node["else-if"]={build:function(t,e){p.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){p.Conditions.Configure.call(this,t,e)}},t.exports=p,p.Node.else={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===p.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},t.exports=p,p.Node["et-al"]={build:function(t,e){if("citation"===t.build.area||"bibliography"===t.build.area){this.execs.push(function(t,e,i){t.tmp.etal_node=this,"string"==typeof this.strings.term&&(t.tmp.etal_term=this.strings.term)})}e.push(this)}},t.exports=p,p.Node.group={build:function(t,e,i){var n,s,r;if(this.realGroup=i,this.tokentype===p.START&&(p.Util.substituteStart.call(this,t,e),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()+1),this.juris||e.push(this),(s=[]).push(n=function(t,e){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){var i=!1,n=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var s=t.tmp.group_context.tip.label_form;s||(s=this.strings.label_form_override);var r=t.tmp.group_context.tip.label_capitalize_if_first;r||(r=this.strings.label_capitalize_if_first),t.tmp.group_context.tip.condition?(i=t.tmp.group_context.tip.condition,n=t.tmp.group_context.tip.force_suppress):this.strings.reject?(i={test:this.strings.reject,not:!0},n=!0,[]):this.strings.require&&(i={test:this.strings.require,not:!1},[]),t.tmp.group_context.push({old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:s,label_capitalize_if_first:r,parallel_conditions:this.strings.set_parallel_condition,condition:i,force_suppress:n,done_vars:t.tmp.group_context.tip.done_vars.slice()})}}),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(t.build["publisher-special"]=!0,n=function(t,e){if(this.strings["subgroup-delimiter"]&&e.publisher&&e["publisher-place"]){var i=e.publisher.split(/;\s*/),n=e["publisher-place"].split(/;\s*/);i.length>1&&i.length===n.length&&(t.publisherOutput=new p.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=i,t.publisherOutput["publisher-place-list"]=n)}},this.execs.push(n)),this.juris)){for(var a=0,o=e.length;a<o;a++)e[a];var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,t,e);var h=new p.Token("if",p.START);r=this.juris,n=function(e){if(!t.sys.retrieveStyleModule||!p.MODULE_MACROS[r]||!e.jurisdiction)return!1;var i=t.getJurisdictionList(e.jurisdiction);if(!t.opt.jurisdictions_seen[i[0]]){var n=t.retrieveAllStyleModules(i);for(var s in n){t.juris[s]={};for(var a=p.setupXml(n[s]),o=0,l=(d=a.getNodesByName(a.dataObj,"law-module")).length;o<l;o++){var h=a.getAttributeValue(d[o],"types");if(h){t.juris[s].types={};for(var c=0,u=(h=h.split(/\s+/)).length;c<u;c++)t.juris[s].types[h[c]]=!0}}var d;for(t.juris[s].types||(t.juris[s].types=p.MODULE_TYPES),o=0,l=(d=a.getNodesByName(a.dataObj,"macro")).length;o<l;o++){var m=a.getAttributeValue(d[o],"name");p.MODULE_MACROS[m]?(t.juris[s][m]=[],t.buildTokenLists(d[o],t.juris[s][m]),t.configureTokenList(t.juris[s][m])):p.debug('CSL: skipping non-modular macro name "'+m+'" in module context')}}}for(o=0,l=i.length;o<l;o++)if(s=i[o],t.juris[s]&&t.juris[s].types[e.type])return e["best-jurisdiction"]=s,!0;return!1},h.tests.push(n),h.test=t.fun.match.any(h,t,h.tests),e.push(h);var c=new p.Token("text",p.SINGLETON);n=function(t,e,i){var n=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;n<t.juris[e["best-jurisdiction"]][this.juris].length;)n=p.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][n],e,i)},c.juris=this.juris,c.execs.push(n),e.push(c);var u=new p.Token("if",p.END);p.Node.if.build.call(u,t,e);var d=new p.Token("else",p.START);p.Node.else.build.call(d,t,e)}if(this.tokentype===p.END&&(t.build["publisher-special"]&&(t.build["publisher-special"]=!1,"string"==typeof t[t.build.root].opt["name-delimiter"]&&(n=function(t,e){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(n))),n=function(t,e){if(t.output.endTag(),this.realGroup){var i=t.tmp.group_context.pop();if(t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=i.force_suppress),!i.force_suppress&&(i.variable_success||i.term_intended&&!i.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var n=t.output.current.value().blobs,s=t.output.current.value().blobs.length-1;if(!t.tmp.just_looking&&void 0!==i.parallel_conditions){var r={blobs:n,conditions:i.parallel_conditions,id:e.id,pos:s};t.parallel.parallel_conditional_blobs_list.push(r)}}else{if(t.tmp.term_predecessor=i.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=i.variable_attempt,i.force_suppress&&!t.tmp.group_context.tip.condition){t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=i.variable_success_parent;for(var a=0,o=i.done_vars.length;a<o;a++)t.tmp.done_vars.indexOf(i.done_vars[a])>-1&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,a).concat(t.tmp.done_vars.slice(a+1)))}t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(n),this.juris)){var m=new p.Token("else",p.END);p.Node.else.build.call(m,t,e);var f=new p.Token("choose",p.END);p.Node.choose.build.call(f,t,e)}this.tokentype===p.END&&(this.juris||e.push(this),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,t,e))}},t.exports=p,p.Node.if={build:function(t,e){p.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){p.Conditions.Configure.call(this,t,e)}},t.exports=p,p.Node.conditions={build:function(t,e){this.tokentype===p.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&t.tmp.conditions.matchCombine()}},t.exports=p,p.Node.condition={build:function(t,e){if(this.tokentype===p.SINGLETON){var i=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(i)}}},t.exports=p,p.Conditions={},p.Conditions.TopNode=function(t,e){var i;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new p.Conditions.Engine(t,this)),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(i=function(t,e){return this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default),this[t.tmp.jump.value()]},this.execs.push(i),this.locale_default&&(t.opt.lang=this.locale_default))},p.Conditions.Configure=function(t,e){this.tokentype===p.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},p.Conditions.Engine=function(t,e){this.token=e,this.state=t},p.Conditions.Engine.prototype.addTest=function(t){this.token.tests.push(t)},p.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},t.exports=p,p.Node.info={build:function(t,e){this.tokentype===p.START?t.build.skip="info":t.build.skip=!1}},t.exports=p,p.Node.institution={build:function(t,e){if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){this.execs.push(function(t,e){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),void 0===this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new p.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this})}e.push(this)},configure:function(t,e){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(t.build.has_institution=!0)}},t.exports=p,p.Node["institution-part"]={build:function(t,e){var i;"long"===this.strings.name?i=this.strings["if-short"]?function(t,e){t.nameOutput.institutionpart["long-with-short"]=this}:function(t,e){t.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(i=function(t,e){t.nameOutput.institutionpart.short=this}),this.execs.push(i),e.push(this)}},t.exports=p,p.Node.key={build:function(t,e){var i;e=t[t.build.root+"_sort"].tokens;var n=new p.Token("key",p.START);t.tmp.root=t.build.root,n.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),n.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),n.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),i=function(t,e){t.tmp.done_vars=[]},n.execs.push(i),t.opt.citation_number_sort_direction=this.strings.sort_direction,i=function(t,e){t.output.openLevel("empty")},n.execs.push(i);var s=[];if(this.strings.sort_direction===p.DESCENDING?(s.push(1),s.push(-1)):(s.push(-1),s.push(1)),t[t.build.area].opt.sort_directions.push(s),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(t.build.date_key=!0),i=function(t,e){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},n.execs.push(i),e.push(n),this.variables.length){var r=this.variables[0];if("citation-number"===r&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t.opt.citation_number_sort=!1),"bibliography"===t.build.root&&"_sort"===t.build.extension&&(t.opt.citation_number_sort_used=!1)),p.CREATORS.indexOf(r)>-1){var a=new p.Token("names",p.START);a.tokentype=p.START,a.variables=this.variables,p.Node.names.build.call(a,t,e);var o=new p.Token("name",p.SINGLETON);o.tokentype=p.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(o,t,e);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,t,e);var h=new p.Token("names",p.END);h.tokentype=p.END,p.Node.names.build.call(h,t,e)}else{var c=new p.Token("text",p.SINGLETON);if(c.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(r)>-1)i=function(t,e){var i;i=!1,(i="citation-number"===r?t.registry.registry[e.id].seq.toString():e[r])&&(i=p.Util.padding(i)),t.output.append(i,this)};else if("citation-label"===r)i=function(t,e){var i=t.getCitationLabel(e);t.output.append(i,this)};else if(p.DATE_VARIABLES.indexOf(r)>-1)i=p.dateAsSortKey,c.variables=this.variables;else if("title"===r){i=t.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else i=function(t,e){var i=e[r];t.output.append(i,"empty")};c.execs.push(i),e.push(c)}}else{var u=new p.Token("text",p.SINGLETON);u.postponed_macro=this.postponed_macro,p.expandMacro.call(t,u,e)}var d=new p.Token("key",p.END);i=function(t,e){var i=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(i=t.sys.normalizeUnicode(i)),""===(i=i?i.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(i=void 0),("string"!=typeof i||t.tmp.empty_date)&&(i=void 0,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(i),t.tmp.value=[]},d.execs.push(i),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),i=function(t,e){var i=t.registry.registry[e.id].disambig.year_suffix;i||(i=0);var n=p.Util.padding(""+i);t[t.tmp.area].keys.push(n)},d.execs.push(i)),t.build.date_key=!1),i=function(t,e){t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-use-last"]=void 0,t.tmp.sort_key_flag=!1},d.execs.push(i),e.push(d)}},t.exports=p,p.Node.label={build:function(t,e){if(this.strings.term){this.strings.form;this.execs.push(function(t,e,i){var n=p.evaluateLabel(this,t,e,i);i&&"locator"===this.strings.term&&(t.parallel.StartVariable("label"),t.parallel.AppendToVariable(i.label),i.section_form_override=this.strings.form),n&&(t.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(t,n),-1===n.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area||(n=p.Output.Formatters["capitalize-first"](t,n))),t.output.append(n,this)),i&&"locator"===this.strings.term&&t.parallel.CloseVariable()})}else{var i=t.build.names_variables.slice(-1)[0];t.build.name_label||(t.build.name_label={});for(var n=0,s=i.length;n<s;n+=1)t.build.name_label[i[n]]||(t.build.name_label[i[n]]={});if(t.build.name_flag)for(n=0,s=i.length;n<s;n+=1)t.build.name_label[i[n]].after=this;else for(var n=0,s=i.length;n<s;n+=1)t.build.name_label[i[n]].before=this}e.push(this)}},t.exports=p,p.Node.layout={build:function(t,e){var i,n,s,r,a;function o(){"bibliography"===t.build.area&&(s=new p.Token("text",p.SINGLETON),i=function(t,e,i){var n;t.tmp.cite_locales[t.tmp.cite_locales.length-1];n=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var s=t.output.current.value();t.opt.using_display?s.blobs[s.blobs.length-1].strings.suffix=n:s.strings.suffix=n,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},s.execs.push(i),e.push(s))}if(this.tokentype===p.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],i=function(t,e,i){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&(cite_entry=new p.Token("group",p.START),cite_entry.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",cite_entry),t.output.current.value().item_id=e.system_id,i&&(t.output.current.value().locator_txt=i.locator_txt,t.output.current.value().suffix_txt=i.suffix_txt))},this.execs.push(i)),this.tokentype!==p.START||t.tmp.cite_affixes[t.build.area]||(i=function(t,e){t.tmp.done_vars=[],t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1},this.execs.push(i),i=function(t,e){t.tmp.sort_key_flag=!1},this.execs.push(i),i=function(t,e){t.tmp.nameset_counter=0},this.execs.push(i),i=function(t,e){var i=new p.Token;t.opt.development_extensions.rtl_support&&["ar","he","fa","ur","yi","ps","syr"].indexOf(e.language)>-1&&((i=new p.Token).strings.prefix="‫",i.strings.suffix="‬"),t.output.openLevel(i)},this.execs.push(i),e.push(this),t.opt.development_extensions.rtl_support,"citation"===t.build.area&&(n=new p.Token("text",p.SINGLETON),i=function(t,e,i){var n;if(i&&i.prefix){n="";var s=i.prefix.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),r=s.slice(-1);s.match(p.ENDSWITH_ROMANESQUE_REGEXP)?n=" ":p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(r)>-1?n=" ":r.match(/[\)\],0-9]/)&&(n=" ");var a=!1;p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(r)>-1&&i.prefix.trim().indexOf(" ")>-1&&(t.tmp.term_predecessor=!1,a=!0);var o=(i.prefix+n).replace(/\s+/g," ");t.tmp.just_looking||(o=t.output.checkNestedBrace.update(o)),t.output.append(o,this,!1,a)}},n.execs.push(i),e.push(n))),this.locale_raw&&((a=new p.Token("dummy",p.START)).locale=this.locale_raw,a.strings.delimiter=this.strings.delimiter,a.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===p.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(r=new p.Token("else",p.START),p.Node.else.build.call(r,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)a.name="else-if",p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node["else-if"].build.call(a,t,e);else{var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,t,e),a.name="if",p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node.if.build.call(a,t,e)}t.tmp.cite_affixes[t.build.area][a.locale]={},t.tmp.cite_affixes[t.build.area][a.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][a.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(o(),t.build.layout_locale_flag?(a.name="else-if",a.tokentype=p.END,p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node["else-if"].build.call(a,t,e)):(a.name="if",a.tokentype=p.END,p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node.if.build.call(a,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(o(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(r=new p.Token("else",p.END),p.Node.else.build.call(r,t,e),r=new p.Token("choose",p.END),p.Node.choose.build.call(r,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(s=new p.Token("text",p.SINGLETON),i=function(t,e,i){var n;if(i&&i.suffix){n="",(i.suffix.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(i.suffix.slice(0,1))>-1)&&(n=" ");var s=i.suffix;t.tmp.just_looking||(s=t.output.checkNestedBrace.update(s)),t.output.append(n+s,this)}},s.execs.push(i),e.push(s)),i=function(t,e){t.output.closeLevel()},this.execs.push(i),i=function(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(i),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},t.exports=p,p.Node.macro={build:function(t,e){}},t.exports=p,p.NameOutput=function(t,e,i,n){this.debug=!1,this.state=t,this.Item=e,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},p.NameOutput.prototype.init=function(t){this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,i=this.variables.length;e<i;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length},p.NameOutput.prototype.reinit=function(t,e){if(this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var n=0,s=this.variables.length;n<s;n+=1)this.Item[this.variables[n]]&&this.Item[this.variables[n]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[n]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=i}},p.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",m=0,f=this.family.execs.length;m<f;m+=1)this.family.execs[m].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",m=0,f=this.given.execs.length;m<f;m+=1)this.given.execs[m].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"!==this.name.strings.form){this.setEtAlParameters(),this.setCommonTerm(),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var e=[];for(m=0,f=t.length;m<f;m+=1){var i=t[m],n=[],s=!1,r=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var a=0,o=this.institutions[i].length;a<o;a+=1)n.push(this.joinPersonsAndInstitutions([this.persons[i][a],this.institutions[i][a]]));if(this.institutions[i].length){var l=this.nameset_base+this.variable_offset[i];this.freeters[i].length&&(l+=1),s=this.joinInstitutionSets(n,l)}r=this.joinFreetersAndInstitutionSets([this.freeters[i],s])}else r=this._join([this.freeters[i]],"");if(r&&(this.state.tmp.extension||(r=this._applyLabels(r,i)),e.push(r)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),m=0,f=e.length;m<f;m+=1)this.state.output.append(e[m],"literal",!0);this.state.output.closeLevel("empty");var h=this.state.output.pop(),c=p.Util.cloneToken(this.names);if(this.state.output.append(h,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.state.tmp.name_node.top=this.state.output.current.value(),"authority"!==t[0]){var u=[],d=this.Item[t[0]];if(d)for(var m=0,f=d.length;m<f;m+=1){var g=p.Util.Names.getRawName(d[m]);g&&u.push(g)}(u=u.join(", "))&&(this.state.tmp.name_node.string=u)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type){var v=[];this.state.tmp.first_name_string&&v.push(this.state.tmp.first_name_string),this.Item.title&&v.push(this.Item.title),(v=v.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",v),this.state.transform.abbrevs.default.classic[v]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[v],"empty",!0),h=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(h)))}this._collapseAuthor(),this.variables=[]}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},p.NameOutput.prototype._applyLabels=function(t,e){var i;if(!this.label||!this.label[this.labelVariable])return t;var n=0,s=this.freeters_count[e]+this.institutions_count[e];if(s>1)n=1;else{for(var r=0,a=this.persons[e].length;r<a;r+=1)s+=this.persons_count[e][r];s>1&&(n=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(n=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(e,n,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(n=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(e,n,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},p.NameOutput.prototype._buildLabel=function(t,e,i,n){this.common_term&&(t=this.common_term);var s=!1,r=this.label[n][i];return r&&(s=p.castLabel(this.state,r,t,e,p.TOLERANT)),s},p.NameOutput.prototype._collapseAuthor=function(){var t,e,i;0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.item&&this.item["suppress-author"]&&this._first_creator_variable==this.variables[0]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1))))},t.exports=p,p.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},t.exports=p,p.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,i,n;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],s=0,r=this.persons[t].length;s<r;s+=1)this.persons_count[t][s]=this.persons[t][s].length,this.persons[t][s]=this._truncateNameList(this.persons,t,s);if((n=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&t)||this._please_chop)for(e=0,i=this.variables.length;e<i;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=n));for(var s=0,r=this.persons[t].length;s<r;s++)if(this.persons[t][s].length){if(this._please_chop===t){this.persons[t][s]=this.persons[t][s].slice(1),this.persons_count[t][s]+=-1,this._please_chop=!1;break}if(n&&!this._please_chop){this.freeters[t]=this.persons[t][s].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],[],this._please_chop=n;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,[],this._please_chop=n))}for(e=0,i=this.variables.length;e<i;e+=1){this.institutions[t].length&&(this.nameset_offset+=1);for(s=0,r=this.persons[t].length;s<r;s++)this.persons[t][s].length&&(this.nameset_offset+=1)}},p.NameOutput.prototype._truncateNameList=function(t,e,i){var n;if(n=void 0===i?t[e]:t[e][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&n.length>50&&n.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;n=n.slice(0,s+1).concat(n.slice(-1))}return n},t.exports=p,p.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,i,n,s=this.Item,r=this.variables;for(this.varnames=r.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=r.length;t<e;t+=1){var a=r[t];this.variable_offset[a]=this.nameset_offset;var o=this._normalizeVariableValue(s,a);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(a,o),this._getPersonsAndInstitutions(a,o),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[a]=[],i=0,n=this.persons[a].length;i<n;i+=1)this.persons[a][i]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[a]=[],this.freeters[a]=this.freeters[a].concat(this.persons[a]),i=0,n=this.persons[a].length;i<n;i+=1)for(var l=0,h=this.persons[a][i].length;l<h;l+=1)this.freeters[a].push(this.persons[a][i][l]);this.persons[a]=[]}}},p.NameOutput.prototype._normalizeVariableValue=function(t,e){var i;return"string"==typeof t[e]||"number"==typeof t[e]?(p.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),i=[{literal:t[e]+""}]):t[e]?"number"!=typeof t[e].length?(p.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]],i=t[e].slice()):i=t[e].slice():i=[],i},p.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=e.length-1;i>-1&&this.isPerson(e[i]);i--){(n=this._checkNickname(e.pop()))&&this.freeters[t].push(n)}else for(i=e.length-1;i>-1;i--){var n=e.pop();if(this.isPerson(n))n=this._checkNickname(n);this.freeters[t].push(n)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},p.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],n=!1,s=!0,r=e.length-1;r>-1;r+=-1)if(this.isPerson(e[r])){var a=this._checkNickname(e[r]);a&&i.push(a)}else n=!0,this.institutions[t].push(e[r]),s||(i.reverse(),this.persons[t].push(i),i=[]),s=!1;n&&(i.reverse(),this.persons[t].push(i),this.persons[t].reverse(),this.institutions[t].reverse())}},p.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;e>-1;e+=-1)t.pop()},p.NameOutput.prototype._checkNickname=function(t){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var e;if((e=p.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var i=e;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",i);var n=this.state.transform.abbrevs.default.nickname[i];n&&(t="!here>>>"!==n&&{family:n,given:""})}}return t},t.exports=p,p.NameOutput.prototype.joinPersons=function(t,e,i,n){return n||(n="name"),void 0===i?1===this.etal_spec[e].freeters?this._joinEtAl(t,n):2===this.etal_spec[e].freeters?this._joinEllipsis(t,n):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,n):1===this.etal_spec[e].persons[i]?this._joinEtAl(t,n):2===this.etal_spec[e].persons[i]?this._joinEllipsis(t,n):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,n)},p.NameOutput.prototype.joinInstitutionSets=function(t,e){return 1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},p.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return this._join(t,"[never here]",this.with.single,this.with.multiple)},p.NameOutput.prototype._joinEtAl=function(t,e){var i=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),t.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},p.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},p.NameOutput.prototype._join=function(t,e,i,n,s){var r,a;if(!t)return!1;for(r=t.length-1;r>-1;r+=-1)t[r]&&0!==t[r].length&&t[r].blobs.length||(t=t.slice(0,r).concat(t.slice(r+1)));if(!t.length)return!1;if(i&&2===t.length)i&&(i=new p.Blob(i.blobs,i)),t=[t[0],i,t[1]];else{var o;for(o=n?2:1,r=0,a=t.length-o;r<a;r+=1)t[r].strings.suffix+=e;if(t.length>1){var l=t.pop();n?(n=new p.Blob(n.blobs,n),t.push(n)):(i&&(i=new p.Blob(i.blobs,i)),t.push(i)),t.push(l)}}for(this.state.output.openLevel(),i&&n&&(this.state.output.current.value().strings.delimiter=""),r=0,a=t.length;r<a;r+=1)this.state.output.append(t[r],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"===t?new p.Token:e},t.exports=p,p.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),!this.common_term)return!1;var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var i=0,n=this.variables.length-1;i<n;i+=1){var s=this.variables[i],r=this.variables[i+1];if(this.freeters[s].length||this.freeters[r].length){if(this.etal_spec[s].freeters!==this.etal_spec[r].freeters||!this._compareNamesets(this.freeters[s],this.freeters[r]))return void(this.common_term=!1);1}if(this.persons[s].length!==this.persons[r].length)return void(this.common_term=!1);for(var a=0,o=this.persons[s].length;a<o;a+=1)if(this.etal_spec[s].persons[a]!==this.etal_spec[r].persons[a]||!this._compareNamesets(this.persons[s][a],this.persons[r][a]))return void(this.common_term=!1)}},p.NameOutput.prototype._compareNamesets=function(t,e){if(t.length!==e.length)return!1;for(var i=0,n=e.length;i<n;i+=1){e[i];for(var s=0,r=p.NAME_PARTS.length;s<r;s+=1){var a=p.NAME_PARTS[s];if(!t[i]||t[i][a]!=e[i][a])return!1}}return!0},t.exports=p,p.NameOutput.prototype.constrainNames=function(){var t;this.names_count=0;for(var e=0,i=this.variables.length;e<i;e+=1){var n=this.variables[e];t=this.nameset_base+e,this.freeters[n].length&&(this.state.tmp.names_max.push(this.freeters[n].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,n,t),this.names_count+=this.freeters[n].length),this.institutions[n].length&&(this.state.tmp.names_max.push(this.institutions[n].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,n,t),this.persons[n]=this.persons[n].slice(0,this.institutions[n].length),this.names_count+=this.institutions[n].length);for(var s=0,r=this.persons[n].length;s<r;s+=1)this.persons[n][s].length&&(this.state.tmp.names_max.push(this.persons[n][s].length,"literal"),this._imposeNameConstraints(this.persons[n],this.persons_count[n],s,t),this.names_count+=this.persons[n][s].length)}},p.NameOutput.prototype._imposeNameConstraints=function(t,e,i,n){var s=t[i],r=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]?r=this.state.tmp.disambig_request.names[n]:e[i]>=this.etal_min&&(r=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]>this.etal_use_first?r=e[i]<this.etal_min?e[i]:this.state.tmp.disambig_request.names[n]:e[i]>=this.etal_min&&(r=this.etal_use_first),this.etal_use_last&&r>this.etal_min-2&&(r=this.etal_min-2));var a=this.etal_min>=this.etal_use_first,o=e[i]>r;r>e[i]&&(r=s.length),a&&o&&(this.etal_use_last?t[i]=s.slice(0,r).concat(s.slice(-1)):t[i]=s.slice(0,r)),this.state.tmp.disambig_settings.names[n]=t[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},t.exports=p,p.NameOutput.prototype.disambigNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var n=this.variables[e];if(t=this.nameset_base+e,this.freeters[n].length&&this._runDisambigNames(this.freeters[n],t),this.institutions[n].length){void 0===this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var s=0,r=this.institutions[n].length;s<r;s+=1)void 0===this.state.tmp.disambig_settings.givens[t][s]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(s=0,r=this.persons[n].length;s<r;s+=1)this.persons[n][s].length&&this._runDisambigNames(this.persons[n][s],t)}},p.NameOutput.prototype._runDisambigNames=function(t,e){var i,n,s,r,a,o;for(r=0,a=t.length;r<a;r+=1)if(t[r].given||t[r].family){if(n=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[r],r),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,h=e+1;l<h;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][r]&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,t[r],r,0,i,n),this.state.tmp.disambig_settings.givens[e].push(s)),i=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,t[r],r,0,i,n),this.state.tmp.disambig_request){var c=this.state.tmp.disambig_settings.givens[e][r];1!==c||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==t[r].given||(c=2),s=c,this.state.opt["disambiguate-add-givenname"]&&t[r].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,t[r],r,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=o;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&o>s&&(s=o),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][r]=s,"string"!=typeof n||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},t.exports=p,p.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},t.exports=p,p.NameOutput.prototype.setEtAlParameters=function(){var t,e,i,n;for(t=0,e=this.variables.length;t<e;t+=1){var s=this.variables[t];for(void 0===this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),i=0,n=this.persons[s].length;i<n;i+=1)void 0===this.etal_spec[s][i]&&(this.etal_spec[s].persons[i]=0),this._setEtAlParameter("persons",s,i);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},p.NameOutput.prototype._setEtAlParameter=function(t,e,i){var n,s;"persons"===t?(n=this.persons[e][i],s=this.persons_count[e][i]):(n=this[t][e],s=this[t+"_count"][e]),n.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[i]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[i]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[i]=0:this.etal_spec[e][t]=0},t.exports=p,p.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var n=this.variables[e];(this.freeters[n].length||this.institutions[n].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[n].length&&(this.freeters[n]=this._renderNames(n,this.freeters[n],t));for(var s=0,r=this.institutions[n].length;s<r;s+=1)this.persons[n][s]=this._renderNames(n,this.persons[n][s],t,s)}this.renderInstitutionNames()},p.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var i=this.variables[t],n=0,s=this.institutions[i].length;n<s;n+=1){var r,a=this.institutions[i][n],o={primary:"locale-orig",secondary:!1,tertiary:!1};if(r=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],h=0,c=l.length;h<c&&!(r.length-1<h);h+=1)r[h]&&(o[l[h]]="locale-"+r[h]);else o.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var p=this._renderInstitutionName(i,a,o,n);this.institutions[i][n]=p}},p.NameOutput.prototype._renderInstitutionName=function(t,e,i,n){var s,r,a,o,l,h=this.getName(e,i.primary,!0),c=h.name,p=h.usedOrig;if(c&&(c=this.fixupInstitution(c,t,n)),u=!1,i.secondary){var u=(h=this.getName(e,i.secondary,!1,p)).name;p=h.usedOrig,u&&(u=this.fixupInstitution(u,t,n))}s=!1,i.tertiary&&(s=(h=this.getName(e,i.tertiary,!1,p)).name)&&(s=this.fixupInstitution(s,t,n));var d={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(d.l.pri=c.long,d.s.pri=c.short.length?c.short:c.long),u&&(d.l.sec=u.long,d.s.sec=u.short.length?u.short:u.long),s&&(d.l.ter=s.long,d.s.ter=s.short.length?s.short:s.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(a=this._getShortStyle(),o=[this._composeOneInstitutionPart([d.s.pri,d.s.sec,d.s.ter],i,a,t)]):(r=this._getLongStyle(c,t,n),o=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],i,r,t)]);break;case"short-long":r=this._getLongStyle(c,t,n),a=this._getShortStyle(),o=[l=this._renderOneInstitutionPart(c.short,a),this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],i,r,t)];break;case"long-short":r=this._getLongStyle(c,t,n),a=this._getShortStyle(),l=this._renderOneInstitutionPart(c.short,a),o=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],i,r,t),l];break;default:r=this._getLongStyle(c,t,n),o=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],i,r,t)]}var m=this._join(o," ");return this.state.tmp.name_node.children.push(m),m},p.NameOutput.prototype._composeOneInstitutionPart=function(t,e,i,n){var s,r,a,o,l=!1,h=!1,c=!1;if(t[0]){if(s=p.Util.cloneToken(i),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var u=!1,d=0,m=s.decorations.length;d<m;d+=1)"@font-style"===i.decorations[d][0]&&"italic"===s.decorations[d][1]&&(u=!0);u||s.decorations.push(["@font-style","italic"])}l=this._renderOneInstitutionPart(t[0],s)}if(t[1]&&(h=this._renderOneInstitutionPart(t[1],i)),t[2]&&(c=this._renderOneInstitutionPart(t[2],i)),h||c){this.state.output.openLevel("empty"),this.state.output.append(l),r=p.Util.cloneToken(i),e.secondary&&(r.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,r.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,r.strings.prefix||(r.strings.prefix=" "));var f=new p.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(h,r),this.state.output.closeLevel(),a=p.Util.cloneToken(i),e.tertiary&&(a.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,a.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,a.strings.prefix||(a.strings.prefix=" "));var g=new p.Token;g.decorations.push(["@font-style","normal"]),g.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(g),this.state.output.append(c,a),this.state.output.closeLevel(),this.state.output.closeLevel(),o=this.state.output.pop()}else o=l;return o},p.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var i=0,n=t.length;i<n;i+=1)if(t[i]){var s=t[i];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var r=0,a=e.decorations.length;r<a;r+=1)if("@strip-periods"===e.decorations[r][0]&&"true"===e.decorations[r][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),"!here>>>"===s?t[i]=!1:(this.state.output.append(s,e,!0),t[i]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},p.NameOutput.prototype._renderNames=function(t,e,i,n){var s=!1;if(e.length){for(var r=[],a=0,o=e.length;a<o;a+=1){var l,h=e[a],c={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:h.isInstitution||h.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var u=["primary","secondary","tertiary"],d=0,m=u.length;d<m&&!(l.length-1<d);d+=1)c[u[d]]="locale-"+l[d];else c.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(c.secondary=!1,c.tertiary=!1),this.setRenderedName(h),h.literal||h.isInstitution)r.push(this._renderInstitutionName(t,h,c,n));else{var f=this._renderPersonalName(t,h,c,i,a,n),g=p.Util.cloneToken(this.name);this.state.output.append(f,g,!0),r.push(this.state.output.pop())}}s=this.joinPersons(r,i,n)}return s},p.NameOutput.prototype._renderPersonalName=function(t,e,i,n,s,r){var a=this.getName(e,i.primary,!0),o=this._renderOnePersonalName(a.name,n,s,r),l=!1;i.secondary&&(a=this.getName(e,i.secondary,!1,a.usedOrig)).name&&(l=this._renderOnePersonalName(a.name,n,s,r));var h,c=!1;if(i.tertiary&&(a=this.getName(e,i.tertiary,!1,a.usedOrig)).name&&(c=this._renderOnePersonalName(a.name,n,s,r)),l||c){this.state.output.openLevel("empty"),this.state.output.append(o);var u=new p.Token;i.secondary&&(u.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,u.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,u.strings.prefix||(u.strings.prefix=" ")),this.state.output.append(l,u);var d=new p.Token;i.tertiary&&(d.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,d.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,d.strings.prefix||(d.strings.prefix=" ")),this.state.output.append(c,d),this.state.output.closeLevel(),h=this.state.output.pop()}else h=o;return h},p.NameOutput.prototype._isRomanesque=function(t){var e=2;if(t.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(e=0),!e&&t.given&&t.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(e=1),2==e){if(t.multi&&t.multi.main)var i=t.multi.main.slice(0,2);else this.Item.language&&(i=this.Item.language.slice(0,2));["ja","zh"].indexOf(i)>-1&&(e=1)}return e},p.NameOutput.prototype._renderOnePersonalName=function(t,e,i,n){var s=t,r=this._droppingParticle(s,e,n),a=this._familyName(s),o=this._nonDroppingParticle(s),l=this._givenName(s,e,i),h=this._nameSuffix(s);!1===l&&(r=!1,h=!1);var c,u=this.state.inheritOpt(this.name,"sort-separator");u||(u=""),c=s["comma-suffix"]?", ":" ";var d=this._isRomanesque(s);var m,f,g,v,_=function t(e){return!!e&&("string"==typeof e.blobs?["’","'","-"," "].indexOf(e.blobs.slice(-1))>-1:t(e.blobs[e.blobs.length-1]))}(o);if(0===d)m=this._join([o,a,l],"");else if(1===d||s["static-ordering"])m=this._join([o,a,l]," ");else if(s["reverse-ordering"])m=this._join([l,o,a]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(g=this._join([o,a,r]," "),f=this._join([g,l],this.state.opt.sort_sep),m=this._join([f,h]," ")):(v=this._join([l,r,o]," "),f=this._join([a,v],this.state.opt.sort_sep),m=this._join([f,h]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===n||void 0===n))["Lord","Lady"].indexOf(s.given)>-1&&(u=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(v=this._join([l,r],s["comma-dropping-particle"]+" "),(v=this._join([v,o]," "))&&this.given&&(v.strings.prefix=this.given.strings.prefix,v.strings.suffix=this.given.strings.suffix),a&&this.family&&(a.strings.prefix=this.family.strings.prefix,a.strings.suffix=this.family.strings.suffix),f=this._join([a,v],u),m=this._join([f,h],u)):((g=_?this._join([o,a],""):this._join([o,a]," "))&&this.family&&(g.strings.prefix=this.family.strings.prefix,g.strings.suffix=this.family.strings.suffix),(v=this._join([l,r],s["comma-dropping-particle"]+" "))&&this.given&&(v.strings.prefix=this.given.strings.prefix,v.strings.suffix=this.given.strings.suffix),f=this._join([g,v],u),m=this._join([f,h],u));else{s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]&&["'","ʼ","’","-"].indexOf(s["dropping-particle"].slice(-1))>-1&&(a=this._join([r,a],""),r=!1),this.state.tmp.term_predecessor;var b=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1&&(b=" "),_?(v=this._join([o,a],""),v=this._join([r,v],b)):v=this._join([r,o,a],b),(v=this._join([v,h],c))&&this.family&&(v.strings.prefix=this.family.strings.prefix,v.strings.suffix=this.family.strings.suffix),l&&this.given&&(l.strings.prefix=this.given.strings.prefix,l.strings.suffix=this.given.strings.suffix),v.strings.prefix&&(s["comma-dropping-particle"]=""),m=this._join([l,v],s["comma-dropping-particle"]+b)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(m),m},p.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},p.NameOutput.prototype._stripPeriods=function(t,e){var i=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(i)for(var n=0,s=i.decorations.length;n<s;n+=1)if("@strip-periods"===i.decorations[n][0]&&"true"===i.decorations[n][1]){e=e.replace(/\./g,"");break}return e},p.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",e);return!!this.state.output.append(i,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._droppingParticle=function(t,e,i){var n=t["dropping-particle"];n&&this.state.tmp.sort_key_flag&&(n=n.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",n);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===i?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===i?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},p.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._givenName=function(t,e,i){var n,s,r="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),a=!(!1===this.state.inheritOpt(this.name,"initialize")),o="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;this.state.tmp.area.slice(0,12);if(t["full-form-always"])s=2;else{n=r?0:o?1:2;var l=this.state.tmp.disambig_settings.givens[e][i];s=l>n?l:n}var h=this.state.citation.opt["givenname-disambiguation-rule"];if(h&&"-with-initials"===h.slice(-14)&&(o=!0),t.family&&1===s)if(o){var c=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=p.Util.Names.initializeWith(this.state,t.given,c,!a)}else t.given=p.Util.Names.unInitialize(this.state,t.given);else{if(0===s)return!1;2===s&&(t.given=p.Util.Names.unInitialize(this.state,t.given))}var u=this._stripPeriods("given",t.given);return!!this.state.output.append(u,this.given_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._nameSuffix=function(t){var e,i=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(i=p.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var n="";return(i=this._stripPeriods("family",i))&&"."===i.slice(-1)&&(i=i.slice(0,-1),n="."),!!this.state.output.append(i,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=n+e.strings.suffix,e)},p.NameOutput.prototype._getLongStyle=function(t,e,i){var n;return(n=t.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(n=new p.Token),n},p.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new p.Token},p.NameOutput.prototype._parseName=function(t){var e;if(!t["parse-names"]&&void 0!==t["parse-names"])return t;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=void 0,t.isInstitution=void 0),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&void 0!==t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||p.parseParticles(t,!0))},p.NameOutput.prototype.getName=function(t,e,i,n){if(n&&"locale-orig"===e)return{name:!1,usedOrig:n};t.family||(t.family=""),t.given||(t.given="");var s={};s["static-ordering"]=this.getStaticOrder(t);var r=!0;if("locale-orig"!==e&&(r=!1,t.multi))for(var a=this.state.opt[e],o=0,l=a.length;o<l;o+=1)if(c=a[o],t.multi._key[c]){r=!0;var h=t.isInstitution;(t=t.multi._key[c]).isInstitution=h,(s=this.getNameParams(c)).transliterated=!0;break}if(!r){var c=!1;t.multi&&t.multi.main?c=t.multi.main:this.Item.language&&(c=this.Item.language),c&&(s=this.getNameParams(c))}return i||r?(t.family||(t.family=""),t.given||(t.given=""),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":s["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:n||!r}):{name:!1,usedOrig:n}},p.NameOutput.prototype.getNameParams=function(t){var e={},i=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),n=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],s=this.state.locale[n].opts["name-as-sort-order"],r=this.state.locale[n].opts["name-as-reverse-order"],a=this.state.locale[n].opts["name-never-short"],o=t.split("-")[0];return s&&s[o]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),r&&r[o]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),a&&a[o]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},p.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",i=0,n=p.NAME_PARTS.length;i<n;i+=1)t[p.NAME_PARTS[i]]&&(e+=t[p.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(e)}},p.NameOutput.prototype.fixupInstitution=function(t,e,i){this.state.sys.getHumanForm&&"legal_case"===this.Item.type&&"authority"===e&&(t.literal=this.state.sys.getHumanForm(this.Item.jurisdiction,t.literal,!0)),t=this._splitInstitution(t,e,i),this.institution.strings["reverse-order"]&&t.long.reverse();var n=t.long,s=t.long.slice(),r=!1;if(this.state.sys.getAbbreviation)for(var a=this.Item.jurisdiction,o=0,l=n.length;o<l;o+=1){var h=n[o];this.state.sys.normalizeAbbrevsKey&&(h=this.state.sys.normalizeAbbrevsKey(e,n[o])),a=this.state.transform.loadAbbreviation(a,"institution-part",h),this.state.transform.abbrevs[a]["institution-part"][h]&&(s[o]=this.state.transform.abbrevs[a]["institution-part"][h],r=!0)}return t.short=r?s:[],t},p.NameOutput.prototype.getStaticOrder=function(t,e){var i=!1;return!e&&t["static-ordering"]?i=!0:0===this._isRomanesque(t)?i=!0:(!t.multi||!t.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?i=!0:t.multi&&t.multi.main&&["vi","hu"].indexOf(t.multi.main.slice(0,2))>-1?i=!0:this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&p.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(i=!0),i},p.NameOutput.prototype._splitInstitution=function(t,e,i){var n={};!t.literal&&t.family&&(t.literal=t.family,delete t.family);var s=t.literal.replace(/\s*\|\s*/g,"|");if(s=s.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var r=this.Item.jurisdiction,a=s.length;a>0;a+=-1){var o=s.slice(0,a).join("|"),l=o;if(this.state.sys.normalizeAbbrevsKey&&(l=this.state.sys.normalizeAbbrevsKey(e,o)),r=this.state.transform.loadAbbreviation(r,"institution-entire",l),this.state.transform.abbrevs[r]["institution-entire"][l]){var h=this.state.transform.abbrevs[r]["institution-entire"][l],c=(h=this.state.transform.quashCheck(h)).split(/>>[0-9]{4}>>/),p=h.match(/>>([0-9]{4})>>/);if(h=c.pop(),c.length>0&&this.Item["original-date"]&&this.Item["original-date"].year)for(var u=p.length-1;u>0&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(p[u],10));u+=-1)h=c.pop();s=[h=h.replace(/\s*\|\s*/g,"|")];break}}return s.reverse(),n.long=this._trimInstitution(s,e,i),n},p.NameOutput.prototype._trimInstitution=function(t,e,i){var n=!1,s=!1,r=t.slice(),a=!1;return this.institution&&(void 0!==this.institution.strings["use-first"]&&(n=this.institution.strings["use-first"]),void 0!==this.institution.strings["stop-last"]?a=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(a=this.state.tmp.authority_stop_last),a&&(r=r.slice(0,a),t=t.slice(0,a)),void 0!==this.institution.strings["use-last"]&&(s=this.institution.strings["use-last"]),"authority"===e&&(a&&(this.state.tmp.authority_stop_last=a),s&&(this.state.tmp.authority_stop_last+=-1*s))),!1===n&&(0===this.persons[e].length&&(n=this.institution.strings["substitute-use-first"]),n||(n=0)),!1===s&&(s=n?0:t.length),n>t.length-s&&(n=t.length-s),t=t.slice(0,n),r=r.slice(n),s&&(s>r.length&&(s=r.length),s&&(t=t.concat(r.slice(r.length-s)))),t},t.exports=p,p.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var t=!1;"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new p.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var i=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var n=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=n:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=n))},p.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],i=0,n=this["publisher-list"].length;i<n;i+=1){var s=this[e+"-list"][i],r=this[e+"-token"];this.state.output.append(s,r,!0),this[e+"-list"][i]=this.state.output.pop()}},p.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,i=this["publisher-list"].length;e<i;e+=1){t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)}},p.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=(this.name_delimiter,this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok));this.state.output.append(e,"literal")},p.PublisherOutput.prototype._join=p.NameOutput.prototype._join,p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken,p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},t.exports=p,p.evaluateLabel=function(t,e,i,n){var s;"locator"===t.strings.term?(n&&n.label&&(s="sub verbo"===n.label?"sub-verbo":n.label),s||(s="page")):s=t.strings.term;var r=t.strings.plural;if("number"!=typeof r){var a="locator"===t.strings.term?n:i;e.processNumber(!1,a,t.strings.term,i.type),r=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),["locator","number","page"].indexOf(t.strings.term)>-1&&e.tmp.shadow_numbers[t.strings.term].label&&(s=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&(e.opt.development_extensions.csl_reverse_lookup_support||e.sys.csl_reverse_lookup_support)&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse())}return p.castLabel(e,t,s,r,p.TOLERANT)},p.castLabel=function(t,e,i,n,s){var r=e.strings.form,a=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&"static"!==r&&(r=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(a=t.tmp.group_context.tip.label_capitalize_if_first);var o=t.getTerm(i,r,n,!1,s,e.default_locale);if(a&&(o=p.Output.Formatters["capitalize-first"](t,o)),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,h=e.decorations.length;l<h;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){o=o.replace(/\./g,"");break}return o},t.exports=p,p.Node.name={build:function(t,e){var i;if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){if(void 0===t.tmp.root){var n=void 0;t.tmp.root="citation"}else n=t.tmp.root;t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=p.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=p.POSITION),t.tmp.root=n,i=function(t,e){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new p.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),void 0===t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),void 0===t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(i)}e.push(this)}},t.exports=p,p.Node["name-part"]={build:function(t,e){t.build[this.strings.name]=this}},t.exports=p,p.Node.names={build:function(t,e){var i;if(this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(p.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===p.SINGLETON&&(t.build.names_variables.push(this.variables),i=function(t,e,i){var n=t.nameOutput.labelVariable;t.nameOutput.reinit(this,n)},this.execs.push(i)),this.tokentype===p.START&&(t.build.names_flag=!0,t.build.names_level+=1,1===t.build.names_level&&(t.build.names_variables=[],t.build.name_label={}),t.build.names_variables.push(this.variables),i=function(t,e,i){t.tmp.can_substitute.push(!0),t.parallel.StartVariable("names",this.variables[0]),t.nameOutput.init(this)},this.execs.push(i)),this.tokentype===p.END){for(var n=0;n<3;n+=1){var s=["family","given","et-al"][n];this[s]=t.build[s],1===t.build.names_level&&(t.build[s]=void 0)}this.label=t.build.name_label,1===t.build.names_level&&(t.build.name_label={}),t.build.names_level+=-1,t.build.names_variables.pop(),i=function(t,e,i){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)?(this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix=""):(this.etal_prefix_single="",this.etal_prefix_multiple="",this.etal_suffix="");for(var n=0;n<3;n+=1){var s=["family","given"][n];t.nameOutput[s]=this[s]}t.nameOutput.with=this.with;var r="",a="";p.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(r=" ",a=" ");var o={};o.single=new p.Blob("with"),o.single.strings.suffix=a,o.multiple=new p.Blob("with"),o.multiple.strings.suffix=a,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=r,o.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=r):(o.single.strings.prefix=r,o.multiple.strings.prefix=r),t.nameOutput.with=o,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-last"]=void 0},this.execs.push(i),i=function(t,e){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,p.LITERAL),t.parallel.CloseVariable("names"),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(i),t.build.name_flag=!1}e.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(t.build.substitute_level.pop(),p.Util.substituteEnd.call(this,t,e))}},t.exports=p,p.Node.number={build:function(t,e){var i;p.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),i=function(t,e,i){if(0!==this.variables.length){if(void 0===i)i={};var n;if("locator"!==(n=this.variables[0])||!t.tmp.just_looking){t.parallel.StartVariable(this.variables[0]),"locator"===this.variables[0]?t.parallel.AppendToVariable(e.section):t.parallel.AppendToVariable(e[this.variables[0]]);new RegExp("(?:&|, | and |"+t.getTerm("page-range-delimiter")+")");"collection-number"===n&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);e[this.variables[0]];if(t.tmp.group_context.tip.force_suppress)return!1;"locator"===n?t.processNumber(this,i,n,e.type):(!t.tmp.group_context.tip.condition&&e[n]&&(t.tmp.just_did_number=!0),t.processNumber(this,e,n,e.type)),p.Util.outputNumericField(t,n,e.id),t.parallel.CloseVariable("number"),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}}},this.execs.push(i),e.push(this),p.Util.substituteEnd.call(this,t,e)}},t.exports=p,p.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===p.START){"citation"===t.build.area&&(t.parallel.use_parallels=!1,t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var i=function(t,e){if(t.opt.has_layout_locale){for(var i,n=p.localeResolve(e.language,t.opt["default-locale"][0]),s=t[t.tmp.area.slice(0,-5)].opt.sort_locales,r=0,a=s.length;r<a&&((i=s[r][n.bare])||(i=s[r][n.best]),!i);r+=1);i||(i=t.opt["default-locale"][0]),t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=i}};this.execs.push(i)}if(this.tokentype===p.END){t.build.area=t.build.root,t.build.extension="";i=function(t,e){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)};this.execs.push(i)}e.push(this)}},t.exports=p,p.Node.substitute={build:function(t,e){var i;this.tokentype===p.START&&(i=function(t,e){t.tmp.can_block_substitute=!0,t.tmp.value.length&&t.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(i)),e.push(this)}},t.exports=p,p.Node.text={build:function(t,e){var i,n,s,r,a,o,l,h,c,u,d,m;if(this.postponed_macro){var f=p.Util.cloneToken(this);f.name="group",f.tokentype=p.START,p.Node.group.build.call(f,t,e),p.expandMacro.call(t,this,e);var g=p.Util.cloneToken(this);g.name="group",g.tokentype=p.END,"juris-locator-label"===this.postponed_macro&&(g.isJurisLocatorLabel=!0),p.Node.group.build.call(g,t,e)}else{if(p.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),n="long",s=0,this.strings.form&&(n=this.strings.form),this.strings.plural&&(s=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=p.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=p.NUMERIC),"bibliography_sort"===t.build.area&&(t.opt.citation_number_sort_used=!0),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,i=function(t,e,i){if(r=""+e.id,!t.tmp.just_looking){if(i&&i["author-only"]){t.tmp.element_trace.replace("do-not-suppress-me");var n=t.getTerm("reference","long","singular");void 0===n&&(n="reference"),m=p.Output.Formatters["capitalize-first"](t,n),t.output.append(m+" "),t.tmp.last_element_trace=!0}i&&i["suppress-author"]&&(t.tmp.last_element_trace&&t.tmp.element_trace.replace("suppress-me"),t.tmp.last_element_trace=!1),a=t.registry.registry[r].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(o=new p.NumericBlob(!1,a,this,e.id),t.tmp.in_cite_predecessor&&(t.tmp.just_looking,o.suppress_splice_prefix=!0),t.output.append(o,"literal"))}},this.execs.push(i)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),i=function(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){a=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),o=new p.NumericBlob(!1,a,this,e.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),o.setFormatter(l),t.output.append(o,"literal"),h=!1;for(var i=0,n=t.tmp.group_context.mystack.length;i<n;i++){var s=t.tmp.group_context.mystack[i];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){h=!0;break}}c=t[t.tmp.area].opt["year-suffix-delimiter"],h&&c&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(i)):"citation-label"===this.variables_real[0]&&(t.opt.has_year_suffix=!0,i=function(t,e){(u=e["citation-label"])||(u=t.getCitationLabel(e)),t.tmp.just_looking||(d="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(a=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),d=t.fun.suffixator.format(a)),u+=d),t.output.append(u,this)},this.execs.push(i));else if(this.strings.term)i=function(t,e,i){var r,a=t.opt.gender[e.type],o=this.strings.term;if(""!==(o=t.getTerm(o,n,s,a,p.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(t,o),r=t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area?o:p.Output.Formatters["capitalize-first"](t,o),t.tmp.strip_periods)r=r.replace(/\./g,"");else for(var l=0,h=this.decorations.length;l<h;l+=1)if("@strip-periods"===this.decorations[l][0]&&"true"===this.decorations[l][1]){r=r.replace(/\./g,"");break}t.output.append(r,this)},this.execs.push(i),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(i=function(t,e,i){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1);var s=this.variables[0];"title"!==s||"short"!==n&&!e["title-short"]||(s="title-short"),t.parallel.StartVariable(s),t.parallel.AppendToVariable(e[s],s),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1)},this.execs.push(i),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var v=this.variables[0],_=!1,b=!1,y=!1;"short"===n||["country","jurisdiction"].indexOf(this.variables_real[0])>-1?"container-title"===this.variables_real[0]?b="journalAbbreviation":"title"===this.variables_real[0]&&(b="title-short"):v=!1,t.build.extension?y=!0:(y=!0,_=!0),i=t.transform.getOutputFunction(this.variables,v,_,b,y)}else i=p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(t,e,i){i&&i[this.variables[0]]&&(t.processNumber(this,i,this.variables[0],e.type),p.Util.outputNumericField(t,this.variables[0],e.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(t,e){t.processNumber(this,e,this.variables[0],e.type),p.Util.outputNumericField(t,this.variables[0],e.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(t,e){var i;if(this.variables[0]&&(i=t.getVariable(e,this.variables[0],n)))if(t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(i,this,!1,!1,!0);else if("DOI"===this.variables_real[0]&&"https://doi.org/"===this.strings.prefix){var s=p.Util.cloneToken(this),r=new p.Blob(null,null,"url-wrapper");if(r.decorations.push(["@DOI","true"]),(i=i.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//))var a="";else a="https://doi.org/";var o=new p.Blob(a),l=new p.Blob(i);s.strings.prefix="",r.push(o),r.push(l),t.output.append(r,s,!1,!1,!0)}else this.decorations=[["@"+this.variables[0],"true"]].concat(this.decorations),t.output.append(i,this,!1,!1,!0);else{if(this.decorations.length)for(var h=this.decorations.length-1;h>-1;h--)this.decorations[h][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,h).concat(this.decorations.slice(h+1)));t.output.append(i,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(t,e){var i;(i=t.getVariable(e,this.variables[0],n))&&t.output.append(i,this)}:"hereinafter"===this.variables_real[0]?function(t,e){var i=t.transform.abbrevs.default.hereinafter[e.id];i&&(t.output.append(i,this),t.tmp.group_context.tip.variable_success=!0)}:function(t,e){var i;this.variables[0]&&(i=t.getVariable(e,this.variables[0],n))&&(i=(i=""+i).split("\\").join(""),t.output.append(i,this))};this.execs.push(i),i=function(t,e){t.parallel.CloseVariable("text")},this.execs.push(i)}else this.strings.value&&(i=function(t,e){t.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)},this.execs.push(i));e.push(this),p.Util.substituteEnd.call(this,t,e)}}},t.exports=p,p.Attributes={},p.Attributes["@genre"]=function(t,e){e=e.replace("-"," ");this.tests.push(function(t,i){return e===t.genre})},p.Attributes["@disambiguate"]=function(t,e){if("true"===e){t.opt.has_disambiguate=!0;var i=function(e,i){if("bibliography"===t.tmp.area){if(t.tmp.disambiguate_count<t.registry.registry[e.id].disambig.disambiguate)return t.tmp.disambiguate_count+=1,!0}else if(t.tmp.disambiguate_maxMax+=1,t.tmp.disambig_settings.disambiguate&&t.tmp.disambiguate_count<t.tmp.disambig_settings.disambiguate)return t.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else if("check-ambiguity-and-backreference"===e){i=function(e,i){return!!(t.registry.registry[e.id].disambig.disambiguate&&t.registry.registry[e.id]["citation-count"]>1)};this.tests.push(i)}},p.Attributes["@is-numeric"]=function(t,e,i){for(var n=e.split(/\s+/),s=function(e){return function(i,n){var s=i;if(["locator","locator-extra"].indexOf(e)>-1&&(s=n),void 0===s)return!1;if(p.NUMERIC_VARIABLES.indexOf(e)>-1){if(t.tmp.shadow_numbers[e]||t.processNumber(!1,s,e,i.type),s[e]&&t.tmp.shadow_numbers[e].numeric)return!0}else if(["title","locator-extra","version"].indexOf(e)>-1&&s[e]&&s[e].slice(-1)===""+parseInt(s[e].slice(-1),10))return!0;return!1}},r=0;r<n.length;r+=1)this.tests.push(s(n[r]))},p.Attributes["@is-uncertain-date"]=function(t,e){for(var i=e.split(/\s+/),n=function(t){return function(e,i){return!(!e[t]||!e[t].circa)}},s=0,r=i.length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@locator"]=function(t,e){for(var i=e.replace("sub verbo","sub-verbo"),n=function(e){return function(i,n){var s;return t.processNumber(!1,n,"locator"),s=t.tmp.shadow_numbers.locator.label,e===s}},s=0,r=(i=i.split(/\s+/)).length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@position"]=function(t,e){t.opt.update_mode=p.POSITION,t.parallel.use_parallels=null;for(var i=e.split(/\s+/),n=function(e){return function(i,n){if("bibliography"===t.tmp.area)return!1;if(n&&void 0===n.position&&(n.position=0),n&&"number"==typeof n.position){if(0===n.position&&0===e)return!0;if(e>0&&n.position>=e)return!0}else if(0===e)return!0;return!1}},s=0,r=i.length;s<r;s+=1){var a;"first"===(a=i[s])?a=p.POSITION_FIRST:"subsequent"===a?a=p.POSITION_SUBSEQUENT:"ibid"===a?a=p.POSITION_IBID:"ibid-with-locator"===a&&(a=p.POSITION_IBID_WITH_LOCATOR),"near-note"===a?this.tests.push(function(t,e){return!!(e&&e.position>=p.POSITION_SUBSEQUENT&&e["near-note"])}):"far-note"===a?this.tests.push(function(t,e){return!(!e||e.position!=p.POSITION_SUBSEQUENT||e["near-note"])}):this.tests.push(n(a))}},p.Attributes["@type"]=function(t,e){for(var i=e.split(/\s+/),n=function(t){return function(e,i){return!!(e.type===t)}},s=[],r=0,a=i.length;r<a;r+=1)s.push(n(i[r]));this.tests.push(t.fun.match.any(this,t,s))},p.Attributes["@variable"]=function(t,e){var i;if(this.variables=e.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)i=function(t,e,i){for(var n=this.variables.length-1;n>-1;n+=-1)this.variables.pop();n=0;for(var s=this.variables_real.length;n<s;n++)-1!==t.tmp.done_vars.indexOf(this.variables_real[n])||i&&"legal_case"===e.type&&i["suppress-author"]&&"title"===this.variables_real[n]||this.variables.push(this.variables_real[n]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[n])},this.execs.push(i),i=function(t,e,i){for(var n=!1,s=0,r=this.variables.length;s<r;s++){var a=this.variables[s];if(["authority","committee"].indexOf(a)>-1&&"string"==typeof e[a]&&"names"===this.name){var o=!0,l=e[a].split(/\s*;\s*/),h={};if(e.multi&&e.multi._keys[a])for(var c in e.multi._keys[a])if(h[c]=e.multi._keys[a][c].split(/\s*;\s*/),h[c].length!==l.length){o=!1;break}o||(l=[e[a]],h=e.multi._keys[a]);for(var u=0,d=l.length;u<d;u++){var m={literal:l[u],multi:{_key:{}}};for(var c in h){var f={literal:h[c][u]};m.multi._key[c]=f}l[u]=m}e[a]=l}if("short"!==this.strings.form||e[a]||("title"===a?a="title-short":"container-title"===a&&(a="journalAbbreviation")),"year-suffix"===a){n=!0;break}if(p.DATE_VARIABLES.indexOf(a)>-1){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){n=!0;break}if(e[a]){for(var g in e[a])if((-1!==this.dateparts.indexOf(g)||"literal"===g)&&e[a][g]){n=!0;break}if(n)break}}else{if("locator"===a){i&&i.locator&&(n=!0);break}if("locator-extra"===a){i&&i["locator-extra"]&&(n=!0);break}if(["citation-number","citation-label"].indexOf(a)>-1){n=!0;break}if("first-reference-note-number"===a){i&&i["first-reference-note-number"]&&(n=!0);break}if("hereinafter"===a){t.transform.abbrevs.default.hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(n=!0);break}if("object"==typeof e[a]){e[a].length;break}if("string"==typeof e[a]&&e[a]){n=!0;break}if("number"==typeof e[a]){n=!0;break}}if(n)break}if(n){for(s=0,r=this.variables_real.length;s<r;s++){"citation-number"===(a=this.variables_real[s])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[a]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[a]))}t.tmp.can_substitute.replace(!1,p.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(i);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var n=function(e){return function(i,n){var s=i;if(n&&["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(e)>-1&&(s=n),"hereinafter"===e&&t.sys.getAbbreviation&&s.id){if(t.transform.abbrevs.default.hereinafter[s.id])return!0}else if(s[e]){if("number"==typeof s[e]||"string"==typeof s[e])return!0;if("object"==typeof s[e])for(var r in s[e])if(s[e][r])return!0}return!1}},s=0,r=this.variables.length;s<r;s+=1)this.tests.push(n(this.variables[s]))},p.Attributes["@page"]=function(t,e){for(var i=e.replace("sub verbo","sub-verbo"),n=function(e){return function(i,n){var s;return t.processNumber(!1,i,"page",i.type),s=t.tmp.shadow_numbers.page.label?"sub verbo"===t.tmp.shadow_numbers.page.label?"sub-verbo":t.tmp.shadow_numbers.page.label:"page",e===s}},s=0,r=(i=i.split(/\s+/)).length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@number"]=function(t,e){for(var i=e.replace("sub verbo","sub-verbo"),n=function(e){return function(i,n){var s;return t.processNumber(!1,i,"number",i.type),s=t.tmp.shadow_numbers.number.label?"sub verbo"===t.tmp.shadow_numbers.number.label?"sub-verbo":t.tmp.shadow_numbers.number.label:"number",e===s}},s=0,r=(i=i.split(/\s+/)).length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@jurisdiction"]=function(t,e){for(var i=e.split(/\s+/),n=0,s=i.length;n<s;n+=1)i[n]=i[n].split(":");var r=function(t){return function(e,i){if(!e.jurisdiction)return!1;for(var n=e.jurisdiction.split(":"),s=0,r=n.length;s<r;s+=1)n[s]=n[s].split(":");for(s=t.length;s>0;s+=-1){if(t.slice(0,s).join(":")!==n.slice(0,s).join(":"))return!1}return!0}};for(n=0,s=i.length;n<s;n+=1){var a=i[n].slice();this.tests.push(r(a))}},p.Attributes["@context"]=function(t,e){this.tests.push(function(i,n){return t.tmp.area.slice(0,e.length)===e})},p.Attributes["@has-year-only"]=function(t,e){for(var i=e.split(/\s+/),n=function(t){return function(e,i){var n=e[t];return!(!n||n.month||n.season)}},s=0,r=i.length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@has-to-month-or-season"]=function(t,e){for(var i=e.split(/\s+/),n=function(t){return function(e,i){var n=e[t];return!(!n||!n.month&&!n.season||n.day)}},s=0,r=i.length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@has-day"]=function(t,e){for(var i=e.split(/\s+/),n=function(t){return function(e,i){var n=e[t];return!(!n||!n.day)}},s=0,r=i.length;s<r;s+=1)this.tests.push(n(i[s]))},p.Attributes["@subjurisdictions"]=function(t,e){var i=parseInt(e,10);this.tests.push(function(t,e){var n=0;return t.jurisdiction&&(n=t.jurisdiction.split(":").length),n&&(n+=-1),n>=i})},p.Attributes["@is-plural"]=function(t,e){this.tests.push(function(i,n){var s=i[e];if(s&&s.length){for(var r=0,a=0,o=!1,l=0,h=s.length;l<h;l+=1)t.opt.development_extensions.spoof_institutional_affiliations&&(s[l].literal||s[l].isInstitution&&s[l].family&&!s[l].given)?(a+=1,o=!1):(r+=1,o=!0);if(r>1)return!0;if(a>1)return!0;if(a&&o)return!0}return!1})},p.Attributes["@locale"]=function(t,e){var i,n,s,r=t.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=e,this.tokentype===p.START){var a=e.split(/\s+/),o={},l=p.localeResolve(a[0],r);l.generic?o[l.generic]=l.best:o[l.best]=l.best;for(var h=1,c=a.length;h<c;h+=1){var u=p.localeResolve(a[h],r);u.generic?o[u.generic]=l.best:o[u.best]=l.best}t[t.build.area].opt.sort_locales.push(o)}t.opt.has_layout_locale=!0}else{s=e.split(/\s+/);var d=[];for(h=0,c=s.length;h<c;h+=1)n=s[h],i=p.localeResolve(n,r),2===s[h].length&&d.push(i.bare),t.localeConfigure(i,!0),s[h]=i;var m=s.slice();this.tests.push(function(t,e,i){return function(n,s){var r,a,o;for([],r=!1,o=n.language?n.language:e,a=p.localeResolve(o,e),h=0,c=t.length;h<c;h+=1)if(a.best===t[h].best){r=!0;break}return!r&&i.indexOf(a.bare)>-1&&(r=!0),r}}(m,r,d))}},p.Attributes["@authority-residue"]=function(t,e){var i;this.tests.push((i="true"===e,function(e,n){return e.authority&&e.authority[0]&&e.authority[0].family&&e.authority[0].family.split("|").length+t.tmp.authority_stop_last>0?i:!i}))},p.Attributes["@locale-internal"]=function(t,e){var i,n,s,r,a;for(s=e.split(/\s+/),this.locale_bares=[],r=0,a=s.length;r<a;r+=1)n=s[r],i=p.localeResolve(n,t.opt["default-locale"][0]),2===s[r].length&&this.locale_bares.push(i.bare),t.localeConfigure(i),s[r]=i;this.locale_default=t.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();this.tests.push(function(e){return function(i,s){var o;[],o=!1;var l=!1;if(i.language&&(n=i.language,(l=p.localeResolve(n,t.opt["default-locale"][0])).best===t.opt["default-locale"][0]&&(l=!1)),l){for(r=0,a=e.locale_list.length;r<a;r+=1)if(l.best===e.locale_list[r].best){t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,o=!0;break}!o&&e.locale_bares.indexOf(l.bare)>-1&&(t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,o=!0)}return o}}(this))},p.Attributes["@is-parallel"]=function(t,e){for(var i=e.split(" "),n=0,s=i.length;n<s;n+=1)"true"===i[n]?i[n]=!0:"false"===i[n]&&(i[n]=!1);this.strings.set_parallel_condition=i},p.Attributes["@jurisdiction-depth"]=function(t,e){this.strings.jurisdiction_depth=parseInt(e,10)},p.Attributes["@require"]=function(t,e){this.strings.require=e},p.Attributes["@reject"]=function(t,e){this.strings.reject=e},p.Attributes["@gender"]=function(t,e){this.gender=e},p.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},p.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},p.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},p.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},p.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},p.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},p.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},p.Attributes["@class"]=function(t,e){t.opt.class=e},p.Attributes["@version"]=function(t,e){t.opt.version=e},p.Attributes["@value"]=function(t,e){this.strings.value=e},p.Attributes["@name"]=function(t,e){this.strings.name=e},p.Attributes["@form"]=function(t,e){this.strings.form=e},p.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},p.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},p.Attributes["@macro"]=function(t,e){this.postponed_macro=e},p.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},p.Attributes["@xmlns"]=function(t,e){},p.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},p.Attributes["@lingo"]=function(t,e){},p.Attributes["@macro-has-date"]=function(t,e){this["macro-has-date"]=!0},p.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},p.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},p.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},p.Attributes["@match"]=function(t,e){this.match=e},p.Attributes["@names-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},p.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},p.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},p.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=p.DESCENDING)},p.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},p.Attributes["@has-publisher-and-publisher-place"]=function(t,e){this.strings["has-publisher-and-publisher-place"]=!0},p.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},p.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},p.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},p.Attributes["@newdate"]=function(t,e){},p.Attributes["@givenname-disambiguation-rule"]=function(t,e){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)>-1&&(t.citation.opt["givenname-disambiguation-rule"]=e)},p.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},p.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},p.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},p.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},p.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},p.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},p.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},p.Attributes["@et-al-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-min",i)},p.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},p.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},p.Attributes["@et-al-subsequent-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-subsequent-min",i)},p.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},p.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},p.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},p.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},p.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},p.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},p.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},p.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},p.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},p.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},p.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},p.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},p.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},p.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},p.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},p.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},p.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},p.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},p.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},p.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t[this.name].opt.hangingindent=2)},p.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},p.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},p.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},p.Attributes["@text-case"]=function(t,e){this.execs.push(function(t,i){"normal"===e?this.text_case_normal=!0:(this.strings["text-case"]=e,"title"===e&&(t.opt["default-locale"][0].slice(0,2),i.jurisdiction&&(this.strings["text-case"]="passthrough")))})},p.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},p.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},p.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var i,n,s,r,a;if(a=e.match(/-x-(sort|translit|translat)-/g))for(s=0,n=a.length;s<n;s+=1)a[s]=a[s].replace(/^-x-/,"").replace(/-$/,"");for(r=[(i=e.split(/-x-(?:sort|translit|translat)-/))[0]],s=1,n=i.length;s<n;s+=1)r.push(a[s-1]),r.push(i[s]);for(n=(i=r.slice()).length,s=1;s<n;s+=2)t.opt["locale-"+i[s]].push(i[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?t.opt["default-locale"]=i.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},p.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},p.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},p.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},p.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},p.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},p.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},p.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},p.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},p.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},p.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},p.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},t.exports=p,p.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},p.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},p.Stack.prototype.replace=function(t,e){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+t;this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},p.Stack.prototype.length=function(){return this.mystack.length},t.exports=p,p.Parallel=function(t){this.state=t,this.sets=new p.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},p.Parallel.prototype.isMid=function(t){return this.midVars.indexOf(t)>-1},p.Parallel.prototype.StartCitation=function(t,e){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=t,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],this.out=e||this.state.output.queue,this.master_was_neutral_cite=!0)},p.Parallel.prototype.StartCite=function(t,e,i){var n,s,r,a,o,l;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==t.id&&this.ComposeSet(),this.sortedItemsPos+=1,e&&(n=e.position),this.try_cite=!0;for(var h=!1,c=0,u=p.PARALLEL_MATCH_VARS.length;c<u;c+=1)if(t[p.PARALLEL_MATCH_VARS[c]]){h=!0;break}var d=!0,m=this.sets.value().slice(-1)[0];if(m&&m.Item){var f=m.Item.jurisdiction?m.Item.jurisdiction.split(":")[0]:"",g=t.jurisdiction?t.jurisdiction.split(":")[0]:"";m.Item.title!==t.title?d=!1:f!==g?d=!1:m.Item.type!==t.type?d=!1:["article-journal","article-magazine"].indexOf(t.type)>-1&&(this.state.opt.development_extensions.handle_parallel_articles&&m.Item["container-title"]===t["container-title"]||(d=!1))}if(d&&h&&-1!==p.PARALLEL_TYPES.indexOf(t.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=n,this.cite.Item=t,this.cite.itemId=""+t.id,this.cite.prevItemID=""+i,this.target="front",["treaty"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOrders;else if(["article-journal","article-magazine"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOther;else if(e&&e.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var v=this.sets.value()[this.sets.value().length-1];if(v&&v.back)for(c=v.back.length-1;c>-1;c+=-1)v.back[c]&&v[v.back[c]]&&delete v[v.back[c]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&this.sortedItemsPos>0&&this.sortedItemsPos<this.sortedItems.length){if(r=this.sortedItems[this.sortedItemsPos][1],a=""+this.sortedItems[this.sortedItemsPos-1][1].id,o=!1,this.state.registry.registry[a].parallel==r.id){for(s=this.sortedItemsPos-1;s>-1;s+=-1)if(this.sortedItems[s][1].id==t.id){o=this.sortedItems[s][1].locator;break}l=this.sortedItems[this.sortedItemsPos][1].locator,r.position=!o&&l?p.POSITION_IBID_WITH_LOCATOR:l===o?p.POSITION_IBID:p.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[t.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[t.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[t.id].parallel&&(this.force_collapse=!0)}},p.Parallel.prototype.StartVariable=function(t,e){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if(this.variable="names"===t?t+":"+this.target:t,this.ignoreVars.indexOf(t)>-1)return;"container-title"===t&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var i=this.isMid(t);if("authority"===e&&"names:front"===this.variable&&this.sets.value().length){var n=this.sets.value()[this.sets.value().length-1].Item,s=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(s=this.cite.Item.authority[0].literal);var r=!1;n.authority&&n.authority.length&&(r=n.authority[0].literal),s!==r&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&i?this.target="mid":"mid"===this.target&&!i&&this.cite.Item.title&&"names"!==t?this.target="back":"back"===this.target&&i&&(this.try_cite=!0,this.in_series=!1);"number"===t?this.cite.front.push(this.variable):p.PARALLEL_COLLAPSING_MID_VARSET.indexOf(t)>-1?["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},p.Parallel.prototype.AppendBlobPointer=function(t){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1){if(["volume","page","page-first","issue"].indexOf(this.variable)>-1)return;if("container-title"===this.variable&&this.cite.mid.length>1)return}this.variable&&(this.try_cite||this.force_collapse)&&t&&t.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([t,t.blobs.length]))}}},p.Parallel.prototype.AppendToVariable=function(t,e){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.try_cite||this.force_collapse)this.target,this.data.value+="::"+t}},p.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,this.sets.value().length>0)){var t=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!t[this.variable]&&!this.data.value||t[this.variable]&&this.data.value===t[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?p.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)>-1&&(t[this.variable]&&t[this.variable].value===this.data.value?this.cite.front_collapse[this.variable]=!0:this.cite.front_collapse[this.variable]=!1):"back"===this.target&&t[this.variable]&&this.data.value!==t[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},p.Parallel.prototype.CloseCite=function(){var t,e,i,n,s,r;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(i=!1,this.cite.front_collapse["container-title"]||(i=!0),!1===this.cite.front_collapse.volume&&(i=!0),!1===this.cite.front_collapse["collection-number"]&&(i=!0),!1===this.cite.front_collapse.section&&(i=!0),i){this.cite.use_journal_info=!0,(r=this.cite.front.indexOf("section"))>-1&&(this.cite.front=this.cite.front.slice(0,r).concat(this.cite.front.slice(r+1))),(n=this.cite.front.indexOf("volume"))>-1&&(this.cite.front=this.cite.front.slice(0,n).concat(this.cite.front.slice(n+1))),(s=this.cite.front.indexOf("container-title"))>-1&&(this.cite.front=this.cite.front.slice(0,s).concat(this.cite.front.slice(s+1)));var a=this.cite.front.indexOf("collection-number");a>-1&&(this.cite.front=this.cite.front.slice(0,a).concat(this.cite.front.slice(a+1)))}if(this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){var o=!1;for(t=0,e=this.cite.back.length;t<e;t+=1)if("issued"===this.cite.back[t]&&this.cite.issued&&this.cite.issued.value){o=!0;break}o||this.cite.back_forceme.push("issued")}else{var l=this.cite.front.indexOf("issued");if((-1===l||this.master_was_neutral_cite)&&(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),l>-1)this.sets.value()[this.sets.value().length-1].issued||(this.cite.front=this.cite.front.slice(0,l).concat(this.cite.front.slice(l+1)));this.master_was_neutral_cite&&this.cite.mid.indexOf("names:mid")>-1&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},p.Parallel.prototype.ComposeSet=function(t){var e,i,n;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var s=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(n=this.sets.value().length,i=0;i<n;i+=1)e=this.sets.value()[i],0===i?this.delim_counter+=1:(!e.Item.title&&e.use_journal_info?this.delim_pointers.push(!1):this.delim_pointers.push(this.delim_counter),this.delim_counter+=1),p.POSITION_FIRST===e.position&&(0===i?(this.state.registry.registry[e.itemId].master=!0,this.state.registry.registry[e.itemId].siblings=[],this.state.registry.registry[e.itemId].parallel=!1):e.prevItemID&&(this.state.registry.registry[e.prevItemID].parallel?this.state.registry.registry[e.itemId].parallel=this.state.registry.registry[e.prevItemID].parallel:this.state.registry.registry[e.itemId].parallel=e.prevItemID,this.state.registry.registry[e.itemId].siblings=this.state.registry.registry[e.prevItemID].siblings,this.state.registry.registry[e.itemId].siblings||(this.state.registry.registry[e.itemId].siblings=[],p.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[e.itemId].siblings.push(e.itemId)));this.sets.push([])}s<2?this.purgeGroupsIfParallel(!1):this.purgeGroupsIfParallel(!0),this.in_series=!0}},p.Parallel.prototype.PruneOutputQueue=function(){var t,e,i,n,s,r;if(this.use_parallels)for(t=this.sets.mystack.length,e=0;e<t;e+=1)if((i=this.sets.mystack[e]).length>1)for(s=i.length,n=0;n<s;n+=1)r=i[n],0===n?this.purgeVariableBlobs(r,r.back):n===i.length-1?this.purgeVariableBlobs(r,r.front.concat(r.back_forceme)):this.purgeVariableBlobs(r,r.front.concat(r.back))},p.Parallel.prototype.purgeVariableBlobs=function(t,e){var i,n,s,r,a,o;if(this.use_parallels){for(void 0===(o=this.state.output.current.value()).length&&(o=o.blobs),n=0,i=this.delim_pointers.length;n<i;n+=1)!1!==(a=this.delim_pointers[n])&&(o[a].parallel_delimiter=", ");for(n=i=e.length-1;n>-1;n+=-1)if(t[s=e[n]])for(a=t[s].blobs.length-1;a>-1;a+=-1)(r=t[s].blobs[a])[0].blobs=r[0].blobs.slice(0,r[1]).concat(r[0].blobs.slice(r[1]+1)),this.state.tmp.has_purged_parallel=!0,r[0]&&r[0].strings&&"string"==typeof r[0].strings.oops&&r[0].parent&&r[0].parent&&(r[0].parent.parent.strings.delimiter=r[0].strings.oops)}},p.Parallel.prototype.purgeGroupsIfParallel=function(t){for(var e=this.parallel_conditional_blobs_list.length-1;e>-1;e+=-1){for(var i=this.parallel_conditional_blobs_list[e],n=!0,s=0,r=i.conditions.length;s<r;s+=1)if(!i.conditions[s]!=!!t&&("master"!==i.conditions[s]||this.state.registry.registry[i.id].master)&&("servant"!==i.conditions[s]||this.state.registry.registry[i.id].parallel)){n=!1;break}if(n){for(var a=[];i.blobs.length>i.pos;)a.push(i.blobs.pop());for(a.length&&a.pop();a.length;)i.blobs.push(a.pop())}this.parallel_conditional_blobs_list.pop()}},t.exports=p,p.Util={},p.Util.Match=function(){this.any=function(t,e,i){return function(t,e){for(var n=0,s=i.length;n<s;n+=1){if(i[n](t,e))return!0}return!1}},this.none=function(t,e,i){return function(t,e){for(var n=0,s=i.length;n<s;n+=1){if(i[n](t,e))return!1}return!0}},this.all=function(t,e,i){return function(t,e){for(var n=0,s=i.length;n<s;n+=1){if(!i[n](t,e))return!1}return!0}},this[void 0]=this.all,this.nand=function(t,e,i){return function(t,e){for(var n=0,s=i.length;n<s;n+=1){if(!i[n](t,e))return!0}return!1}}},t.exports=p,p.Transform=function(t){function e(e,i,n){var s="";return t.sys.getHumanForm&&("country"===e?s=(s=t.sys.getHumanForm(i.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===e&&(s=t.sys.getHumanForm(i.toLowerCase(),!1,!0),s=n?"":s.split("|").slice(1).join(", "))),s}function i(t,i,n,s,r,a,o,l){var h="",c=p.FIELD_CATEGORY_REMAP[a];if(!c)return r;var u=a,d=r;t.sys.normalizeAbbrevsKey&&(d=t.sys.normalizeAbbrevsKey(a,r));var m=!1;if("jurisdiction"===u&&d&&(m=-1===d.indexOf(":")),t.sys.getAbbreviation){if(["jurisdiction","country","language-name","language-name-original"].indexOf(u)>-1)var f="default";else if(n.jurisdiction)f=n.jurisdiction;else f="default";var g=t.transform.loadAbbreviation(f,c,d,n.type);if(t.transform.abbrevs[g][c]&&d){var v=t.transform.abbrevs[g][c][d];h="short"===i.strings.form&&v?m?"":v:e(u,d,m)}}return h||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===n.type||!s||!n[s]||!o||(h=n[s]),h||t.sys.getAbbreviation||!t.sys.getHumanForm||(h=e(u,d,m)),h||m||t.sys.getHumanForm&&"jurisdiction"===u||(h=r),h}function n(e,i){var n,s=t.opt["default-locale"][0].slice(0,2);if(n=t.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),e.language){var r=(""+e.language).match(n);s=r?r[1]:"tlh"}return e.multi&&e.multi&&e.multi.main&&e.multi.main[i]&&(s=e.multi.main[i]),t.opt.development_extensions.strict_text_case_locales&&!t.opt.development_extensions.normalize_lang_keys_to_lowercase||(s=s.toLowerCase()),s}function s(e,i,s,r,a){var o,l,h,c=a,u=!1;if(!e[i])return{name:"",usedOrig:a,token:p.Util.cloneToken(this)};m={name:"",usedOrig:a,locale:n(e,i)},h=t.opt[s];var d=!1;if("locale-orig"===s)m=a?{name:"",usedOrig:a}:{name:e[i],usedOrig:!1,locale:n(e,i)},d=!0,u=!0;else if(r&&(void 0===h||0===h.length)){var m={name:e[i],usedOrig:!0,locale:n(e,i)};d=!0,u=!0}if(!d){for(var f=0,g=h.length;f<g;f+=1){if(l=(o=h[f]).split(/[\-_]/)[0],o&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][o]){m.name=e.multi._keys[i][o],m.locale=o;break}if(l&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][l]){m.name=e.multi._keys[i][l],m.locale=l;break}}!m.name&&r&&(m={name:e[i],usedOrig:!0,locale:n(e,i)},u=!0)}if(m.token=p.Util.cloneToken(this),["title","container-title"].indexOf(i)>-1&&!(c||m.token.strings["text-case"]&&"sentence"!==m.token.strings["text-case"]&&"normal"!==m.token.strings["text-case"])){var v=!u&&m.locale,_=i.slice(0,-5),b="sentence"===m.token.strings["text-case"];m.name=p.titlecaseSentenceOrNormal(t,e,_,v,b),delete m.token.strings["text-case"]}return m}function r(e,n,s,r){var a=e.variables[0];if(t.publisherOutput&&s){if(-1===["publisher","publisher-place"].indexOf(a))return!1;t.publisherOutput[a+"-token"]=e,t.publisherOutput.varlist.push(a);var o=s.split(/;\s*/);o.length===t.publisherOutput[a+"-list"].length&&(t.publisherOutput[a+"-list"]=o);for(var l=0,h=o.length;l<h;l+=1)o[l]=i(t,e,n,!1,o[l],r,!0);return t.tmp[a+"-token"]=e,!0}return!1}function a(e){var i=e.match(/^!([-,_a-z]+)>>>/);if(i){var n=i[1].split(",");e=e.slice(i[0].length);for(var s=0,r=n.length;s<r;s+=1)-1===t.tmp.done_vars.indexOf(n[s])&&t.tmp.done_vars.push(n[s])}return e}this.abbrevs={},this.abbrevs.default=new t.sys.AbbreviationSegments,this.getTextSubField=s,this.loadAbbreviation=function(e,i,n,s){return e||(e="default"),n?(t.sys.getAbbreviation&&((e=t.sys.getAbbreviation(t.opt.styleID,t.transform.abbrevs,e,i,n,s,!0))||(e="default")),e):(t.transform.abbrevs[e]||(t.transform.abbrevs[e]=new t.sys.AbbreviationSegments),t.transform.abbrevs[e][i]||(t.transform.abbrevs[e][i]={}),e)},this.getOutputFunction=function(e,n,o,l,h){var c,u=p.LangPrefsMap[e[0]];return c=!!u&&t.opt["cite-lang-prefs"][u],function(t,o,h,d){var m,f,g,v,_,b;if(!e[0]||!o[e[0]]&&!o[l])return null;var y={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))y.primary="locale-sort";else if(c)for(var x=["primary","secondary","tertiary"],w=0,S=x.length;w<S&&!(c.length-1<w);w+=1)c[w]&&(y[x[w]]="locale-"+c[w]);else y.primary="locale-orig";if("title-short"!==e[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&h&&!h.position)||(y.secondary=!1,y.tertiary=!1),t.tmp["publisher-list"])return"publisher"===e[0]?t.tmp["publisher-token"]=this:"publisher-place"===e[0]&&(t.tmp["publisher-place-token"]=this),null;var k=s.call(this,o,e[0],y.primary,!0);m=k.name,f=k.locale;var T,E=k.token,C=k.usedOrig;if(r(this,o,m,n))return null;if(g=!1,_=!1,y.secondary){g=(k=s.call(this,o,e[0],y.secondary,!1,k.usedOrig)).name,v=k.locale;var A=k.token}if(y.tertiary){_=(k=s.call(this,o,e[0],y.tertiary,!1,k.usedOrig)).name,b=k.locale;var z=k.token}if(n&&((m=i(t,E,o,l,m,n,!0))&&(m=a(m)),g&&(g=i(t,A,o,!1,g,n,!0)),_&&(_=i(t,z,o,!1,_,n,!0))),"locale-translit"===y.primary&&(T=t.opt.citeAffixes[u][y.primary].prefix),"<i>"===T&&"title"===e[0]&&!C){var I=!1;for(w=0,S=E.decorations.length;w<S;w+=1)"@font-style"===E.decorations[w][0]&&"italic"===E.decorations[w][1]&&(I=!0);I||E.decorations.push(["@font-style","italic"])}if("en"!==f&&"title"===E.strings["text-case"]&&(E.strings["text-case"]="passthrough"),"title"===e[0]&&(m=p.demoteNoiseWords(t,m,this["leading-noise-words"])),g||_){if(t.output.openLevel("empty"),E.strings.suffix=E.strings.suffix.replace(/[ .,]+$/,""),t.output.append(m,E),g){for(A.strings.prefix=t.opt.citeAffixes[u][y.secondary].prefix,A.strings.suffix=t.opt.citeAffixes[u][y.secondary].suffix,A.strings.prefix||(A.strings.prefix=" "),w=A.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(A.decorations[w].join("/"))>-1&&(A.decorations=A.decorations.slice(0,w).concat(A.decorations.slice(w+1)));"en"!==v&&"title"===A.strings["text-case"]&&(A.strings["text-case"]="passthrough");var L=new p.Token;L.decorations.push(["@font-style","normal"]),L.decorations.push(["@font-weight","normal"]),t.output.openLevel(L),t.output.append(g,A),t.output.closeLevel();var O=t.output.current.value(),M=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":secondary"),t.parallel.cite[e[0]+":secondary"]={blobs:[[O,M]]})}if(_){for(z.strings.prefix=t.opt.citeAffixes[u][y.tertiary].prefix,z.strings.suffix=t.opt.citeAffixes[u][y.tertiary].suffix,z.strings.prefix||(z.strings.prefix=" "),w=z.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(z.decorations[w].join("/"))>-1&&(z.decorations=z.decorations.slice(0,w).concat(z.decorations.slice(w+1)));"en"!==b&&"title"===z.strings["text-case"]&&(z.strings["text-case"]="passthrough");var P=new p.Token;P.decorations.push(["@font-style","normal"]),P.decorations.push(["@font-weight","normal"]),t.output.openLevel(P),t.output.append(_,z),t.output.closeLevel(),O=t.output.current.value(),M=t.output.current.value().blobs.length-1,t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":tertiary"),t.parallel.cite[e[0]+":tertiary"]={blobs:[[O,M]]})}t.output.closeLevel()}else t.output.append(m,E);return null}},this.quashCheck=a},t.exports=p,p.Token=function(t,e){this.name=t,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e,this.evaluator=!1,this.tests=[],this.rawtests=[],this.succeed=!1,this.fail=!1,this.next=!1},p.Util.cloneToken=function(t){var e,i,n;if("string"==typeof t)return t;for(var s in e=new p.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(s)&&(e.strings[s]=t.strings[s]);if(t.decorations)for(e.decorations=[],i=0,n=t.decorations.length;i<n;i+=1)e.decorations.push(t.decorations[i].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),e.tests=t.tests.slice(),e.rawtests=t.tests.slice()),e},t.exports=p,p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},t.exports=p,p.Blob=function(t,e,i){var n,s;if(this.levelname=i,e){for(var r in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(r)&&(this.strings[r]=e.strings[r]);for(this.decorations=[],n=void 0===e.decorations?0:e.decorations.length,s=0;s<n;s+=1)this.decorations.push(e.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},p.Blob.prototype.push=function(t){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},t.exports=p,p.NumericBlob=function(t,e,i,n){this.id=n,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=p.START,this.strings={},i?(this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter)},p.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},p.Output.DefaultFormatter=function(){},p.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},p.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=p.START,"object"==typeof t&&(t.num===this.num+1?t.status=p.SUCCESSOR:t.status=p.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===p.START||this.status===p.SEEN?t.status=p.SUCCESSOR:this.status!==p.SUCCESSOR&&this.status!==p.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):t.status=p.SUCCESSOR):(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),"object"==typeof t&&(t.status=p.SEEN))},p.NumericBlob.prototype.checkLast=function(t){return(this.status===p.SEEN||t.num!==this.num-1&&this.status===p.SUCCESSOR)&&(this.status=p.SUCCESSOR,!0)},t.exports=p,p.Util.fixDateNode=function(t,e,i){var n,s,r,a,o,l,h,c,p,u,d,m,f,g=this.cslXml.getAttributeValue(i,"lingo"),v=this.cslXml.getAttributeValue(i,"default-locale");if(this.build.date_key=!0,n=this.cslXml.getAttributeValue(i,"form"),g=v?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(n,v))return t;var _=this.cslXml.getAttributeValue(i,"date-parts");for(var b in s=this.cslXml.getAttributeValue(i,"variable"),c=this.cslXml.getAttributeValue(i,"prefix"),p=this.cslXml.getAttributeValue(i,"suffix"),m=this.cslXml.getAttributeValue(i,"display"),f=this.cslXml.getAttributeValue(i,"cslid"),r=this.cslXml.nodeCopy(this.getDate(n,v)),this.cslXml.setAttribute(r,"lingo",this.opt.lang),this.cslXml.setAttribute(r,"form",n),this.cslXml.setAttribute(r,"date-parts",_),this.cslXml.setAttribute(r,"cslid",f),this.cslXml.setAttribute(r,"variable",s),this.cslXml.setAttribute(r,"default-locale",v),c&&this.cslXml.setAttribute(r,"prefix",c),p&&this.cslXml.setAttribute(r,"suffix",p),m&&this.cslXml.setAttribute(r,"display",m),u=this.cslXml.children(r))a=u[b],"date-part"===this.cslXml.nodename(a)&&(o=this.cslXml.getAttributeValue(a,"name"),v&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(r,"date-part",o,"@default-locale","true"));for(var b in u=this.cslXml.children(i))if(a=u[b],"date-part"===this.cslXml.nodename(a))for(l in o=this.cslXml.getAttributeValue(a,"name"),d=this.cslXml.attributes(a))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(h=d[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(r,"date-part",o,l,h)));if("year"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(r,"month"),this.cslXml.deleteNodeByNameAttribute(r,"day");else if("year-month"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(r,"day");else if("month-day"===this.cslXml.getAttributeValue(i,"date-parts")){for(var y=this.cslXml.children(r),x=1,w=this.cslXml.numberofnodes(y);x<w;x++)if("year"===this.cslXml.getAttributeValue(y[x],"name")){this.cslXml.setAttribute(y[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(r,"year")}return this.cslXml.insertChildNodeAfter(t,i,e,r)},t.exports=p,p.dateMacroAsSortKey=function(t,e){p.dateAsSortKey.call(this,t,e,!0)},p.dateAsSortKey=function(t,e,i){var n,s,r,a,o,l,h,c=this.variables[0],u="empty";for(i&&t.tmp.extension&&(u="macro-with-date"),void 0===(n=e[c])&&((n={"date-parts":[[0]]}).year||(t.tmp.empty_date=!0)),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),n.raw?n=t.fun.dateparser.parseDateToArray(n.raw):n["date-parts"]&&(n=t.dateParseArray(n)),void 0===n&&(n={}),l=0,h=p.DATE_PARTS_INTERNAL.length;l<h;l+=1)if(r=0,"_end"===(a=s=p.DATE_PARTS_INTERNAL[l]).slice(-4)&&(a=a.slice(0,-4)),n[s]&&this.dateparts.indexOf(a)>-1&&(r=n[s]),"year"===s.slice(0,4)){var d="Y";"-"===(o=p.Util.Dates[a].numeric(t,r))[0]&&(d="X",o=o.slice(1),o=9999-parseInt(o,10)),t.output.append(p.Util.Dates[s.slice(0,4)].numeric(t,d+o),u)}else(r=p.Util.Dates[a]["numeric-leading-zeros"](t,r))||(r="00"),t.output.append(r,u)},p.Engine.prototype.dateParseArray=function(t){var e,i,n,s;for(i in e={},t)if("date-parts"===i){(n=t["date-parts"]).length>1&&n[0].length!==n[1].length&&p.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var r=0,a=n.length;r<a;r+=1)for(var o=0,l=p.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(n[r][o],10))?e[p.DATE_PARTS[o]+s[r]]=void 0:e[p.DATE_PARTS[o]+s[r]]=parseInt(n[r][o],10)}else t.hasOwnProperty(i)&&("literal"===i&&"object"==typeof t.literal&&"string"==typeof t.literal.part?(p.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[i]=t[i]);return e},t.exports=p,p.Util.Names={},p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets,p.Util.Names.unInitialize=function(t,e){var i,n,s,r,a;if(!e)return"";for(s=e.split(/(?:\-|\s+)/),r=e.match(/(\-|\s+)/g),a="",i=0,n=s.length;i<n;i+=1)a+=s[i],i<n-1&&(a+=r[i]);return a},p.Util.Names.initializeWith=function(t,e,i,n){var s,r,a,o,l,h;if(!e)return"";if(i||(i=""),["Lord","Lady"].indexOf(e)>-1||!e.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return e;var c=e;if(!1===t.opt["initialize-with-hyphen"]&&(c=c.replace(/\-/g," ")),l=(c=(c=c.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"–$1")).match(/[\-\s]+/g),0===(h=c.split(/[\-\s]+/)).length)c=l;else for(c=[h[0]],s=1,r=h.length;s<r;s+=1)c.push(l[s-1]),c.push(h[s]);for(s=(h=c).length-1;s>-1;s+=-1)if(h[s]&&h[s].slice(0,-1).indexOf(".")>-1){var u=h.slice(s+1),d=h[s].slice(0,-1).split(".");for(h=h.slice(0,s),a=0,o=d.length;a<o;a+=1)h.push(d[a]+"."),a<d.length-1&&h.push(" ");h=h.concat(u)}return(n?p.Util.Names.doNormalize(t,h,i):p.Util.Names.doInitialize(t,h,i)).replace(/\u2013([a-z])/g,"-$1")},p.Util.Names.doNormalize=function(t,e,i,n){var s,r;i=i||"";var a=[];for(s=0,r=e.length;s<r;s+=1)e[s].length>1&&"."===e[s].slice(-1)?(e[s]=e[s].slice(0,-1),a.push(!0)):1===e[s].length&&e[s].toUpperCase()===e[s]?a.push(!0):a.push(!1);for(s=0,r=e.length;s<r;s+=2)if(a[s]){if(s<e.length-2)e[s+1]="",(i.match(/^[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]+$/)||(!i||i.slice(-1)&&!i.slice(-1).match(/[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]/))&&e[s].length&&e[s].match(p.ALL_ROMANESQUE_REGEXP)&&(e[s].length>1||e[s+2].length>1))&&(e[s+1]=" "),e[s+2].length>1?e[s]=e[s]+i.replace(/\ufeff$/,""):e[s]=e[s]+i;s===e.length-1&&(e[s]=e[s]+i)}return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.doInitialize=function(t,e,i,n){var s,r,a,o,l,h,c;for(s=0,r=e.length;s<r;s+=2)if(c=e[s])if(!(a=c.match(p.NAME_INITIAL_REGEXP))&&!c.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&i.match("%s")&&(a=c.match(/(.)(.*)/)),a&&a[1]===a[1].toUpperCase()){var u="";if(a[2]){var d="";for(o=0,l=(h=a[2].split("")).length;o<l;o+=1){var m=h[o];if(m!==m.toUpperCase())break;d+=m}d.length<a[2].length&&(u=d.toLocaleLowerCase())}e[s]=a[1].toLocaleUpperCase()+u,s<r-1?i.match("%s")?e[s]=i.replace("%s",e[s]):e[s+1].indexOf("-")>-1?e[s+1]=i+e[s+1]:e[s+1]=i:i.match("%s")?e[s]=i.replace("%s",e[s]):e.push(i)}else c.match(p.ROMANESQUE_REGEXP)&&(e[s]=" "+c);var f=e.join("");return f=f.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.getRawName=function(t){var e=[];return t.given&&e.push(t.given),t.family&&e.push(t.family),e.join(" ")},t.exports=p,p.Util.Dates={},p.Util.Dates.year={},p.Util.Dates.year.long=function(t,e){return e||(e="boolean"==typeof e?"":0),e.toString()},p.Util.Dates.year.imperial=function(t,e,i,n){var s="";e||(e="boolean"==typeof e?"":0),i=i?"_end":"";var r=t.tmp.date_object["month"+i];for(r=r?""+r:"1";r.length<2;)r="0"+r;var a=t.tmp.date_object["day"+i];for(a=a?""+a:"1";a.length<2;)a="0"+a;var o,l,h=parseInt(e+r+a,10);if(h>=18680908&&h<19120730?(o="明治",l=1867):h>=19120730&&h<19261225?(o="大正",l=1911):h>=19261225&&h<19890108?(o="昭和",l=1925):h>=19890108&&(o="平成",l=1988),o&&l){var c=o;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey("number",o)),t.transform.abbrevs.default.number[c]||t.transform.loadAbbreviation("default","number",c),t.transform.abbrevs.default.number[c]&&(o=t.transform.abbrevs.default.number[c]),s=o+(e-l)}return s},p.Util.Dates.year.short=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},p.Util.Dates.year.numeric=function(t,e){var i,n;for((n=(e=""+e).match(/([0-9]*)$/))?(i=e.slice(0,-1*n[1].length),e=n[1]):(i=e,e="");e.length<4;)e="0"+e;return i+e},p.Util.Dates.normalizeMonth=function(t,e){var i;if(t||(t=0),(t=""+t).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var n={stub:"month-",num:t};n.num<1||n.num>20?n.num=0:n.num>16?(n.stub="season-",n.num=n.num-16):n.num>12&&(n.stub="season-",n.num=n.num-12),i=n}else(t<1||t>12)&&(t=0),i=t;return i},p.Util.Dates.month={},p.Util.Dates.month.numeric=function(t,e){return(e=p.Util.Dates.normalizeMonth(e))||(e=""),e},p.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=p.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},p.Util.Dates.month.long=function(t,e,i,n){var s=p.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"long",0,0,!1,n)}else e="";return e},p.Util.Dates.month.short=function(t,e,i,n){var s=p.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"short",0,0,!1,n)}else e="";return e},p.Util.Dates.day={},p.Util.Dates.day.numeric=function(t,e){return e.toString()},p.Util.Dates.day.long=p.Util.Dates.day.numeric,p.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e||(e=0),e=e.toString();e.length<2;)e="0"+e;return e.toString()},p.Util.Dates.day.ordinal=function(t,e,i){return t.fun.ordinalizer.format(e,i)},t.exports=p,p.Util.Sort={},p.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},t.exports=p,p.Util.substituteStart=function(t,e){var i,n,s,r,a,o,l;r=function(t,e){for(var i=0,n=this.decorations.length;i<n;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){t.tmp.strip_periods+=1;break}},this.execs.push(r),this.decorations&&(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],("text"===this.name&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(i=function(t,e,i){"author"===t.tmp.element_trace.value()||"names"===this.name?i&&i["author-only"]?t.tmp.element_trace.push("do-not-suppress-me"):i&&i["suppress-author"]:i&&i["author-only"]?t.tmp.element_trace.push("suppress-me"):i&&i["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(i)),n=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((s=new p.Token("group",p.START)).decorations=[["@display","left-margin"]],r=function(t,e){t.tmp.render_seen||(s.strings.first_blob=e.id,t.output.startTag("bib_first",s))},s.execs.push(r),e.push(s)):p.DISPLAY_CLASSES.indexOf(n)>-1&&((s=new p.Token("group",p.START)).decorations=[["@display",n]],r=function(t,e){s.strings.first_blob=e.id,t.output.startTag("bib_first",s)},s.execs.push(r),e.push(s)),t.build.cls=n),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(a=new p.Token("choose",p.START),p.Node.choose.build.call(a,t,e),r=function(e,i){return!!t.tmp.can_substitute.value()},(o=new p.Token("if",p.START)).tests.push(r),o.test=t.fun.match.any(this,t,o.tests),e.push(o)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(r=function(t,e,i){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var n=new p.Token("text",p.START);n.decorations=[["@showid","true"]],t.output.startTag("variable_entry",n);var s=null;i&&(s=i.position),s||(s=0);var r=0;i&&i.noteIndex&&(r=i.noteIndex);var a=0;i&&i["first-reference-note-number"]&&(a=i["first-reference-note-number"]);var o=0;i&&i["citation-number"]&&(o=i["citation-number"]);var l=0;i&&i.index&&(l=i.index);var h={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","subsequent","ibid","ibid-with-locator"][s],"note-number":r,"first-reference-note-number":a,"citation-number":o,index:l,mode:t.opt.mode};t.output.current.value().params=h}},this.execs.push(r))},p.Util.substituteEnd=function(t,e){var i,n,s,r,a,o;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(i=function(t,e){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(i)),i=function(t,e){for(var i=0,n=this.decorations.length;i<n;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(i),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(i=function(t,e){t.output.endTag("bib_first")},this.execs.push(i),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(i=function(t,e){t.tmp.render_seen||t.output.endTag("bib_first")},(n=new p.Token("group",p.END)).execs.push(i),e.push(n),(s=new p.Token("group",p.START)).decorations=[["@display","right-inline"]],i=function(t,e){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",s))},s.execs.push(i),e.push(s))),1===t.build.substitute_level.value()&&(r=new p.Token("if",p.END),e.push(r),a=new p.Token("choose",p.END),p.Node.choose.build.call(a,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new p.Token("text",p.SINGLETON),i=function(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var i,n,s=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var r=!0,a=[];for(i=0,n=t.tmp.name_node.children.length;i<n;i+=1){var l=t.tmp.rendered_name[i];r&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>i-1&&l&&!l.localeCompare(t.tmp.last_rendered_name[i])?(o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[o],"partial-first"===s&&(r=!1)):r=!1,a.push(l)}t.tmp.last_rendered_name=a}else if("complete-each"===s){if(a=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name))for(i=0,n=t.tmp.name_node.children.length;i<n;i+=1)o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[o];t.tmp.last_rendered_name=a}}else{(a=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name)&&(o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[o,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[o]:t.tmp.name_node.top.blobs=[o],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=a)}t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(i)),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(i=function(t,e){t.tmp.element_trace.pop()},this.execs.push(i))},t.exports=p,p.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},p.Util.LongOrdinalizer=function(){},p.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},p.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var i=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return i||(i=this.state.fun.ordinalizer.format(t,e)),this.state.tmp.cite_renders_content=!0,i},p.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[void 0,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var n=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(void 0===n){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(n)}}}},p.Util.Ordinalizer.prototype.format=function(t,e){var i;i=""+(t=parseInt(t,10));var n="",s=[];if(e&&s.push(e),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var r;n=this.state.getTerm("ordinal",!1,0,e);for(var a=0,o=s.length;a<o;a+=1){r=s[a];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][i]&&l["whole-number"][i][r]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][r],!1,0,e):l["last-two-digits"][i.slice(i.length-2)]&&l["last-two-digits"][i.slice(i.length-2)][r]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][r],!1,0,e):l["last-digit"][i.slice(i.length-1)]&&l["last-digit"][i.slice(i.length-1)][r]&&(n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][r],!1,0,e)),n)break}}else e||(e=void 0),this.state.fun.ordinalizer.init(),n=t/10%10==1||t>10&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return i=i+=n},p.Util.Romanizer=function(){},p.Util.Romanizer.prototype.format=function(t){var e,i,n,s,r;if(e="",t<6e3)for((s=t.toString().split("")).reverse(),i=0,n=0,r=s.length,i=0;i<r;i+=1)n=parseInt(s[i],10),e=p.ROMAN_NUMERALS[i][n]+e;return e},p.Util.Suffixator=function(t){t||(t=p.SUFFIX_CHARS),this.slist=t.split(",")},p.Util.Suffixator.prototype.format=function(t){var e;t+=1;var i="";do{e=t%26==0?26:t%26;i=this.slist[e-1]+i;t=(t-e)/26}while(0!==t);return i},p.Engine.prototype.processNumber=function(t,e,i,n){var s,r=this;function a(t,e,n,s){s=s||"";var r={};if(e||p.STATUTE_SUBDIV_STRINGS_REVERSE[i]||(e="var:"+i),e){var a=e.match(/(\s*)([^\s]+)(\s*)/);r.label=a[2],r.origLabel=t,r.labelSuffix=a[3]?a[3]:"",r.plural=0,r.labelVisibility=!1}return(a=n.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(r.particle=a[1]?a[1]:"",r.value=a[2]):(r.particle="",r.value=n),r.joiningSuffix=s.replace(/\s*-\s*/,"-"),r}function o(t,e,i){var n=t[i.pos],s=t[e].value,r="\\-"===n.joiningSuffix;s.particle&&s.particle!==n.particle&&(i.collapsible=!1);var a=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),o=n.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);if(s&&a&&o&&!r||(i.collapsible=!1,s&&o||(i.numeric=!1),r&&i.count--),(a&&a[1]||o&&o[1])&&(i.collapsible=!1),void 0===t[e].collapsible){for(var l=e,h=e+i.count;l<h;l++)isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/)?t[l].collapsible=!1:t[l].collapsible=!0;i.collapsible=t[e].collapsible}var c=i.collapsible;for(l=i.pos,h=i.pos+i.count;l<h;l++)i.count>1&&c&&(t[l].plural=1),t[l].numeric=i.numeric,t[l].collapsible=i.collapsible}function l(t,e,n){"var:"!==n.label.slice(0,4)&&(0===n.pos?("locator"!==i&&"number"!==i||r.getTerm(p.STATUTE_SUBDIV_STRINGS[n.label])||(t[n.pos].labelVisibility=!0),-1===["locator","number"].indexOf(i)&&p.STATUTE_SUBDIV_STRINGS[n.label]!==i&&(t[0].labelVisibility=!0)):t[n.pos].labelVisibility=!0)}function h(e){var i=p.Util.cloneToken(t),n=new p.Token;if(!r.tmp.just_looking){for(var s=i.decorations.length-1;s>-1;s--)"@quotes"===i.decorations[s][0]&&(n.decorations=n.decorations.concat(i.decorations.slice(s,s+1)),i.decorations=i.decorations.slice(0,s).concat(i.decorations.slice(s+1)));n.strings.prefix=i.strings.prefix,i.strings.prefix="",n.strings.suffix=i.strings.suffix,i.strings.suffix=""}var a=e.length?e[0].label:null;if(e.length){for(var o=0,l=e.length;o<l;o++){var h=e[o],u=p.Util.cloneToken(i);u.gender=t.gender,a===h.label&&(u.formatter=t.formatter),h.numeric&&(u.successor_prefix=h.successor_prefix),u.strings.suffix=u.strings.suffix+c(h.joiningSuffix),h.styling=u}r.tmp.just_looking||'"'===e[0].value.slice(0,1)&&'"'===e[e.length-1].value.slice(-1)&&(e[0].value=e[0].value.slice(1),e[e.length-1].value=e[e.length-1].value.slice(0,-1),n.decorations.push(["@quotes",!0]))}return n}function c(t){return t.replace("\\-","-")}function u(t,e,i,n){var s=d(t,e);return function(t,e){var i=!0;if("locator"===t){var n;n=e.origLabel?e.origLabel:e.label,i=!!r.getTerm(p.STATUTE_SUBDIV_STRINGS[n])}return i}(t,e)&&"-"===i&&n&&((s||["locator","issue","volume","edition","number"].indexOf(t)>-1)&&((i=r.getTerm("page-range-delimiter"))||(i="–")),"collection-number"===t&&((i=r.getTerm("year-range-delimiter"))||(i="–"))),i}function d(t,e){return"page"===t||"locator"===t&&(["p."].indexOf(e.label)>-1||["p."].indexOf(e.origLabel)>-1)}function m(t,e,n){if(!(e<1)&&2===n.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!r.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=u(i,t[e],t[e-1].joiningSuffix,!0);else{var s=t[e];if(!d(i,s)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value)))(""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=r.getTerm("page-range-delimiter")),a=t[e-1].value+c(t[e-1].joiningSuffix)+t[e].value;else{var a=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value;a=r.fun.page_mangler(a)}var o=a.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+)$/);if(o){var l=o[3];l=u(i,s,l,t[e].numeric),t[e-1].particle=o[1],t[e-1].value=o[2],t[e-1].joiningSuffix=l,t[e].particle=o[4],t[e].value=o[5]}n.count=0}else n.count=1}function f(e){if(t&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator"].indexOf(i)){for(var n={count:0,label:null,lastHadRangeDelimiter:!1},s=0,r=e.length;s<r;s++){var a=e[s];if(a.collapsible)n.label===a.label&&"-"===a.joiningSuffix?n.count=1:n.label===a.label&&"-"!==a.joiningSuffix?(n.count++,2===n.count&&m(e,s,n)):n.label!==a.label?(n.label=a.label,n.count=1):(n.count=1,n.label=a.label);else{n.count=0,n.label=null;var o=a.numeric;a.joiningSuffix=u(i,a,a.joiningSuffix,o)}}2===n.count&&m(e,e.length-1,n)}}if(t&&this.tmp.shadow_numbers[i]&&this.tmp.shadow_numbers[i].values.length)return f(b=this.tmp.shadow_numbers[i].values),void(this.tmp.shadow_numbers[i].masterStyling=h(b));if(this.tmp.shadow_numbers[i]||(this.tmp.shadow_numbers[i]={values:[]}),e){var g=p.LangPrefsMap[i];if(g){var v=this.opt["cite-lang-prefs"][g][0];s=(s=this.transform.getTextSubField(e,i,"locale-"+v,!0)).name}else s=e[i];if(s&&this.sys.getAbbreviation){var _=this.transform.loadAbbreviation(e.jurisdiction,"number",s);this.transform.abbrevs[_].number&&(this.transform.abbrevs[_].number[s]?s=this.transform.abbrevs[_].number[s]:void 0!==this.transform.abbrevs[_].number[s]&&delete this.transform.abbrevs[_].number[s])}if(void 0!==s&&("string"==typeof s||"number"==typeof s)){"number"==typeof s&&(s=""+s);var b,y=p.STATUTE_SUBDIV_STRINGS_REVERSE[i];if(!this.tmp.shadow_numbers.values)!function(t){for(var e=0,i=t.length-1;e<i;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(b=function(t,n){n=n||"";var s=[];if(d=(t=function(t,n){var s=(t=t.trim()).match(/^([^ ]+)/);if(s&&!p.STATUTE_SUBDIV_STRINGS[s[1]]){var r=null;(r="locator"===i?e.label?p.STATUTE_SUBDIV_STRINGS_REVERSE[e.label]:"p.":p.STATUTE_SUBDIV_STRINGS_REVERSE[i])&&(t=r+" "+t)}return t}(t)).match(/(;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/g)){for(var o=0,l=(m=t.split(/(?:;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/)).length-1;o<l;o++)s.push(m[o]),s.push(d[o]);s.push(m[m.length-1]),s=function(t){for(var e=t.length-2;e>-1;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(s)}else s=[t];var h=[],c=n,u="";for(o=0,l=s.length;o<l;o+=2){var d;if(d=s[o].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/g)){for(var m,f=(m=s[o].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/)).length-1;f>0;f--)!m[f-1]||m[f].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&m[f-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(m[f-1]=m[f-1]+d[f-1]+m[f],m=m.slice(0,f).concat(m.slice(f+1)),d=d.slice(0,f-1).concat(d.slice(f)));if(d.length>0){var g=d[0].trim();!p.STATUTE_SUBDIV_STRINGS[g]||!r.getTerm(p.STATUTE_SUBDIV_STRINGS[g])||-1===["locator","number"].indexOf(i)&&p.STATUTE_SUBDIV_STRINGS[g]!==i?0===o&&(d=d.slice(1),m[0]=m[0]+" "+g+" "+m[1],m=m.slice(0,1).concat(m.slice(2))):u=g}f=0;for(var v=m.length;f<v;f++)(m[f]||f===m.length-1)&&(_=u===(c=d[f-1]?d[f-1]:c).trim()?"":u,t=m[f]?m[f].trim():"",f===m.length-1?h.push(a(_,c,t,s[o+1])):h.push(a(_,c,t)))}else{var _;_=u===c.trim()?"":u,h.push(a(_,c,s[o],s[o+1]))}}return h}(s,y)),function(t){if(0!==t.length){for(var n=0,s=1,r=1,a=t.length;r<a;r++){var h=t[r-1],c=t[r];h.label===c.label&&h.particle==h.particle?s++:((p=JSON.parse(JSON.stringify(t[n]))).pos=n,p.count=s,p.numeric=!0,o(t,n,p),0!==r&&h.label===c.label||l(t,0,p),n=r,s=1)}var p;(p=JSON.parse(JSON.stringify(t[n]))).pos=n,p.count=s,p.numeric=!0,o(t,n,p),l(t,0,p),t.length&&t[0].numeric&&"number-of-"===i.slice(0,10)&&parseInt(e[i],10)>1&&(t[0].plural=1)}}(b),this.tmp.shadow_numbers[i].values=b;t&&(f(b),this.tmp.shadow_numbers[i].masterStyling=h(b)),function(t,e,i){var n=t[e];i.length&&(n.numeric=i[0].numeric,n.collapsible=i[0].collapsible,n.plural=i[0].plural,n.label=p.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===e&&"issue"===n.label&&r.getTerm("number")&&(n.label="number"))}(this.tmp.shadow_numbers,i,b)}}},p.Util.outputNumericField=function(t,e,i){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var n,s=t.tmp.shadow_numbers[e].values,r=s.length?s[0].label:null,a=t.tmp.shadow_numbers[e].labelForm;n=a||"short";for(var o=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,l=t.tmp.shadow_numbers[e].labelDecorations,h=null,c=0,u=s.length;c<u;c++){var d,m=s[c],f="";if(m.label)(d="var:"===m.label.slice(0,4)?m.label.slice(4):p.STATUTE_SUBDIV_STRINGS[m.label])&&(f=m.label===r?t.getTerm(d,a,m.plural):t.getTerm(d,n,m.plural),o&&(f=p.Output.Formatters["capitalize-first"](t,f)));var g=-1;f&&(g=f.indexOf("%s"));var v=p.Util.cloneToken(m.styling);if(v.formatter=m.styling.formatter,v.type=m.styling.type,v.num=m.styling.num,v.gender=m.styling.gender,g>0&&g<f.length-2)v.strings.prefix+=f.slice(0,g),v.strings.suffix=f.slice(g+2)+v.strings.suffix;else if(m.labelVisibility)if(f||(f=m.label,d=m.label),g>0){var _=new p.Token;_.decorations=l,t.output.append(f.slice(0,g),_)}else g!==f.length-2&&-1!==g||t.output.append(f+m.labelSuffix,"empty");if(m.collapsible){if(m.value.match(/^[1-9][0-9]*$/))var b=new p.NumericBlob(m.particle,parseInt(m.value,10),v,i);else b=new p.NumericBlob(m.particle,m.value,v,i);void 0===b.gender&&(b.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(b,"literal")}else t.output.append(m.particle+m.value,v);if(0===g&&g<f.length-2&&(null===h&&(h=d),d!==h||c===s.length-1)){var y=new p.Token;y.decorations=l,t.output.append(f.slice(g+2),y)}t.tmp.term_predecessor=!0}t.output.closeLevel()},t.exports=p,p.Util.PageRangeMangler={},p.Util.PageRangeMangler.getFunction=function(t,e){var i,n,s,r,a,o,l,h,c,p,u,d,m,f,g,v,_,b=t.getTerm(e+"-range-delimiter");i=/([0-9]*[a-zA-Z]+0*)?([0-9]+)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+)/,r=function(i){for(s=i.length,n=1;n<s;n+=2)"object"==typeof i[n]&&(i[n]=i[n].join(""));var r=i.join("");return r=r.replace(/([^\\])\-/g,"$1"+t.getTerm(e+"-range-delimiter"))},a=function(t){var e,i,r,a=new RegExp("([^\\\\])[-"+("-"===b?"":b)+"\\u2013]","g");t=t.replace(a,"$1 - ").replace(/\s+-\s+/g," - ");var o=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+)","g"),l=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+");if(e=t.match(o),0===(i=t.split(l)).length)r=e;else for(r=[i[0]],n=1,s=i.length;n<s;n+=1)r.push(e[n-1].replace(/\s*\-\s*/g,"-")),r.push(i[n]);return r},o=function(t){for(p=a(t=""+t),s=p.length,n=1;n<s;n+=2)(u=p[n].match(i))&&(u[3]&&u[1]!==u[3]||(u[4].length<u[2].length&&(u[4]=u[2].slice(0,u[2].length-u[4].length)+u[4]),parseInt(u[2],10)<parseInt(u[4],10)&&(u[3]=b+(u[1]?u[1]:""),p[n]=u.slice(1)))),"string"==typeof p[n]&&(p[n]=p[n].replace(/\-/g,b));return p},l=function(t,e,i){s=t.length;for(var n=1,a=t.length;n<a;n+=2)t[n][3]=h(t[n][1],t[n][3],e,i),t[n][2].slice(1)===t[n][0]&&(t[n][2]=b);return r(t)},h=function(t,e,i,n){if(i||(i=0),d=(""+t).split(""),m=(""+e).split(""),(f=m.slice()).reverse(),d.length===m.length)for(var s=0,r=d.length;s<r;s+=1){if(!(d[s]===m[s]&&f.length>i)){if(i&&n&&3===f.length){var a=d.slice(0,s);a.reverse(),f=f.concat(a)}break}f.pop()}return f.reverse(),f.join("")},c=function(t){for(s=t.length,n=1;n<s;n+=2)"object"==typeof t[n]&&(u=t[n],g=parseInt(u[1],10),v=parseInt(u[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(v/100,10)?u[3]=""+v%100:g>=1e4&&(u[3]=""+v%1e3)),u[2].slice(1)===u[0]&&(u[2]=b);return r(t)};var y=function(t,e,i,n){return e(o(t=""+t),i,n)};return t.opt[e+"-range-format"]?"expanded"===t.opt[e+"-range-format"]?_=function(t){return y(t,r)}:"minimal"===t.opt[e+"-range-format"]?_=function(t){return y(t,l)}:"minimal-two"===t.opt[e+"-range-format"]?_=function(t,e){return y(t,l,2,e)}:"chicago"===t.opt[e+"-range-format"]&&(_=function(t){return y(t,c)}):_=function(t){return y(t,r)},_},t.exports=p,p.Util.FlipFlopper=function(t){this.processTags=function(n){var s=!1;" "!==(v=n.blobs).slice(0,1)||v.match(/^\s+[\'\"]/)||(s=!0);var r=new RegExp("("+p.ROMANESQUE_REGEXP.source+")’("+p.ROMANESQUE_REGEXP.source+")","g"),a=function(t){var e=[],n=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(c.matchAll);if(!n)return{tags:[],strings:[t],forcedSpaces:[]};for(var s=t.split(c.splitAll),r=0,a=n.length-1;r<a;r++)i[n[r]]&&(""===s[r+1]&&['"',"'"].indexOf(n[r+1])>-1?(n[r+1]=" "+n[r+1],e.push(!0)):e.push(!1));return{tags:n,strings:s,forcedSpaces:e}}(v=" "+v.replace(r,"$1'$2"));if(0===a.tags.length)return;for(var l=!1,h=0,f=a.tags.length;h<f;h++){var g=a.tags[h],v=a.strings[h+1];if(m(g,v))a.strings[h+1]=" '"===g?" ’"+a.strings[h+1]:"’"+a.strings[h+1],a.tags[h]="";else{for(var _;_=u(g,h);){if(!(Object.keys(_).indexOf("fixtag")>-1)){if(_.nocase){a.tags[_.nocase.open]="",a.tags[_.nocase.close]="";break}break}if(g.match(c.close)&&"'"===g)a.strings[h+1]="’"+a.strings[h+1],a.tags[h]="";else{var b=a.tags[_.fixtag];a.forcedSpaces[_.fixtag-1]&&(b=b.slice(1)),a.strings[_.fixtag+1]=b+a.strings[_.fixtag+1],a.tags[_.fixtag]=""}if(!(e.length>0))break;e.pop()}_&&(_.fixtag||0===_.fixtag)&&(a.strings[h+1]=a.tags[h]+a.strings[h+1],a.tags[h]="")}}for(var h=e.length-1;h>-1;h--){var y=e[h].pos,g=a.tags[y];a.strings[y+1]=" '"===g||"'"===g?" ’"+a.strings[y+1]:a.tags[y]+a.strings[y+1],a.tags[y]="",e.pop()}for(var h=a.tags.length-1;h>-1;h--)a.tags[h]||(a.tags=a.tags.slice(0,h).concat(a.tags.slice(h+1)),a.strings[h]=a.strings[h]+a.strings[h+1],a.strings=a.strings.slice(0,h+1).concat(a.strings.slice(h+2)));for(var h=0,f=a.tags.length;h<f;h++){var g=a.tags[h],x=a.forcedSpaces[h-1];[' "'," '",'("',"('"].indexOf(g)>-1&&(l||(o(g),l=!0),x||(a.strings[h]+=g.slice(0,1)))}!function(e,i,n){var s=!0,r=new d(e);e.blobs=[];var a=new function(e){this.stack=[e],this.latest=e,this.addStyling=function(e,i,n){if(s&&(" "===e.slice(0,1)&&(e=e.slice(1))," "===e.slice(0,1)&&(e=e.slice(1)),s=!1),this.latest=this.stack[this.stack.length-1],i){if("string"==typeof this.latest.blobs){var r=new p.Blob;r.blobs=this.latest.blobs,r.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[r]}var a=new p.Token,o=new p.Blob(null,a);if(o.alldecor=this.latest.alldecor.slice(),"@class"===i[0]&&"nodecor"===i[1]){for(var l=[],h={},c=[t[t.tmp.area].opt.layout_decorations].concat(o.alldecor),u=c.length-1;u>-1;u--){var d=c[u];if(d)for(var m=d.length-1;m>-1;m--){var f=d[m];["@font-weight","@font-style","@font-variant"].indexOf(f[0])>-1&&!h[f[0]]&&("normal"!==i[1]&&(o.decorations.push([f[0],"normal"]),l.push([f[0],"normal"])),h[f[0]]=!0)}}o.alldecor.push(l)}else o.decorations.push(i),o.alldecor.push([i]);if(this.latest.blobs.push(o),this.stack.push(o),this.latest=o,e){var a=new p.Token,o=new p.Blob(null,a);o.blobs=e,o.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(o)}}else if(e){var r=new p.Blob;r.blobs=e,r.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(r)}},this.popStyling=function(){this.stack.pop()}}(e);if(i.strings.length){var o=i.strings[0];n&&(o=" "+o),a.addStyling(o)}for(var l=0,h=i.tags.length;l<h;l++){var u=i.tags[l],o=i.strings[l+1];u.match(c.open)?(r.set(u),a.addStyling(o,r.pair())):(r.pop(),a.popStyling(),a.addStyling(o))}}(n,a,s)};var e=[],i={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};i['("']=i[' "'],i["('"]=i[" '"];var n=t.getTerm("open-quote"),s=t.getTerm("close-quote"),r=t.getTerm("open-inner-quote"),a=t.getTerm("close-inner-quote");n&&s&&-1===[' "'," '",'"',"'"].indexOf(n)&&(i[n]=JSON.parse(JSON.stringify(i[' "'])),i[n].opener=n,i[n].closer=s),r&&a&&-1===[' "'," '",'"',"'"].indexOf(r)&&(i[r]=JSON.parse(JSON.stringify(i[" '"])),i[r].opener=r,i[r].closer=a);(function(){for(var t={},e=Object.keys(i),n=0,s=e.length;n<s;n++){var r=e[n];"quote"===i[r].type&&(t[i[r].closer]=i[r])}})(),function(){for(var t={},e=Object.keys(i),n=0,s=e.length;n<s;n++){var r=e[n];if("nocase"!==i[r].type){var a=i[r].attr,o=i[r].outer,l=i[r].flipflop[i[r].outer];t[a+"/"+o]=i[r],t[a+"/"+l]=i[r]}}}();function o(t){i[t].outer="true",i[{" '":' "',' "':" '",'("':"('","('":'("'}[t]].outer="inner"}function l(t){for(var e=[],n=Object.keys(i),s=0,r=n.length;s<r;s++){var a=n[s];"quote"===i[t].type&&i[t]||e.push(a)}var o=i[t];return o.opener=new RegExp("^(?:"+e.map(function(t){return t.replace("(","\\(")}).join("|")+")"),o}var h=function(){for(var t={},e=Object.keys(i),n=0,s=e.length;n<s;n++){var r=e[n];t[r]=l(r)}return t}(),c=function(){var t=[],e=[],i={};for(var n in h)t.push(n),i[h[n].closer]=!0;for(var s=Object.keys(i),r=0,a=s.length;r<a;r++){var o=s[r];e.push(o)}var l=t.concat(e).map(function(t){return t.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+t.map(function(t){return t.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function u(t,i){return function(t,i){return t.match(c.open)?function(t,i){var n=e[e.length-1];return!n||t.match(n.opener)?(e.push({type:h[t].type,opener:h[t].opener,closer:h[t].closer,pos:i}),!1):(e.pop(),e.push({type:h[t].type,opener:h[t].opener,closer:h[t].closer,pos:i}),{fixtag:n.pos})}(t,i):function(t,i){var n=e[e.length-1];return n&&t===n.closer?(e.pop(),"nocase"===n.type&&{nocase:{open:n.pos,close:i}}):n?{fixtag:n.pos}:{fixtag:i}}(t,i)}(t,i)}var d=function(e){this.set=function(s){for(var r=i[s].attr,a=null,o=n.length-1;o>-1;o--){var l=n[o];if(l[0]===r){a=l;break}}if(!a){var h=[t[t.tmp.area].opt.layout_decorations].concat(e.alldecor);t:for(var o=h.length-1;o>-1;o--){var c=h[o];if(c)for(var p=c.length-1;p>-1;p--){var l=c[p];if(l[0]===r){a=l;break t}}}}a=a?[r,i[s].flipflop[a[1]]]:[r,i[s].outer];n.push(a)},this.pair=function(){return n[n.length-1]},this.pop=function(){n.pop()};var n=[]};function m(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return!0}else if(" '"===t&&e&&e.match(/^[\ ]/))return!0;return!1}},t.exports=p,p.Output.Formatters=new function(){this.passthrough=function(t,e){return e},this.lowercase=function(t,e){return s({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,n=e.length;i<n;i++){var s=e[i];s&&(e[i]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.uppercase=function(t,e){return s({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,n=e.length;i<n;i++){var s=e[i];s&&(e[i]=s.toUpperCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.sentence=function(t,e){var i={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),s=0,r=e.length;s<r;s++){var a=e[s];a&&(i.isFirst?(e[s]=n(a),i.isFirst=!1):e[s]=a.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s(i,e)},this.title=function(t,i){var r={quoteState:[],capitaliseWords:function(t,i,s){if(t.trim()){for(var a=t.split(/[ \u00A0]+/),o=e.split(t),a=o.strings,l=0,h=a.length;l<h;l++){var c=a[l];c&&(c.length>1&&!c.toLowerCase().match(r.skipWordsRex)?a[l]=n(a[l]):l===a.length-1&&"-"===s?a[l]=n(a[l]):r.isFirst?a[l]=n(a[l]):r.afterPunct&&(a[l]=n(a[l])),r.afterPunct=!1,r.isFirst=!1,r.lastWordPos={strings:i,words:l})}t=e.join(o)}return t},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return s(r,i)},this["capitalize-first"]=function(t,e){var i={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),s=0,r=e.length;s<r;s++){var a=e[s];if(a&&i.isFirst){e[s]=n(a),i.isFirst=!1;break}}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s(i,e)},this["capitalize-all"]=function(t,e){return s({quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,s=e.length;i<s;i++){var r=e[i];r&&(e[i]=n(r))}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)};var t=new p.Doppeler('(?:‘|’|“|”| "| \'|"|\'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e=new p.Doppeler("(?:[   -​ 　]+)"),i={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>"};function n(t,e){var i=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!i||i[2].match(/^[\u0370-\u03FF]$/)&&!i[3]?t:i[1]+i[2].toUpperCase()+i[3]}function s(s,r){if(!r)return"";s.doppel=t.split(r);var a={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function o(t,e){var i=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(i)return function(t,e){return["“","‘",' "'," '"].indexOf(t)>-1?function(t,e){if(0===s.quoteState.length||t===s.quoteState[s.quoteState.length-1].opener)return s.quoteState.push({opener:a[t].opener,closer:a[t].closer,pos:e}),!1;var i=s.quoteState[s.quoteState.length-1].pos;return s.quoteState.pop(),s.quoteState.push({opener:a[t].opener,closer:a[t].closer,positions:e}),i}(t,e):function(t,e){if(!(s.quoteState.length>0&&t===s.quoteState[s.quoteState.length-1].closer))return e;s.quoteState.pop()}(t,e)}(i[1],e)}s.doppel.strings.length&&s.doppel.strings[0].trim()&&(s.doppel.strings[0]=s.capitaliseWords(s.doppel.strings[0],0,s.doppel.tags[0]));for(var l=0,h=s.doppel.tags.length;l<h;l++){var c=s.doppel.tags[l],p=s.doppel.strings[l+1];if(null!==s.tagState&&(i[c]?s.tagState.push(i[c]):s.tagState.length&&c===s.tagState[s.tagState.length-1]&&s.tagState.pop()),null!==s.afterPunct&&c.match(/[\!\?\:]$/)&&(s.afterPunct=!0),0===s.tagState.length?s.doppel.strings[l+1]=s.capitaliseWords(p,l+1,s.doppel,s.doppel.tags[l+1]):s.doppel.strings[l+1].trim()&&(s.lastWordPos=null),null!==s.quoteState)if((d=o(c,l))||0===d){var u=s.doppel.origStrings[d+1].slice(0,1);s.doppel.strings[d+1]=u+s.doppel.strings[d+1].slice(1),s.lastWordPos=null}s.isFirst&&p.trim()&&(s.isFirst=!1),s.afterPunct&&p.trim()&&(s.afterPunct=!1)}if(s.quoteState)for(l=0,h=s.quoteState.length;l<h;l++){var d;if(void 0!==(d=s.quoteState[l].pos)){u=s.doppel.origStrings[d+1].slice(0,1);s.doppel.strings[d+1]=u+s.doppel.strings[d+1].slice(1)}}if(s.lastWordPos){var m=e.split(s.doppel.strings[s.lastWordPos.strings]),f=n(m.strings[s.lastWordPos.words]);m.strings[s.lastWordPos.words]=f,s.doppel.strings[s.lastWordPos.strings]=e.join(m)}return t.join(s.doppel)}},t.exports=p,p.Output.Formats=function(){},p.Output.Formats.prototype.html={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+p.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"’":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";return t.sys.embedBibliographyEntry&&(i=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+i},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(i)return'<span class="'+t.opt.nodenames[i]+'" cslid="'+i+'">'+e+"</span>";if(this.params&&"string"==typeof e){var n="";if(e){var s=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);n=s[1],e=s[2]}var r="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(r=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,r)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),'<a href="'+i+'">'+e+"</a>"}},p.Output.Formats.prototype.text={text_escape:function(t){return t||(t=""),t},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"’":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,i){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},p.Output.Formats.prototype.rtf={text_escape:function(t){return t||(t=""),t.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+p.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?p.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+p.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?p.Output.Formats.rtf.text_escape("’"):p.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+p.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var n="";if(e){var s=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);n=s[1],e=s[2]}var r="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(r=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,r)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},p.Output.Formats=new p.Output.Formats,t.exports=p,p.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(t),this.citationreg=new p.Registry.CitationReg(t),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}},p.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var i=0,n=t.length;i<n;i+=1)this.myhash[t[i]]||this.mylist.push(""+t[i]),this.uncited[t[i]]=!0,this.myhash[t[i]]=!0}else{for(var s in this.uncited)t.push(s);var r={};for(i=t.length-1;i>-1;i+=-1)r[t[i]]?t=t.slice(0,i).concat(t.slice(i+1)):r[t[i]]=!0;this.mylist=[];for(i=0,n=t.length;i<n;i+=1)this.mylist.push(""+t[i]);this.myhash=r}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},p.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;e>-1;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},p.Registry.prototype.dodeletes=function(t){var e,i,n,s,r,a,o;for(var l in"string"==typeof t&&((t={})[t]=!0),this.registry)if(!t[l]){if(this.uncited[l])continue;for(r in this.namereg.delitems(l))this.refreshes[r]=!0;for(e=this.registry[l].ambig,(a=this.ambigcites[e].indexOf(l))>-1&&(s=this.ambigcites[e].slice(),this.ambigcites[e]=s.slice(0,a).concat(s.slice(a+1,s.length)),this.ambigresets[e]=this.ambigcites[e].length),n=this.ambigcites[e].length,i=0;i<n;i+=1)o=""+this.ambigcites[e][i],this.refreshes[o]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var h=this.registry[l].siblings[0];this.registry[h].master=!0,this.registry[h].siblings.pop(),this.registry[h].parallel=!1}else if(this.registry[l].siblings.length>1){var c=[l];if(this.registry[l].master){var p=this.registry[l].siblings[0],u=this.registry[p];u.master=!0,u.parallel=!1,c.push(p);for(var d=0,m=this.registry[l].siblings.length;d<m;d+=1)this.registry[this.registry[l].siblings[d]].parallel=p}var f=[];for(d=this.registry[l].siblings.length-1;d>-1;d+=-1){var g=this.registry[l].siblings.pop();-1===c.indexOf(g)&&f.push(g)}for(d=f.length-1;d>-1;d+=-1)this.registry[l].siblings.push(f[d])}delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},p.Registry.prototype.doinserts=function(t){var e,i,n,s,r;"string"==typeof t&&(t=[t]);for(var a=0,o=t.length;a<o;a+=1)e=t[a],this.registry[e]||(i=this.state.retrieveItem(e),n=p.getAmbiguousCite.call(this.state,i),this.ambigsTouched[n]=!0,i.legislation_id||(this.akeys[n]=!0),s={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i},this.registry[e]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),r=p.getAmbigConfig.call(this.state),this.registerAmbigToken(n,e,r),this.touched[e]=!0,this.return_data.bibchange=!0)},p.Registry.prototype.rebuildlist=function(){var t,e,i;for(this.reflist=[],this.state.opt.citation_number_sort_direction===p.DESCENDING&&this.state.opt.citation_number_sort_used,t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],this.reflist.push(this.registry[i]),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1;this.state.opt.citation_number_sort_direction===p.DESCENDING&&this.state.opt.citation_number_sort_used},p.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=void 0,r=this.state.retrieveItem(e);var i=t.ambig;for(var n in void 0===i&&(this.state.tmp.disambig_settings=!1,i=p.getAmbiguousCite.call(this.state,r),a=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,a)),this.ambigresets)if(1===this.ambigresets[n]){var s=this.ambigcites[i][0],r=this.state.retrieveItem(s);this.registry[s].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1;i=p.getAmbiguousCite.call(this.state,r);var a=p.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,a)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[i]=!0,r.legislation_id||(this.akeys[i]=!0),this.touched[e]=!0}},p.Registry.prototype.setdisambigs=function(){var t;for(t in this.leftovers=[],this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},p.Registry.prototype.renumber=function(){var t,e,i;for(this.state.opt.citation_number_sort_direction===p.DESCENDING&&this.state.opt.citation_number_sort_used,t=this.reflist.length,e=0;e<t;e+=1)(i=this.reflist[e]).seq=e+1,this.state.opt.update_mode===p.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),this.state.opt.bib_mode===p.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0);this.state.opt.citation_number_sort_direction===p.DESCENDING&&this.state.opt.citation_number_sort_used&&this.reflist.reverse()},p.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var i=this.mylist[t];(this.touched[i]||this.state.tmp.taintedItemIDs[i]||!this.registry[i].sortkeys)&&(this.registry[i].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(i),"bibliography_sort"))}},p.Registry.prototype.sorttokens=function(){this.reflist.sort(this.sorter.compareKeys)},p.Registry.Comparifier=function(t,e){var i,n,s,r,a=p.getSortCompare(t.opt["default-locale-sort"]);i=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(n=t.sortkeys?t.sortkeys.length:0,s=0;s<n;s+=1){var r=0;if(0<(r=t.sortkeys[s]===e.sortkeys[s]?0:void 0===t.sortkeys[s]?i[s][1]:void 0===e.sortkeys[s]?i[s][0]:a(t.sortkeys[s],e.sortkeys[s])))return i[s][1];if(0>r)return i[s][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},r=this.compareKeys,this.compareCompositeKeys=function(t,e){return r(t[1],e[1])}},p.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},p.Registry.prototype.registerAmbigToken=function(t,e,i){if(this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var n=0,s=i.names.length;n<s;n+=1){if(i.names[n]!==this.registry[e].disambig.names[n])this.state.tmp.taintedItemIDs[e]=!0;else if(i.givens[n])for(var r=0,a=i.givens[n].length;r<a;r+=1){i.givens[n][r]!==this.registry[e].disambig.givens[n][r]&&(this.state.tmp.taintedItemIDs[e]=!0)}}this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t;this.registry[e].disambig=p.cloneAmbigConfig(i)},p.getSortKeys=function(t,e){var i,n,s,r,a,o;for(i=this.tmp.area,n=this.tmp.root,s=this.tmp.extension,r=p.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=e.indexOf("_")>-1?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,p.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.disambig_override=!1,a=this[e].keys.length,o=0;o<a;o+=1)this[e].keys[o]=r(this[e].keys[o]);return this.tmp.area=i,this.tmp.root=n,this.tmp.extension=s,this[e].keys},t.exports=p,p.Registry.NameReg=function(t){var e,i,n,s,r,a,o,l,h,c,u,d;this.state=t,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(t){return t||(t=""),t.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(t,s,r){e=o(r.family);var a=(n=o(r.given)).match(/[,\!]* ([^,]+)$/);a&&a[1]===a[1].toLowerCase()&&(n=n.replace(/[,\!]* [^,]+$/,"")),i=p.Util.Names.initializeWith(t,n,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(e=""+s+e)},h=function(n,a,o,h,c,p){var u;if("bibliography"===t.tmp.area.slice(0,12)&&!c)return"string"==typeof p?1:2;a=t.nameOutput.getName(a,"locale-translit",!0).name,l(this.state,""+n,a),u=2,s=t.opt["disambiguate-add-givenname"];var d=r=t.citation.opt["givenname-disambiguation-rule"];return"by-cite"===r&&(r="all-names"),"short"===c?u=0:"string"==typeof p&&(u=1),void 0===this.namereg[e]||void 0===this.namereg[e].ikey[i]?u:"by-cite"===d&&u<=h?h:s?"string"==typeof r&&"primary-name"===r.slice(0,12)&&o>0?u:(r&&"all-names"!==r&&"primary-name"!==r?"all-names-with-initials"!==r&&"primary-name-with-initials"!==r||(u=this.namereg[e].count>1?1:0):(this.namereg[e].count>1&&(u=1),(this.namereg[e].ikey&&this.namereg[e].ikey[i].count>1||this.namereg[e].count>1&&"string"!=typeof p)&&(u=2)),t.registry.registry[n]?u:"short"==c?0:"string"==typeof p?1:void 0):u},c=function(s){var r,o,l,h,c;"string"!=typeof s&&"number"!=typeof s||(s=[""+s]);for(o=s.length,r=0;r<o;r+=1)if(h=""+s[r],this.nameind[h]){for(c in this.nameind[h])if(this.nameind[h].hasOwnProperty(c)){var p=c.split("::");if(e=p[0],i=p[1],n=p[2],void 0===this.namereg[e])continue;if(a=this.namereg[e].items,n&&this.namereg[e].ikey[i]&&this.namereg[e].ikey[i].skey[n]&&((l=(d=this.namereg[e].ikey[i].skey[n].items).indexOf(""+h))>-1&&(this.namereg[e].ikey[i].skey[n].items=d.slice(0,l).concat(d.slice([l+1]))),0===this.namereg[e].ikey[i].skey[n].items.length&&(delete this.namereg[e].ikey[i].skey[n],this.namereg[e].ikey[i].count+=-1,this.namereg[e].ikey[i].count<2)))for(var u=0,m=this.namereg[e].ikey[i].items.length;u<m;u+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[i].items[u]]=!0;if(i&&this.namereg[e].ikey[i]&&((l=this.namereg[e].ikey[i].items.indexOf(""+h))>-1&&(a=this.namereg[e].ikey[i].items.slice(),this.namereg[e].ikey[i].items=a.slice(0,l).concat(a.slice([l+1]))),0===this.namereg[e].ikey[i].items.length&&(delete this.namereg[e].ikey[i],this.namereg[e].count+=-1,this.namereg[e].count<2)))for(u=0,m=this.namereg[e].items.length;u<m;u+=1)t.tmp.taintedItemIDs[this.namereg[e].items[u]]=!0;e&&((l=this.namereg[e].items.indexOf(""+h))>-1&&(a=this.namereg[e].items.slice(),this.namereg[e].items=a.slice(0,l).concat(a.slice([l+1],a.length))),this.namereg[e].items.length<2&&delete this.namereg[e]),delete this.nameind[h][c]}delete this.nameind[h],delete this.nameindpkeys[h]}return{}},u=function(s,r,a){if(r=t.nameOutput.getName(r,"locale-translit",!0).name,!t.citation.opt["givenname-disambiguation-rule"]||"primary-"!==t.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===a){if(l(this.state,""+s,r),e&&(void 0===this.namereg[e]?(this.namereg[e]={},this.namereg[e].count=0,this.namereg[e].ikey={},this.namereg[e].items=[s]):-1===this.namereg[e].items.indexOf(s)&&this.namereg[e].items.push(s)),e&&i)if(void 0===this.namereg[e].ikey[i]){if(this.namereg[e].ikey[i]={},this.namereg[e].ikey[i].count=0,this.namereg[e].ikey[i].skey={},this.namereg[e].ikey[i].items=[s],this.namereg[e].count+=1,2===this.namereg[e].count)for(var o=0,h=this.namereg[e].items.length;o<h;o+=1)t.tmp.taintedItemIDs[this.namereg[e].items[o]]=!0}else-1===this.namereg[e].ikey[i].items.indexOf(s)&&this.namereg[e].ikey[i].items.push(s);if(e&&i&&n)if(void 0===this.namereg[e].ikey[i].skey[n]){if(this.namereg[e].ikey[i].skey[n]={},this.namereg[e].ikey[i].skey[n].items=[s],this.namereg[e].ikey[i].count+=1,2===this.namereg[e].ikey[i].count)for(o=0,h=this.namereg[e].ikey[i].items.length;o<h;o+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[i].items[o]]=!0}else-1===this.namereg[e].ikey[i].skey[n].items.indexOf(s)&&this.namereg[e].ikey[i].skey[n].items.push(s);void 0===this.nameind[s]&&(this.nameind[s]={},this.nameindpkeys[s]={}),e&&(this.nameind[s][e+"::"+i+"::"+n]=!0,this.nameindpkeys[s][e]=this.namereg[e])}},this.addname=u,this.delitems=c,this.evalname=h},t.exports=p,p.Registry.CitationReg=function(t){this.citationById={},this.citationByIndex=[]},t.exports=p,p.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},p.Disambiguation.prototype.run=function(t){this.modes.length&&(this.akey=t,this.initVars(t)&&this.runDisambig())},p.Disambiguation.prototype.runDisambig=function(){var t;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;){this.listpos=0,this.base||(this.base=this.lists[0][0]);t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t)}this.lists=this.lists.slice(1)}},p.Disambiguation.prototype.scanItems=function(t){var e;this.Item=t[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var i=0,n=1,s=t[1].length;n<s;n+=1){e=t[1][n];var r=p.getAmbiguousCite.call(this.state,e,this.base,!0);this.ItemCite===r?(i+=1,this.partners.push(e)):this.nonpartners.push(e)}this.clashes[0]=this.clashes[1],this.clashes[1]=i},p.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},p.Disambiguation.prototype.disNames=function(t){if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var e=0,i=this.partners.length;e<i;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},p.Disambiguation.prototype.disExtraText=function(){var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(i=0,n=this.lists[this.listpos][1].length;i<n;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0;for(i=0,n=this.lists[this.listpos][1].length;i<n;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,n=this.lists[this.listpos][1].length;i<n;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},p.Disambiguation.prototype.disYears=function(){var t;t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,n=this.state.registry.mylist.length;i<n;i+=1)for(var s=this.state.registry.mylist[i],r=0,a=this.lists[this.listpos][1].length;r<a;r+=1){var o;if((o=this.lists[this.listpos][1][r]).id==s){t.push(this.registry[o.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,h=t.length;l<h;l+=1){e.year_suffix=""+l;var c=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),p.ambigConfigDiff(c,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},p.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1,!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var i=!1;if("number"!=typeof this.namesMax&&(i=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),"number"==typeof this.namesetsMax&&i)if(this.gnameset<this.namesetsMax)this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0;else;"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},p.Disambiguation.prototype.initVars=function(t){var e,i,n;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},i=[],!(e=this.ambigcites[t])||!e.length)return!1;var s=this.state.retrieveItem(""+e[0]);if(this.getCiteData(s),this.base=p.getAmbigConfig.call(this.state),e&&e.length>1){i.push([this.maxNamesByItemId[s.id],s]);for(var r=1,a=e.length;r<a;r+=1)s=this.state.retrieveItem(""+e[r]),this.getCiteData(s,this.base),i.push([this.maxNamesByItemId[s.id],s]);i.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),n=[];for(var r=0,a=i.length;r<a;r+=1)n.push(i[r][1]);this.lists.push([this.base,n]),this.Item=this.lists[0][1][0]}else this.Item=this.state.retrieveItem(""+e[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},p.Disambiguation.prototype.padBase=function(t){for(var e=0,i=t.names.length;e<i;e+=1){t.givens[e]||(t.givens[e]=[]);for(var n=0,s=t.names[e];n<s;n+=1)t.givens[e][n]||(t.givens[e][n]=0)}},p.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")},p.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){p.getAmbiguousCite.call(this.state,t,e),e=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=p.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,n=this.state.registry.registry[t.id].disambig.givens.length;i<n;i+=1)this.state.registry.registry[t.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=p.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e);for(i=0,n=e.names.length;i<n;i+=1)e.names[i]>this.base.names[i]&&(this.base.givens[i]=e.givens[i].slice(),this.base.names[i]=e.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,r=this.base.givens.length;s<r;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},p.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},t.exports=p,p.Engine.prototype.getJurisdictionList=function(t){for(var e=[],i=t.split(":"),n=i.length;n>0;n--)e.push(i.slice(0,n).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},p.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"],n=(i=[""].concat(i=i||[])).length-1;n>-1;n--)for(var s=i[n],r=0,a=t.length;r<a;r++){var o=t[r];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,s);(!l&&!s||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(e[o]=l)}}return e},t.exports=p,p.ParticleList=[["'s",n=[[null,[0,1]]]],["'s-",n],["'t",n],["a",n],["aan 't",s=[[null,[0,2]]]],["aan de",s],["aan den",s],["aan der",s],["aan het",s],["aan t",s],["aan",n],["ad-",a=[[null,[0,1]],[[0,1],null]]],["adh-",a],["af",a],["al",a],["al-",a],["am de",s],["am",n],["an-",a],["ar-",a],["as-",a],["ash-",a],["at-",a],["ath-",a],["auf dem",h=[[[0,2],null],[null,[0,2]]]],["auf den",h],["auf der",h],["auf ter",s],["auf",l=[[[0,1],null],[null,[0,1]]]],["aus 'm",h],["aus dem",h],["aus den",h],["aus der",h],["aus m",h],["aus",l],["aus'm",h],["az-",a],["aš-",a],["aḍ-",a],["aḏ-",a],["aṣ-",a],["aṭ-",a],["aṯ-",a],["aẓ-",a],["ben",n],["bij 't",s],["bij de",s],["bij den",s],["bij het",s],["bij t",s],["bij",n],["bin",n],["boven d",s],["boven d'",s],["d",n],["d'",a],["da",a],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",a],["de die le",r=[[null,[0,3]]]],["de die",s],["de l",s],["de l'",s],["de la",c=[[null,[0,2]],[[0,1],[1,2]]]],["de las",c],["de le",s],["de li",o=[[null,[0,2]],[[0,2],null]]],["de van der",r],["de",a],["de'",a],["deca",n],["degli",a],["dei",a],["del",a],["dela",i=[[[0,1],null]]],["dell'",a],["della",a],["delle",a],["dello",a],["den",a],["der",a],["des",a],["di",a],["die le",s],["do",n],["don",n],["dos",a],["du",a],["ed-",a],["edh-",a],["el",a],["el-",a],["en-",a],["er-",a],["es-",a],["esh-",a],["et-",a],["eth-",a],["ez-",a],["eš-",a],["eḍ-",a],["eḏ-",a],["eṣ-",a],["eṭ-",a],["eṯ-",a],["eẓ-",a],["het",n],["i",n],["il",i],["im",n],["in 't",s],["in de",s],["in den",s],["in der",o],["in het",s],["in t",s],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",a],["lo",a],["los",n],["lou",n],["of",n],["onder 't",s],["onder de",s],["onder den",s],["onder het",s],["onder t",s],["onder",n],["op 't",s],["op de",o],["op den",s],["op der",s],["op gen",s],["op het",s],["op t",s],["op ten",s],["op",n],["over 't",s],["over de",s],["over den",s],["over het",s],["over t",s],["over",n],["s",n],["s'",n],["sen",i],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",s],["uijt de",s],["uijt den",s],["uijt te de",r],["uijt ten",s],["uijt",n],["uit 't",s],["uit de",s],["uit den",s],["uit het",s],["uit t",s],["uit te de",r],["uit ten",s],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",s],["van de l",r],["van de l'",r],["van de",s],["van de",s],["van den",s],["van der",s],["van gen",s],["van het",s],["van la",s],["van t",s],["van ter",s],["van van de",r],["van",a],["vander",n],["vd",n],["ver",n],["vom und zum",[[[0,3],null]]],["vom",a],["von 't",s],["von dem",h],["von den",h],["von der",h],["von t",s],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",h],["von",l],["voor 't",s],["voor de",s],["voor den",s],["voor in 't",r],["voor in t",r],["voor",n],["vor der",h],["vor",l],["z",i],["ze",i],["zu",l],["zum",a],["zur",a]],p.parseParticles=function(){function t(t,e,i){var n=t;t=i?t.toLowerCase():t;var s,r=[];e?(t=t.split("").reverse().join(""),s=p.PARTICLE_GIVEN_REGEXP):s=p.PARTICLE_FAMILY_REGEXP;for(var a=t.match(s);a;){var o,l=e?a[1].split("").reverse().join(""):a[1],h=!!(o=!!(o=!!a&&l)&&l.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&o.toUpperCase()!==o;if(!h)break;e?(r.push(n.slice(-1*l.length)),n=n.slice(0,-1*l.length)):(r.push(n.slice(0,l.length)),n=n.slice(l.length)),a=(t=a[2]).match(s)}if(e){t=t.split("").reverse().join(""),r.reverse();for(var c=1,u=r.length;c<u;c++)" "==r[c].slice(0,1)&&(r[c-1]+=" ");for(c=0,u=r.length;c<u;c++)" "==r[c].slice(0,1)&&(r[c]=r[c].slice(1));t=n.slice(0,t.length)}else t=n.slice(-1*t.length);return[h,t,r]}return function(e){(o=t(e.family))[0];var i=o[1],n=o[2];e.family=i;var s,r,a=(s=n.join(""),r=s.slice(-1),s=s.trim()," "===r&&["'","’"].indexOf(s.slice(-1))>-1&&(s+=" "),s);a&&(e["non-dropping-particle"]=a),function(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var i=t.given.indexOf(e[1]),n=t.given.slice(i+e[1].length),s=t.given.slice(i,i+e[1].length).replace(/\s*/g,"");"et al"!==n.replace(/\./g,"")||t["dropping-particle"]?(2===s.length&&(t["comma-suffix"]=!0),t.suffix=n):(t["dropping-particle"]=n,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,i)}}}(e);(o=t(e.given,!0))[0];var o,l=o[1],h=o[2];e.given=l;var c=h.join("").trim();c&&(e["dropping-particle"]=c)}}(),t.exports=p}).call(this,i(104)(t))},function(t,e,i){const{BaseStore:n}=i(12),s=i(47);t.exports=new class extends n{constructor(){super(),this.data={byId:{},defaultSearch:{},search:{state:this.STATE.INIT}},this.events={RECORD_UPDATE:"record-update",RECORD_SEARCH_UPDATE:"record-search-update",DEFAULT_RECORD_SEARCH_UPDATE:"default-record-search-update"}}setRecordLoading(t,e){this._setRecordState({state:this.STATE.LOADING,id:t,request:e})}setRecordLoaded(t,e){this._setRecordState({state:this.STATE.LOADED,payload:e,id:t})}setRecordError(t,e){this._setRecordState({state:this.STATE.ERROR,error:e,id:t})}_setRecordState(t){this.data.byId[t.id]=t,this.emit(this.events.RECORD_UPDATE,t)}setSearchLoaded(t,e){this._setSearchState({state:this.STATE.LOADED,searchDocument:t,payload:e})}setSearchLoading(t,e){this._setSearchState({state:this.STATE.LOADING,searchDocument:t,request:e})}setSearchError(t,e){this._setSearchState({state:this.STATE.ERROR,searchDocument:t,error:e})}_setSearchState(t){this.data.search=t,this.emit(this.events.RECORD_SEARCH_UPDATE,t)}getSearch(){return s(this.data.search)}setDefaultSearchLoading(t,e,i){this._setDefaultSearchState({id:t,searchDocument:e,state:this.STATE.LOADING,request:i})}setDefaultSearchLoaded(t,e,i){this._setDefaultSearchState({id:t,searchDocument:e,state:this.STATE.LOADED,payload:i})}setDefaultSearchError(t,e,i){this._setDefaultSearchState({id:t,searchDocument:e,state:this.STATE.ERROR,error:i})}getDefaultSearch(t){return this.data.defaultSearch[t]}_setDefaultSearchState(t){this.data.defaultSearch[t.id]=t,this.emit(this.events.DEFAULT_SEARCH_UPDATE,this.data.defaultSearch[t.id])}}},function(t,e,i){t.exports={AppStateInterface:i(44),AppStateModel:i(123),AppStateStore:i(122),"app-route":i(92)}},function(t,e,i){const{AppStateModel:n}=i(39),s=i(118),r=i(13);t.exports=new class extends n{constructor(){super(),this.store=s,this.MasterController.on(this.store.events.APP_STATE_UPDATE,()=>this._sendGA()),this._sendGA()}_sendGA(){gtag||console.warn("No global gtag variable set for analytics events"),this.lastGaLocation!==window.location.pathname&&(this.lastGaLocation=window.location.pathname,gtag("config",r.gaCode,{page_path:window.location.pathname}))}setSelectedRecord(t){this.store.setSelectedRecord(t)}getSelectedRecord(){return this.store.getSelectedRecord()}setSelectedRecordMedia(t){this.store.setSelectedRecordMedia(t)}getSelectedRecordMedia(){return this.store.getSelectedRecordMedia()}}},function(t,e,i){var n=i(132).EventEmitter;t.exports=new class extends n{constructor(){super(),this.setMaxListeners(1e4),this.models={}}registerModel(t,e){if(this.models[t])throw new Error(`A model has already been registered with name: ${t}`);this.models[t]=e}getModel(t){if(!this.models[t])throw new Error(`No model has been registered with name: ${t}`);return this.models[t]}}},function(t,e,i){"use strict";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let n,s=null,r=window.HTMLImports&&window.HTMLImports.whenReady||null;function a(t){requestAnimationFrame(function(){r?r(t):(s||(s=new Promise(t=>{n=t}),"complete"===document.readyState?n():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&n()})),s.then(function(){t&&t()}))})}i.d(e,"a",function(){return p});const o="__seenByShadyCSS",l="__shadyCSSCachedStyle";let h=null,c=null;class p{constructor(){this.customStyles=[],this.enqueued=!1,a(()=>{window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&c&&(this.enqueued=!0,a(c))}addCustomStyle(t){t[o]||(t[o]=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[l])return t[l];let e;return e=t.getStyle?t.getStyle():t}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const i=t[e];if(i[l])continue;const n=this.getStyleForCustomStyle(i);if(n){const t=n.__appliedElement||n;h&&h(t),i[l]=t}}return t}}p.prototype.addCustomStyle=p.prototype.addCustomStyle,p.prototype.getStyleForCustomStyle=p.prototype.getStyleForCustomStyle,p.prototype.processStyles=p.prototype.processStyles,Object.defineProperties(p.prototype,{transformCallback:{get:()=>h,set(t){h=t}},validateCallback:{get:()=>c,set(t){let e=!1;c||(e=!0),c=t,e&&this.enqueueDocumentValidation()}}})},function(t,e,i){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */t.exports=function(t,e){if("string"==typeof t)return l(t);if("number"==typeof t)return o(t,e);return null},t.exports.format=o,t.exports.parse=l;var n=/\B(?=(\d{3})+(?!\d))/g,s=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},a=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function o(t,e){if(!Number.isFinite(t))return null;var i=Math.abs(t),a=e&&e.thousandsSeparator||"",o=e&&e.unitSeparator||"",l=e&&void 0!==e.decimalPlaces?e.decimalPlaces:2,h=Boolean(e&&e.fixedDecimals),c=e&&e.unit||"";c&&r[c.toLowerCase()]||(c=i>=r.tb?"TB":i>=r.gb?"GB":i>=r.mb?"MB":i>=r.kb?"KB":"B");var p=(t/r[c.toLowerCase()]).toFixed(l);return h||(p=p.replace(s,"$1")),a&&(p=p.replace(n,a)),p+o+c}function l(t){if("number"==typeof t&&!isNaN(t))return t;if("string"!=typeof t)return null;var e,i=a.exec(t),n="b";return i?(e=parseFloat(i[1]),n=i[4].toLowerCase()):(e=parseInt(t,10),n="b"),Math.floor(r[n]*e)}},function(t,e){t.exports=(t=>(class extends t{constructor(){super(),this._injectModel("AppStateModel")}ready(){super.ready(),this._onAppStateUpdate&&this._getAppState().then(t=>this._onAppStateUpdate(t))}_setAppState(t){return this.AppStateModel.set(t)}_getAppState(){return this.AppStateModel.get()}_setWindowLocation(t){this.AppStateModel.setLocation(t)}}))},function(t,e,i){"use strict";i.d(e,"a",function(){return h});i(7);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n=!1,s=[],r=[];function a(){n=!0,requestAnimationFrame(function(){n=!1,o(s),setTimeout(function(){!function(t){for(let e=0,i=t.length;e<i;e++)l(t.shift())}(r)})})}function o(t){for(;t.length;)l(t.shift())}function l(t){const e=t[0],i=t[1],n=t[2];try{i.apply(e,n)}catch(t){setTimeout(()=>{throw t})}}function h(t,e,i){n||a(),r.push([t,e,i])}},function(t,e,i){var{BaseStore:n}=i(12);t.exports=new class extends n{constructor(){super(),this.data={selected:null,byId:{},overview:{state:this.STATE.INIT},search:{state:this.STATE.INIT}},this.events={SELECTED_COLLECTION_UPDATE:"selected-collection-update",COLLECTION_OVERVIEW_UPDATE:"collection-overview-update",COLLECTION_SEARCH_UPDATE:"collection-search-update"}}setSelectedCollection(t){this.data.selected!==t&&(this.data.selected=t,this.emit(this.events.SELECTED_COLLECTION_UPDATE,this.data.selected))}getSelectedCollection(){return this.data.selected}setSearchLoading(t,e){this._setSearchState({state:this.STATE.LOADING,request:e,searchDocument:t})}setSearchLoaded(t,e){this._setSearchState({state:this.STATE.LOADED,searchDocument:t,payload:e})}setSearchError(t,e){this._setSearchState({state:this.STATE.ERROR,searchDocument:t,error:e})}_setSearchState(t){this.data.search=t,this.emit(this.events.COLLECTION_SEARCH_UPDATE,this.data.search)}setCollectionOverviewLoading(t){this._setCollectionOverviewState({state:this.STATE.LOADING,request:t})}setCollectionOverviewLoaded(t){(t=t.results).forEach(t=>{t.id=t["@id"],this.data.byId[t.id]=t}),t.sort((t,e)=>t.name>e.name?1:t.name<e.name?-1:0),this._setCollectionOverviewState({state:this.STATE.LOADED,payload:t})}setCollectionOverviewError(t){this._setCollectionOverviewState({state:this.STATE.ERROR,error:t})}_setCollectionOverviewState(t){this.data.overview=t,this.emit(this.events.COLLECTION_OVERVIEW_UPDATE,this.data.overview)}}},function(t,e,i){(function(e){var i=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var i,n,s;try{i=Map}catch(t){i=function(){}}try{n=Set}catch(t){n=function(){}}try{s=Promise}catch(t){s=function(){}}function r(a,l,h,c,p){"object"==typeof l&&(h=l.depth,c=l.prototype,p=l.includeNonEnumerable,l=l.circular);var u=[],d=[],m=void 0!==e;return void 0===l&&(l=!0),void 0===h&&(h=1/0),function a(h,f){if(null===h)return null;if(0===f)return h;var g,v;if("object"!=typeof h)return h;if(t(h,i))g=new i;else if(t(h,n))g=new n;else if(t(h,s))g=new s(function(t,e){h.then(function(e){t(a(e,f-1))},function(t){e(a(t,f-1))})});else if(r.__isArray(h))g=[];else if(r.__isRegExp(h))g=new RegExp(h.source,o(h)),h.lastIndex&&(g.lastIndex=h.lastIndex);else if(r.__isDate(h))g=new Date(h.getTime());else{if(m&&e.isBuffer(h))return g=new e(h.length),h.copy(g),g;t(h,Error)?g=Object.create(h):void 0===c?(v=Object.getPrototypeOf(h),g=Object.create(v)):(g=Object.create(c),v=c)}if(l){var _=u.indexOf(h);if(-1!=_)return d[_];u.push(h),d.push(g)}for(var b in t(h,i)&&h.forEach(function(t,e){var i=a(e,f-1),n=a(t,f-1);g.set(i,n)}),t(h,n)&&h.forEach(function(t){var e=a(t,f-1);g.add(e)}),h){var y;v&&(y=Object.getOwnPropertyDescriptor(v,b)),y&&null==y.set||(g[b]=a(h[b],f-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(b=0;b<x.length;b++){var w=x[b];(!(k=Object.getOwnPropertyDescriptor(h,w))||k.enumerable||p)&&(g[w]=a(h[w],f-1),k.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}}if(p){var S=Object.getOwnPropertyNames(h);for(b=0;b<S.length;b++){var k,T=S[b];(k=Object.getOwnPropertyDescriptor(h,T))&&k.enumerable||(g[T]=a(h[T],f-1),Object.defineProperty(g,T,{enumerable:!1}))}}return g}(a,h)}function a(t){return Object.prototype.toString.call(t)}function o(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return r.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},r.__objToStr=a,r.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},r.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},r.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},r.__getRegExpFlags=o,r}();"object"==typeof t&&t.exports&&(t.exports=i)}).call(this,i(116).Buffer)},function(t,e,i){const n=i(117),s=i(38),r=i(111),a=i(40);var o=i(13);t.exports=new class extends n{constructor(){super(),this.service=r,this.store=s,this.store.config=o.elasticSearch,this.register("RecordModel")}async defaultSearch(t){let e=t;if(e||(e="default"),this.store.getDefaultSearch(e)){let t=this.store.getDefaultSearch(e);return t.state===this.store.STATE.LOADING&&await t.request,this.store.getDefaultSearch(e)}let i=this.emptySearchDocument();return t&&this.appendKeywordFilter(i,"collectionId",t,"and"),await this.service.defaultSearch(e,i),this.store.getDefaultSearch(e)}async get(t){return await this.service.get(t),this.store.data.byId[t]}async search(t={}){t.filters||(t.filters={});let e="";t.filters.isPartOf&&(e=t.filters.isPartOf.value[0]);let i=await this.defaultSearch(e),n=!1;for(var s in t.filters)if("isPartOf"!==s&&"facet"===o.elasticSearch.facets[s].type){let e=i.payload.aggregations.facets[s];void 0===e?(n=!0,delete t.filters[s]):(t.filters[s].value=t.filters[s].value.filter(t=>void 0!==e[t]||(n=!0,!1)),t.filters[s].value.length||delete t.filters[s])}let r="/search/"+this.searchDocumentToUrl(t);return n?(a.setLocation(r),await this.search(t)):(history.state&&history.state.location!==r&&a.setLocation(r),await this.service.search(t),this.store.getSearch())}getCurrentSearchDocument(){return this.store.data.search.searchDocument?this.store.getSearch().searchDocument:this.emptySearchDocument()}}},function(t,e,i){var{BaseStore:n}=i(12);t.exports=new class extends n{constructor(){super(),this.CUSTOM_STATES={PENDING:"pending",NOT_LOGGED_IN:"notLoggedIn",LOGGED_IN:"loggedIn"},this.events={AUTH_UPDATE:"auth-update"},this.data={state:this.CUSTOM_STATES.PENDING,user:null}}getUser(){return this.data}setUser(t){this.data={user:t,state:t.loggedIn?this.CUSTOM_STATES.LOGGED_IN:this.CUSTOM_STATES.NOT_LOGGED_IN},this.emit(this.events.AUTH_UPDATE,this.data)}notLoggedIn(){this.data={user:null,state:this.CUSTOM_STATES.NOT_LOGGED_IN},this.emit(this.events.AUTH_UPDATE,this.data)}}},function(t,e,i){i(129),t.exports=self.fetch.bind(self)},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n    background: var(--default-primary-color);\n  }\n</style>\n\n<app-route app-routes="[[appRoutes]]"></app-route>\n\n<iron-pages selected="[[page]]" attr-for-selected="id" selected-attribute="visible">\n  <app-home id="home"></app-home>\n  <app-search id="search"></app-search>\n  <app-record id="record"></app-record>\n</iron-pages>\n\n<div style="display:flex; justify-content:center">\n  <app-footer></app-footer>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    background: var(--secondary-background-color);\n    color: var(--inverse-text-color);\n    max-width: var(--max-width);\n    padding: 20px 0;\n  }\n\n  a, a:visited {\n    cursor: pointer;\n    color: var(--inverse-text-color);\n  }\n\n  .lib-logo  {\n    height: 45px;\n  }\n\n  .row {\n    display: flex;\n    justify-content: center;\n  }\n\n  .row > div {\n    padding: 15px;\n  }\n\n  .menu.horizontal li {\n    padding: 0 10px;\n    border-right: 1px solid white;\n  }\n  .menu.horizontal li:last-child {\n    border-right: none;\n  }\n  .menu a {\n    cursor: pointer;\n  }\n\n  @media( max-width: 768px ) {\n    ul.menu.horizontal {\n      display: block;\n      text-align: left;\n    }\n  }\n\n  .logo {\n    display: inline-block;\n    width: 100%;\n    position: relative;\n    margin: 70px 0 30px;\n  }\n  .logo hr {\n    position: absolute;\n    top: 50%;\n    width: 100%;\n    margin-top: 0;\n    margin-bottom: 0;\n    border-top: 1px solid rgba(255,255,255,.25);\n    border-bottom: none;\n    border-right: none;\n    border-left: none;\n  }\n  .logo .logo-img {\n    display: inline-block;\n    position: relative;\n  }\n  .logo img {\n    height: 100px;\n    padding: 0 25px;\n    background: var(--default-primary-color);\n  }\n\n  @media(max-width: 768px) {\n    .row {\n      display: block;\n    }\n  }\n</style>\n\n<footer role="contentinfo">\n\n  <div class="row">\n    <div> \x3c!-- col start --\x3e\n      <div>\n          <a href="https://library.ucdavis.edu" target="_blank">\n              <img class="lib-logo" src="/images/ucd-lib-logo-white.png">\n          </a>\n      </div>\n      <div>UC Davis Library</div>\n      <p>\n        100 NW Quad<br />\n        University of California, Davis<br />\n        Davis, CA 95616<br />\n        (530) 752-8792<br /><br />\n        <a href="mailto:library@ucdavis.edu">library@ucdavis.edu</a>\n      </p>\n    </div>\x3c!-- col end --\x3e\n\n    <div role="navigation">\x3c!-- col start --\x3e\n      <h2>Digital Collections</h2>\n      <ul class="menu">\n        <template is="dom-repeat" items="[[collections]]">\n          <li><a on-click="_onBrowseCollection" data-id$="[[item.id]]">[[item.name]]</a></li>\n        </template>\n      </ul>\n    </div>\x3c!-- col end --\x3e\n\n    <div role="navigation">\x3c!-- col start --\x3e\n      <h2>Library Info</h2>\n      <ul class="menu">\n        <li><a href="https://library.ucdavis.edu/news/" target="_blank">News</a></li>\n        <li><a href="https://library.ucdavis.edu/about/" target="_blank">About</a></li>\n        <li><a href="https://library.ucdavis.edu/library/" target="_blank">Visit</a></li>\n        <li><a href="https://library.ucdavis.edu/service/careers/" target="_blank">Careers</a></li>\n      </ul>\n      <div class="donate"><a href="http://give.ucdavis.edu/ULIB" target="_blank">Give to the UC Davis Library</a></div>\n    </div>\x3c!-- col end --\x3e\n\n    <div role="navigation">\x3c!-- col start --\x3e\n      <h2>Account</h2>\n      <ul class="menu">\n        <li>\n          <app-auth-footer></app-auth-footer>\n        </li>\n      </ul>\n    </div>\x3c!-- col end --\x3e\n  </div>\x3c!-- row end --\x3e\n\n  <div style="text-align:center">\n    <div class="logo">\x3c!-- logo --\x3e\n        <hr>\n        <div class="logo-img">\n            <img src="/images/ucd-logo.svg" alt="UC Davis Logo">\n        </div>\n    </div>\n\n    <div>\n      <p>University of California, Davis, One Shields Avenue, Davis, CA 95616 | 530-752-1011</p>\n      <ul class="menu horizontal">\n        <li><a href="/help/">Help</a></li>\n        <li><a href="/general-support/">Questions or comments?</a></li>\n        <li><a href="https://www.ucdavis.edu/help/privacy-accessibility/" target="_blank">Privacy &amp; Accessibility</a></li>\n        <li><a href="https://occr.ucdavis.edu/poc/" target="_blank">Principles of Community</a></li>\n        <li><a href="https://www.ucdavis.edu/" target="_blank">UC Davis</a></li>\n        <li><a href="https://www.universityofcalifornia.edu/" target="_blank">University of California</a></li>\n      </ul>\n      <p>Copyright &copy; 2017 The Regents of the University of California, Davis campus. All rights reserved.</p>\n    </div>\n  </div>\n\n</footer>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    color: var(--inverse-text-color);\n  }\n  a {\n    color: var(--inverse-text-color);\n    cursor: pointer;\n  }\n  .icon-container {\n    display: flex;\n    align-items: center;\n  }\n</style>\n\n<div hidden$="[[!loggedIn]]">\n  <div>Logged in as:</div>\n  <div class="icon-container">\n    <iron-icon icon="fin:account"></iron-icon>&nbsp;&nbsp;\n    <div>[[user.username]]</div>\n  </div>\n  <div>\n    <a on-click="_logout" class="gold">Log Out</a>\n  </div>\n</div>\n<div hidden$="[[loggedIn]]">\n  <a on-click="_login">Login</a>\n</div>'},function(t,e,i){"use strict";var n;!function(s){if("function"!=typeof r){var r=function(t){return t};r.nonNative=!0}const a=r("plaintext"),o=r("html"),l=r("comment"),h=/<(\w*)>/g,c=/<\/?([^\s\/>]+)/;function p(t,e,i){return d(t=t||"",u(e=e||[],i=i||""))}function u(t,e){return{allowable_tags:t=function(t){let e=new Set;if("string"==typeof t){let i;for(;i=h.exec(t);)e.add(i[1])}else r.nonNative||"function"!=typeof t[r.iterator]?"function"==typeof t.forEach&&t.forEach(e.add,e):e=new Set(t);return e}(t),tag_replacement:e,state:a,tag_buffer:"",depth:0,in_quote_char:""}}function d(t,e){let i=e.allowable_tags,n=e.tag_replacement,s=e.state,r=e.tag_buffer,h=e.depth,c=e.in_quote_char,p="";for(let e=0,u=t.length;e<u;e++){let u=t[e];if(s===a)switch(u){case"<":s=o,r+=u;break;default:p+=u}else if(s===o)switch(u){case"<":if(c)break;h++;break;case">":if(c)break;if(h){h--;break}c="",s=a,r+=">",i.has(m(r))?p+=r:p+=n,r="";break;case'"':case"'":c=u===c?"":c||u,r+=u;break;case"-":"<!-"===r&&(s=l),r+=u;break;case" ":case"\n":if("<"===r){s=a,p+="< ",r="";break}r+=u;break;default:r+=u}else if(s===l)switch(u){case">":"--"==r.slice(-2)&&(s=a),r="";break;default:r+=u}}return e.state=s,e.tag_buffer=r,e.depth=h,e.in_quote_char=c,p}function m(t){let e=c.exec(t);return e?e[1].toLowerCase():null}p.init_streaming_mode=function(t,e){let i=u(t=t||[],e=e||"");return function(t){return d(t||"",i)}},void 0===(n=function(){return p}.call(e,i,e,t))||(t.exports=n)}()},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n  }\n  [hidden] {\n    display:none !important;\n  }\n  textarea {\n    width: 100%;\n    font-size: var(--font-size);\n  }\n\n  .copyButton {\n    white-space: nowrap;\n    height: 38px;\n    width: 85px;\n    text-transform: uppercase;\n    font-size: var(--font-size-sm);\n    font-weight: var(--font-weight-heavy);\n    background-color: var(--default-secondary-color);\n    color: var(--default-primary-color);\n    border-radius: 0;\n    border: none;\n    cursor: pointer;\n  }\n\n  .copyButton[active] {\n    text-align: center;\n    background-color: var(--default-primary-color);\n    color: var(--default-secondary-color);\n  }\n  \n  .copyButton[active] span {\n    display: none;\n  }\n\n  #citeText {\n    padding-bottom: 10px;\n    overflow: auto;\n  }\n</style>\n\n<div hidden$="[[copying]]" id="citeText"></div>\n<textarea hidden$="[[!copying]]" id="copyArea"></textarea>\n\n<button active$="[[copying]]" on-click="_onCopyClicked" class="copyButton">\n  <iron-icon icon="content-copy" id="icon"></iron-icon>\n  <span>Copy</span>\n</button>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n  }\n\n  .layout {\n    display: flex;\n  }\n  .layout > * {\n    flex : 1;\n  }\n\n  h2 {\n    border-bottom: 1px solid var(--medium-background-color);\n    color: var(--default-primary-color);\n    padding-bottom: 10px;\n    padding-left: 5px;\n  }\n</style>\n\n<iron-media-query query="(max-width: 900px)" query-matches="{{mobile}}"></iron-media-query>\n\n<app-tabs \n  tabs="[[tabs]]" \n  selected="{{selectedTab}}" \n  hidden$="[[!mobile]]">\n</app-tabs>\n\n<div class="layout">\n  <div hidden$="[[!showLeft]]">\n    <h2>Item Data</h2>\n    <slot name="left"></slot>\n  </div>\n  <div hidden$="[[!showRight]]" style="max-width: 100vw;">\n    <h2>Cite this Item</h2>\n    <slot name="right"></slot>\n  </div>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  button {\n    border: none;\n    border-radius: 0;\n    cursor: pointer;\n    color : var(--default-primary-color);\n    background-color: var(--medium-background-color);\n    width: 35px;\n    height: 35px;\n    font-weight: var(--font-weight-heavy);\n    margin: 4px;\n  }\n  button[selected] {\n    background : var(--default-primary-color);\n    color : var(--default-secondary-color);\n  }\n  .info {\n    margin: 10px 0;\n    font-size: var(--font-size-sm);\n  }\n  a {\n    display: inline-block;\n    padding: 8px;\n    color : var(--default-primary-color);\n    background-color : var(--default-secondary-color);\n    text-transform: uppercase;\n    font-size: var(--font-size-sm);\n    font-weight: var(--font-weight-heavy);\n    text-decoration: none;\n  }\n  select {\n    border: none;\n    background-color: white;\n    border-radius: 0;\n    margin-right: 15px;\n    height: 40px;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -ms-appearance: none;\n    -o-appearance: none;\n    appearance: none;\n    padding: 5px 30px 5px 10px;\n    background-position: right 10px center;\n    background-size: 10px 6px;\n    background-repeat: no-repeat;\n    background-image: url(\'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMCA2IiB3aWR0aD0iMTBweCIgaGVpZ2h0PSI2cHgiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojZGFhYTAwO308L3N0eWxlPjwvZGVmcz48Zz48cG9seWdvbiBjbGFzcz0iY2xzLTEiIHBvaW50cz0iMCAwIDEwIDAgNSA2IDAgMCIvPjwvZz48L3N2Zz4=\');\n    @apply --fin-search-box-select-inverse;\n  }\n  /* for IE */\n  select::-ms-expand {\n    display: none;\n  }\n  select option {\n    text-transform: uppercase;\n  }\n</style>\n\n<div>\n  <template is="dom-repeat" items="[[sizes]]">\n    <button index$="[[index]]" selected$="[[item.selected]]" on-click="_onSizeSelected">[[item.label]]</button>\n  </template>\n</div>\n\n<div class="info">\n  [[resolutionTitle]] | [[resolution]] <span hidden$="[[!defaultImage]]">| [[size]]</span>\n</div>\n\n<div style="display:flex; align-items: center">\n  <select id="format" on-change="_onFormatSelected">\n    <template is="dom-repeat" items="[[formats]]">\n      <option value="[[item]]">[[item]]</option>\n    </template>\n  </select>\n\n  <a href="[[href]]" download target="_blank">\n    <iron-icon icon="file-download"></iron-icon>\n    Download\n  </a>\n</div>'},function(t,e,i){var n=i(99);t.exports="string"==typeof n?n:n.toString()},function(t,e){t.exports='<style include="shared-styles">\n\n  :host {\n    display: none;\n    position: absolute;\n    z-index: 1000;\n    right : 0;\n    bottom : 0;\n    top : 0;\n    left : 0;\n    background-color: black;    \n    animation: show 350ms ease-out;\n  }\n\n  @keyframes show {\n    from {\n      /* top: -100vh; */\n      opacity: 0.5;\n      transform: scale(1.3);\n    }\n    to {\n      /* top: 0; */\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  #viewer { \n    top : 0;\n    right : 0;\n    bottom : 0;\n    left : 0;\n    position: absolute;\n    background-color: black;\n  }\n\n  paper-spinner-lite {\n    --paper-spinner-color: var(--default-secondary-color);\n  }\n  \n  .spinner-layout {\n    position: absolute;\n    top : 0;\n    right : 0;\n    left : 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  app-image-viewer-nav {\n    z-index: 2000;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n</style>\n\n\x3c!-- make sure background is blacked out... iOS hack --\x3e\n<div id="safeCover" style="display:none;position: absolute;z-index:999;top:0;left:0;width:100vw;height:100vh;background-color:black;"></div>\n\n<div id="viewer">\n  <div class="spinner-layout" hidden$="[[!loading]]">\n    <paper-spinner-lite active$="[[loading]]"></paper-spinner-lite>\n  </div>\n</div>\n\n<app-image-viewer-nav \n  id="nav"\n  is-lightbox\n  on-zoom-in="_onZoomInClicked"\n  on-zoom-out="_onZoomOutClicked"\n  on-close="_onCloseClicked">\n</app-image-viewer-nav>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: inline-block;\n    position: relative;\n  }\n\n  #popup {\n    display: none;\n    background: white;\n    padding: 10px;\n    position: absolute;\n    bottom: 70px;\n    right: -20px;\n  }\n\n  .layout {\n    display: flex;\n    margin-bottom: 5px;\n  }\n\n  input {\n    font-size: var(--font-size);\n    padding: 0 0 0 5px;\n    display: block;\n    border: none;\n    height: 38px;\n    outline: none;\n  }\n\n  #link {\n    width: 100%;\n    border-top: 1px solid var(--medium-background-color);\n    border-left: 1px solid var(--medium-background-color);\n    border-bottom: 1px solid var(--medium-background-color);\n    box-sizing: border-box;\n  }\n\n  .social {\n    margin: 8px;\n    display: inline-block;\n    cursor: pointer;\n    height: 40px;\n    width: 40px;\n    border: 2px solid transparent;\n    outline: none;\n  }\n  .social:focus {\n    border: var(--default-outline);\n    border-radius: 20px;\n  }\n\n  .copyButton {\n    white-space: nowrap;\n    height: 38px;\n    text-transform: uppercase;\n    font-size: var(--font-size-sm);\n    font-weight: var(--font-weight-heavy);\n    background-color: var(--default-secondary-color);\n    color: var(--default-primary-color);\n    border-radius: 0;\n    border: none;\n    cursor: pointer;\n  }\n  .copyButton[active] {\n    text-align: center;\n    background-color: var(--default-primary-color);\n    color: var(--default-secondary-color);\n  }\n  .copyButton[active] span {\n    display: none;\n  }\n\n  #main {\n    color: var(--default-secondary-color);\n  }\n\n  .arrow-down {\n    position: absolute;\n    width: 0; \n    height: 0; \n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    border-top: 20px solid white;\n    bottom: -20px;\n    right: 20px;\n  }\n\n  paper-icon-button:focus {\n    border-radius: 0 !important;\n  }\n</style>\n\n\n<div id="popup">\n  <div class="layout">\n    <img id="facebook" \n      role="button" \n      tabindex="0" \n      src="/images/social-icons/icon-facebook.svg" \n      class="social" \n      on-click="_onSocialIconClick"\n      on-keyup="_onSocialIconClick" />\n    <img id="twitter" \n      role="button" \n      tabindex="0" \n      src="/images/social-icons/icon-twitter.svg" \n      class="social" \n      on-click="_onSocialIconClick"\n      on-keyup="_onSocialIconClick" />\n    <img id="google" \n      role="button" \n      tabindex="0" \n      src="/images/social-icons/icon-googleplus.svg" \n      class="social" \n      on-click="_onSocialIconClick"\n      on-keyup="_onSocialIconClick" />\n    <img id="pinterest" \n      role="button" \n      tabindex="0" \n      src="/images/social-icons/icon-pinterest.svg" \n      class="social" \n      on-click="_onSocialIconClick"\n      on-keyup="_onSocialIconClick" />\n  </div>\n  <div>\n    <div style="display: flex; align-items: center" class="section bordered">\n      <div style="flex:1">\n        <input id="link" type="text" />\n      </div>\n      <button on-click="_copyLink" id="copyButton" class="copyButton">\n        <iron-icon icon="content-copy" id="copyIcon"></iron-icon>\n      </button>\n    </div>\n  </div>\n  <div class="arrow-down"></div>\n</div>\n\n<paper-icon-button \n  id="main" \n  noink \n  icon="social:share" \n\n  on-click="_onBtnClicked">\n</paper-icon-button>\n\n'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    background-color: rgba(0, 38, 85, 0.9);\n    padding: 8px;\n  }\n\n  :host(.single) {\n    background-color: transparent;\n  }\n\n  :host(.single) paper-icon-button {\n    background-color: var(--default-primary-color);\n  }\n  :host(.single) app-share-btn {\n    background-color: var(--default-primary-color);\n  }\n\n  .layout {\n    display: flex;\n    align-items: center;\n  }\n\n  #thumbnails {\n    overflow: hidden;\n    /* (50px width + 10px margin + 4px border) * 8 thumbnails */\n    max-width: 512px;\n  }\n\n  #thumbnails > div {\n    white-space: nowrap;\n    margin-left: 0;\n    will-change: margin-left;\n    transition: margin-left 250ms ease-out;\n  }\n\n  .thumbnail {\n    display: inline-block;\n    width: 50px;\n    height: 50px;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center center;\n    margin: 0 5px;\n    border: 2px solid transparent;\n    cursor: pointer;\n  }\n\n  .thumbnail[selected] {\n    border: 2px solid var(--default-secondary-color);\n  }\n\n  paper-icon-button {\n    color: var(--default-secondary-color);\n    min-width: 40px;\n  }\n\n  paper-icon-button:focus {\n    border-radius: 0 !important;\n  }\n\n  paper-icon-button[disabled] {\n    color: var(--gray-text);\n    min-width: 40px;\n  }\n</style>\n\n<div class="layout">\n  <div id="navLeft" hidden$="[[singleImage]]">\n    <paper-icon-button noink tabindex="0" icon="chevron-left" disabled$="[[!showNavLeft]]" on-click="_pageLeft"></paper-icon-button>\n  </div>\n  <div id="thumbnails" hidden$="[[singleImage]]">\n    <div id="thumbnailContainer">\n      <template is="dom-repeat" items="[[thumbnails]]">\n        <button \n          class="thumbnail" \n          disabled$="[[item.disabled]]"\n          selected$="[[item.selected]]" \n          style$="background-image:url([[item.src]])"\n          media-id$="[[item.id]]"\n          alt$="Page #[[item.position]]"\n          on-click="_onThumbnailClicked">\n        </button>\n      </template>\n\n    </div>\n  </div>\n  <div id="navRight" hidden$="[[singleImage]]">\n    <paper-icon-button noink tabindex="0"  icon="chevron-right" disabled$="[[!showNavRight]]" on-click="_pageRight"></paper-icon-button>\n  </div>\n\n  <div style="flex:1"></div>\n  \n  <div hidden$="[[breakControls]]" style="white-space: nowrap">\n    <paper-icon-button id="zoomOut1" noink tabindex="0"  icon="zoom-out" hidden$="[[!isLightbox]]" on-click="_onZoomOutClicked"></paper-icon-button>\n    <paper-icon-button noink icon="zoom-in" tabindex="0"  hidden$="[[!isLightbox]]" on-click="_onZoomInClicked"></paper-icon-button>\n    <app-share-btn></app-share-btn>\n    <paper-icon-button noink icon="zoom-in" tabindex="0"  hidden$="[[isLightbox]]" on-click="_onZoomInClicked"></paper-icon-button>\n    <paper-icon-button noink icon="fin:close" tabindex="0"  hidden$="[[!isLightbox]]" on-click="_onCloseClicked"></paper-icon-button>\n  </div>\n</div>\n\n<div hidden$="[[!breakControls]]" style="text-align: right">\n  <paper-icon-button id="zoomOut2" noink tabindex="0"  icon="zoom-out" hidden$="[[!isLightbox]]" on-click="_onZoomOutClicked"></paper-icon-button>\n  <paper-icon-button noink icon="zoom-in" tabindex="0"  hidden$="[[!isLightbox]]" on-click="_onZoomInClicked"></paper-icon-button>\n  <app-share-btn></app-share-btn>\n  <paper-icon-button noink icon="zoom-in" tabindex="0"  hidden$="[[isLightbox]]" on-click="_onZoomInClicked"></paper-icon-button>\n  <paper-icon-button noink icon="fin:close" tabindex="0"  hidden$="[[!isLightbox]]" on-click="_onCloseClicked"></paper-icon-button>\n</div>'},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n    background: black;\n    padding: 20px 10px;\n    position: relative;\n    box-sizing: border-box;\n  }\n\n  paper-spinner-lite {\n    --paper-spinner-color: var(--default-secondary-color);\n  }\n\n  #loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  app-image-viewer-nav {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  .layout {\n    text-align: center;\n  }\n\n  [hidden] {\n    display: none !important;\n  }\n</style>\n\n<div id="loading" hidden$="[[!loading]]">\n  <paper-spinner-lite active$="[[loading]]"></paper-spinner-lite>\n</div>\n\n<div class="layout" hidden$="[[loading]]" style="line-height: 0">\n  <img id="img" />\n</div>\n\n\n<app-image-viewer-lightbox id="lightbox"></app-image-viewer-lightbox>\n<app-image-viewer-nav on-zoom-in="_onZoomIn"></app-image-viewer-nav>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    background-color: var(--super-light-background-color);\n  }\n\n  .container.top {\n    padding: 20px 0;\n    background-color: var(--light-background-color);\n  }\n\n  input {\n    padding: 0 0 0 5px;\n    display: block;\n    border: none;\n    height: 38px;\n  }\n\n  .copyButton {\n    white-space: nowrap;\n    height: 38px;\n    width: 85px;\n    text-transform: uppercase;\n    font-size: var(--font-size-sm);\n    font-weight: var(--font-weight-heavy);\n    background-color: var(--default-secondary-color);\n    color: var(--default-primary-color);\n    border-radius: 0;\n    border: none;\n    cursor: pointer;\n  }\n  .copyButton[active] {\n    text-align: center;\n    background-color: var(--default-primary-color);\n    color: var(--default-secondary-color);\n  }\n  .copyButton[active] span {\n    display: none;\n  }\n\n  h3 {\n    margin: 0 0 10px 0;\n    color: var(--default-primary-color);\n  }\n\n  .label {\n    font-weight: var(--font-weight-heavy);\n    color: var(--default-primary-color);\n  }\n\n  .section {\n    margin-bottom: 15px;\n  }\n  .section.bordered {\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    border-bottom: 1px dashed var(--medium-background-color);\n  }\n\n  .overview {\n    display: flex; \n    width: 100%;\n  }\n\n  .overview > div {\n    flex : 1;\n    padding : 0 10px;\n  }\n\n  .type-date-collection {\n    display: flex;\n    /* align-items: center; */\n  }\n\n  .resource-type {\n    text-transform: capitalize;\n  }\n  .resource-type iron-icon {\n    color: var(--default-primary-color);\n  }\n\n  paper-toast {\n    --paper-toast-background-color: var(--default-secondary-color);\n    --paper-toast-color: var(--default-primary-color);\n  }\n\n  #link {\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .metadata-row {\n    display: flex;\n    margin: 30px 20px;\n  }\n  .metadata-row .attr {\n    flex: 0.25;\n    color: var(--default-primary-color);\n    font-weight: var(--font-weight-heavy); \n  }\n  .metadata-row .value {\n    flex: 0.75;\n  }\n\n  .cite-container {\n    padding: 15px 0;\n    margin: 0 15px;\n    border-bottom: 1px dashed var(--medium-background-color);\n    display: flex;\n  }\n  .cite-container .label {\n    padding-right: 10px;\n    flex: 0.25;\n    color: var(--default-primary-color);\n    font-weight: var(--font-weight-heavy); \n  }\n  .cite-container .text {\n    flex: 0.75;\n  }\n\n  img[rights] {\n    height: 22px;\n    width: 22px;\n    vertical-align: sub;\n  }\n\n  @media( max-width: 768px ) {\n    .overview {\n      display: block;\n    }\n    .cite-container {\n      display: block;\n      padding: 15px 0 15px 15px;\n      margin: 0;\n    }\n    .type-date-collection {\n      display: block;\n    }\n    .type-date-collection > div {\n      margin: 15px 5px;\n    }\n  }\n\n</style>\n\n<app-search-header></app-search-header>\n<app-search-breadcrumb></app-search-breadcrumb>\n\n<app-image-viewer-static></app-image-viewer-static>\n\n<div class="container top">\n  <div class="overview">\n    <div>\n      <h3>[[name]]</h3>\n\n      <div class="section type-date-collection">\n         \x3c!-- TODO: add back in when we figure out consolidated resource type \n           <div style="flex:.75">\n          <div class="label">Resource Type</div>\n          <div class="resource-type">\n           <iron-icon icon="fin:[[resourceType]]"></iron-icon>\n            <div id="resourceType"></div>\n          </div>\n        </div>  --\x3e\n        <div style="flex:.5" hidden$="[[!date]]">\n          <div class="label">Date</div>\n          <div>[[date]]</div>\n        </div>\n        <div >\n          <div class="label">Collection</div>\n          <div>[[collectionName]]</div>\n        </div>\n      </div>\n\n      <div hidden$="[[!description]]" class="section">\n        <div class="label">Description</div>\n        <div>[[description]]</div>\n      </div>\n    </div>\n    <div>\n      <div style="display: flex; align-items: center" class="section bordered">\n        <span class="label" style="padding-right: 10px; display:inline-block">Permalink</span>\n        <div style="flex:1">\n          <input id="link" type="text" />\n        </div>\n        <button on-click="_copyLink" id="copyButton" class="copyButton">\n          <iron-icon icon="content-copy" id="copyIcon"></iron-icon>\n          <span>Copy</span>\n        </button>\n      </div>\n\n      <div class="section bordered">\n        <div class="label">Download Options</div>\n        <app-image-download id="download"></app-image-download>\n      </div>\n\n      <div hidden$="[[!rights]]">\n        <a href$="[[rights.link]]" target="_block">\n          <img src$="[[rights.icon]]" rights />\n          <span>[[rights.label]]</span>\n        </a>\n      </div>\n\n    </div>\n  </div>\x3c!-- end overview --\x3e\n</div>\n\n<div class="container" style="padding-bottom: 50px">\n  <app-record-metadata-layout>\n    <div slot="left">\n      <div class="metadata-row" id="identifier">\n        <div class="attr">ARK / DOI</div>\n        <div class="value" id="identifierValue"></div>\n      </div>\n\n      <div class="metadata-row" id="creator">\n        <div class="attr">Creator</div>\n        <div class="value" id="creatorValue"></div>\n      </div>\n\n      <div class="metadata-row">\n        <div class="attr">Collection</div>\n        <div class="value" id="collectionValue"></div>\n      </div>\n\n      <div class="metadata-row">\n        <div class="attr">Fedora Link</div>\n        <div class="value" id="fedoraValue"></div>\n      </div>\n\n\n    </div>\n    \n    <div slot="right">\n      <div class="cite-container">\n        <div class="label">MLA</div>\n        <div class="text">\n          <app-copy-cite id="mla"></app-copy-cite>\n        </div>\n      </div>\n\n      <div class="cite-container">\n        <div class="label">APA</div>\n        <div class="text">\n          <app-copy-cite id="apa"></app-copy-cite>\n        </div>\n      </div>\n\n      <div class="cite-container">\n        <div class="label">Chicago</div>\n        <div class="text">\n          <app-copy-cite id="chicago"></app-copy-cite>\n        </div>\n      </div>\n      \n    </div>\n  </app-record-metadata-layout>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    background-color: var(--light-background-color);\n    position: relative;\n  }\n\n  #filters {\n    margin-left: 10px;\n  }\n\n  .title {\n    color: var(--default-primary-color);\n    font-weight: bold;\n    padding: 15px 0;\n    margin-left: 10px;\n    border-bottom: 1px solid var(--medium-background-color);\n  }\n\n  app-filter-panel {\n    border-bottom: 1px solid var(--medium-background-color);\n  }\n\n  .thumbnail {\n    background-size: cover;\n    background-position: center center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  .thumbnail-root {\n    position: relative;\n    height: 200px;\n  }\n\n  .label {\n    padding: 10px 0;\n    color: var(--default-primary-color);\n    font-weight: var(--font-weight-heavy);\n  }\n\n  .collection-filter {\n    padding: 4px 5px;\n    border-bottom: 1px solid var(--medium-background-color);\n  }\n\n  .outer-drawer-toggle {\n    position: relative;\n  }\n  .outer-drawer-toggle[spacer] {\n    height: 50px;\n  }\n\n  .drawer-toggle {\n    font-size: var(--font-size-sm);\n    position: absolute;\n    z-index: 15;\n    top : 15px;\n    right: -24px;\n    cursor: pointer;\n    text-transform: uppercase;\n    display: flex;\n    align-items: center;\n    font-weight: var(--font-weight-heavy);\n    color: var(--default-primary-color);\n    background-color: var(--light-background-color);\n    border-radius: 0;\n    border: 0;\n    padding: 0;\n  }\n  .drawer-toggle > span {\n    padding : 0 10px;\n  }\n  .drawer-toggle iron-icon {\n    background-color: var(--default-secondary-color);\n  }\n\n  @media(min-width: 975px) {\n    h2 {\n      display: block;\n    }\n    .outer-drawer-toggle {\n      display: none;\n    }\n  }\n</style>\n\n<div class="title" hidden$="[[collectionMode]]" >FILTERS</div>\n\n<div class="outer-drawer-toggle" spacer$="[[!collectionMode]]" on-click="_fireToggleDrawer">\n  <button class="drawer-toggle">\n    <span><span hidden$="[[!collectionMode]]">Info / </span>Filters</span>\n    <iron-icon icon="fin:close"></iron-icon>\n  </button>\n</div>\n<div class="thumbnail-root"  hidden$="[[!collectionMode]]">\n  <div class="thumbnail" style$="background-image: url(\'[[selectedCollection.thumbnailUrl]]\')"></div>\n  <div class="thumbnail" style$="background-image: url(\'[[selectedCollection.thumbnail]]\')"></div> \n</div>\n\n<app-tabs \n  tabs="[[tabs]]" \n  selected="{{selectedTab}}" \n  hidden$="[[!collectionMode]]">\n</app-tabs>\n\n<iron-pages \n  selected="[[selectedTab]]"   \n  attr-for-selected="id" \n  selected-attribute="active">\n  <div id="filters">\n\n    <div hidden$="[[!collectionMode]]" class="label">Collection</div>\n    <div hidden$="[[!collectionMode]]" class="collection-filter">\n      <app-facet-checkbox \n        type="collection" \n        value="[[selectedCollection.name]]" \n        checked="[[collectionMode]]"\n        on-click="_removeCollectionFilter">\n      </app-facet-checkbox>\n    </div>\n\n    <template is="dom-repeat" items="[[facetFilters]]">\n      <app-filter-panel filter="[[item]]"></app-filter-panel>\n    </template>\n  </div>\n  <app-collection-info-panel id="info"></app-collection-info-panel>\n</iron-pages>\n\n'},function(t,e){t.exports='<style>\n  :host {\n    display : block;\n  }\n  .layout {\n    display: flex;\n  }\n  .tab {\n    flex: 1;\n    cursor: pointer;\n    text-transform: uppercase;\n    padding: 12px 0 9px 0;\n    text-align: center;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-weight: normal;\n    color: var(--gray-text);\n    border-bottom: 2px solid var(--gray-text);\n  }\n  .tab:focus {\n    border-bottom-color: var(--default-secondary-color);\n    outline: none;\n  }\n  .tab[selected] {\n    cursor: default;\n    font-weight: bold;\n    color: var(--default-primary-color);\n    border-bottom: 4px solid var(--default-primary-color);\n    padding: 12px 0 7px 0;\n  }\n</style>\n\n<div class="layout">\n  <template is="dom-repeat" items="[[tabs]]">\n    <div class="tab" \n      role="tab" \n      tabindex="0" \n      aria-selected$="[[item.ariaSelected]]"\n      selected$="[[item.selected]]"\n      on-click="_onTabClicked" \n      on-keyup="_onTabClicked"\n      value$="[[item.value]]">\n      [[item.label]]\n    </div>\n  </template>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    padding: 15px;\n  }\n  h3 {\n    color: var(--default-primary-color);\n    margin: 5px 0;\n  }\n  .section {\n    margin-bottom: 20px;\n  }\n</style>\n\n<div class="section" hidden$="[[!description]]">\n  <h3>Description</h3>\n  <div>[[description]]</div>\n</div>\n\n<div class="section" hidden$="[[!subject]]">\n  <h3>Subject</h3>\n  <div>[[subject]]</div>\n</div>\n\n<div class="section" hidden$="[[!coverage]]">\n  <h3>Coverage</h3>\n  <div>[[coverage]]</div>\n</div>\n\n\n<div>[[collection.description]]</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    cursor: pointer;\n  }\n\n  :host(:focus) {\n    outline: var(--default-outline);\n  }\n\n  :host([disabled]) {\n    cursor: default;\n    outline: none !important;\n  }\n\n  iron-icon {\n    display: none;\n    color: var(--default-secondary-color);\n    min-width: 24px;\n    margin-right: 2px;\n  }\n\n  div {\n    user-select: none;\n    display: flex;\n    min-height: 24px;\n    display: flex;\n    align-items: center;\n  }\n\n  span {\n    display: inline-block;\n    padding-top: 3px;\n  }\n\n  div[checked] iron-icon {\n    display: inline-block;\n  }\n\n  div[checked] .value {\n    font-style: italic;\n    font-weight: bold;\n  }\n\n  div[disabled] iron-icon {\n    display: none;\n  }\n\n  div[disabled] .value {\n    font-style: italic;\n    color: var(--gray-text);\n  }\n</style>\n\n<div checked$="[[checked]]" disabled$="[[disabled]]">\n  <iron-icon icon="fin:close"></iron-icon>\n  <span class="value">[[realLabel]]</span>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block\n  }\n\n  .filter {\n    padding: 4px 5px;\n    display: flex;\n    align-items: center;\n  }\n  .filter a {\n    display: inline-block;\n    cursor: pointer;\n    color: black;\n    transition: color 250ms ease-out, transform 250ms ease-out;\n    transform: scale(1);\n  }\n  .filter a span {\n    color: var(--default-primary-color);\n  }\n  .filter a:hover {\n    transform: scale(1.5);\n    color: var(--default-primary-color);\n  }\n\n  .active-filter {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    color: white;\n    font-size: 14px;\n    background: var(--primary-text-color);\n    padding: 5px;\n    border-radius: 3px;\n    margin: 3px;\n  }\n\n  .active-filter:hover {\n    color: var(--default-primary-color);\n    background: #ccc;\n  }\n\n  .count {\n    color: var(--text-disabled);\n    flex: 1;\n    text-align: right;\n    min-width : 40px;\n    padding: 0 10px;\n  }\n\n  .overflow {\n    overflow: auto;\n    max-height: 200px;\n  }\n\n  app-normal-checkbox {\n    overflow: hidden;\n    padding-right: 5px;\n  }\n\n  paper-checkbox[active] .key {\n    color: var(--default-primary-color);\n    font-weight: bold;\n  }\n\n  paper-checkbox[disabled] .key {\n    color: var(--secondary-text-color);\n    font-style: italic;\n  }\n</style>\n\n<div class="overflow">\n  <div>\n    <template is="dom-repeat" items="[[buckets]]">\n      <div class="filter">\n\n        <app-normal-checkbox\n          type$="[[label]]"\n          index$="[[index]]"\n          value$="[[item.key]]"\n          label-map="[[valueMap]]"\n          checked$="[[item.active]]" \n          on-change="_toggleFilter"\n          disabled$="[[item.empty]]">\n        </app-normal-checkbox>\n\n        <div class="count">[[item.doc_count]]</div>\n      </div>\n    </template>\n  </div>\n</div>\n'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n  }\n\n  .label {\n    cursor: pointer;\n    display: flex;\n    color: var(--default-primary-color);\n    padding: 10px 0;\n    font-weight: bold;\n    position: relative;\n    outline: none !important;\n  }\n\n  .highlight {\n    position: absolute;\n    left: -10px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    background-color:  var(--default-secondary-color);\n    display: none;\n  }\n\n  .label:focus > .highlight {\n    display: block;\n  }\n\n  #activeFilters > div {\n    padding: 4px 5px;\n  }\n\n  .filter {\n    display: flex;\n    cursor: pointer;\n    align-items: center;\n  }\n\n  iron-icon[closed] {\n    transform: rotate(-90deg);\n  }\n\n  iron-icon[icon="fin:close"] {\n    color: var(--default-secondary-color);\n    margin-right: 2px;\n  }\n\n  #filters {\n    overflow-y: auto;\n    max-height: 200px;\n  }\n</style>\n\n<div class="label" on-click="_onToggleClicked" on-keyup="_onToggleClicked" role="button" tabindex="0">\n  <div style="flex:1">[[filter.label]]</div>\n  <iron-icon icon="arrow-drop-down" closed$="[[!opened]]"></iron-icon>\n  <div class="highlight"></div>\n</div>\n\n<div id="activeFilters" hidden$="[[opened]]">\n  <div hidden$="[[!selected.length]]">\n    <template is="dom-repeat" items="[[selected]]">\n      <div class="filter" \n        on-click="_onFilterClicked"\n        on-keyup="_onFilterClicked" \n        label$="[[item.label]]"\n        tabindex="0" \n        role="button">\n        <iron-icon icon="fin:close"></iron-icon>\n        <div>[[item.label]]</div>\n      </div>\n    </template>\n  </div>\n</div>\n\n<div id="filters" hidden$="[[!opened]]"></div>'},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n  }\n  \n  .labels {\n    display: flex;\n    margin: 0 23px 0 13px;\n    color: var(--gray-text);\n    font-size: var(--font-size-sm);\n  }\n\n  .inputs {\n    display: flex;\n    align-items: center;\n  }\n\n  input[type="number"] {\n    margin: 0 13px;\n    padding: 7px;\n    border: 0;\n    width: 50px;\n    font-size: var(--font-size-sm);\n  }\n\n  .unknown {\n    margin-left: 9px;\n    display: flex;\n    align-items: center;\n  }\n\n  label {\n    font-size: var(--font-size-sm);\n    font-style: italic;\n    padding-left: 5px;\n  }\n\n  app-range-slider {\n    --light-background-color: var(--medium-background-color);\n  }\n</style>\n\n<div class="inputs">\n  <input id="minValueInput" type="number" on-change="_onInputChange" >\n  <span> - </span>\n  <input id="maxValueInput" type="number" on-change="_onInputChange" >\n</div>\n\n<div style="margin-right: 10px">\n  <app-range-slider\n    id="slider"\n    on-range-value-change="_onRangeSliderChange"\n    abs-min-value="[[absMinValue]]"\n    abs-max-value="[[absMaxValue]]"\n    min-value="[[minValue]]"\n    max-value="[[maxValue]]">\n  </app-range-slider>\n</div>\n\n<div class="labels">\n  <div style="flex:1">[[absMinValue]]</div>\n  <div>[[absMaxValue]]</div>\n</div>\n\n<div class="unknown" hidden$="[[showUnknown]]">\n  <input type="checkbox" id="unknown" on-click="_onRangeNullChange" checked />\n  <label for="unknown">include unknown / unspecified</label>\n</div>'},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n    position: relative;\n    height: 50px;\n    margin: 0 13px;\n\n    -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n    -khtml-user-select: none; /* Konqueror HTML */\n    -moz-user-select: none; /* Firefox */\n    -ms-user-select: none; /* Internet Explorer/Edge */\n    user-select: none; /* Non-prefixed version, currently */\n  }\n\n  #numberLine {\n    position: absolute;\n    left : 0;\n    right : 0;\n    height: 3px;\n    background-color: var(--light-background-color, #888);\n  }\n\n  #fillLine {\n    position: absolute;\n    cursor: move;\n    background-color: var(--default-primary-color);\n    height: 3px;\n  }\n\n  .btn {\n    position: absolute;\n    height: 25px;\n    width: 25px;\n    cursor: move;\n  }\n\n  .btn > div {\n    margin: 5px;\n    height: 15px;\n    width: 15px;\n    border-radius: 15px;\n    background-color: var(--default-primary-color);\n    transition: all 150ms linear;\n  }\n\n  .btn[moving] > div {\n    margin: 0px;\n    height: 25px;\n    width: 25px;\n    border-radius: 25px;\n  }\n\n  .label {\n    width : 25px;\n    font-size: 12px; \n    position: absolute;\n    text-align: center;\n    transform: scale(0);\n    transition: transform 200ms linear;\n    color: var(--default-primary-color);\n  }\n\n  .label[moving] {\n    transform: scale(1);\n  }\n\n</style>\n\n<div id="numberLine"></div>\n\n<div id="fillLine" \n  prop="range" \n  on-mousedown="_onMoveStart" \n  on-touchstart="_onMoveStart">\n</div>\n\n<div id="lowNumberLabel" class="label" moving$="[[isMoving]]">[[minValueLabel]]</div>\n<div id="highNumberLabel" class="label" moving$="[[isMoving]]">[[maxValueLabel]]</div>\n\n<div id="lowNumberBtn" \n  class="btn" \n  prop="min" \n  on-mousedown="_onMoveStart" \n  on-touchstart="_onMoveStart" \n  moving$="[[movingMin]]" >\n  <div></div>\n</div>\n\n<div id="highNumberBtn" \n  class="btn" \n  prop="max" \n  on-mousedown="_onMoveStart" \n  on-touchstart="_onMoveStart" \n  moving$="[[movingMax]]">\n  <div></div>\n</div>'},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n  }\n\n  #label {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    @apply --cork-toggle-panel-label;\n  }\n\n  #content {\n    overflow: hidden;\n    height: 0;\n    transition: height 250ms ease-out;\n    @apply --cork-toggle-panel-content;\n  }\n\n  iron-icon {\n    color: var(--cork-drop-down-arrow-color, #912046);\n    transform: rotateX(0);\n    transition: transform 250ms ease-out;\n  }\n\n  iron-icon[closed] {\n    transform: rotate(-90deg);\n  }\n\n</style>\n\n<div id="label" on-click="toggle">\n  <div style="flex:1">[[label]]</div>\n  <iron-icon icon="arrow-drop-down" closed$="[[!opened]]"></iron-icon>\n</div>\n\n<div id="content">\n  <slot></slot>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    max-width: 1150px;\n  }\n\n  .header {\n    font-size: var(--font-size-sm);\n    display: flex;\n    align-items: center;\n  }\n\n  select {\n    margin-left: 10px;\n    border: 1px solid var(--light-background-color);\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -ms-appearance: none;\n    -o-appearance: none;\n    appearance: none;\n    -webkit-border-radius: 0px;\n    padding: 5px 30px 5px 10px;\n    background-position: right 10px center;\n    background-size: 16px 16px;\n    background-repeat: no-repeat;\n    background-color: transparent;\n    background-image: url(\'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMCA2Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzAwMjg1NTt9PC9zdHlsZT48L2RlZnM+PGc+PHBvbHlnb24gY2xhc3M9ImNscy0xIiBwb2ludHM9IjAgMCAxMCAwIDUgNiAwIDAiLz48L2c+PC9zdmc+\');\n  }\n  /* for IE */\n  select::-ms-expand {\n    display: none;\n  }\n\n  h3 {\n    border-top: 1px solid var(--light-background-color);\n    margin: 15px 0 0 0;\n    padding: 15px 0 0 0;\n    color: var(--default-primary-color);\n  }\n\n  .masonry {\n    margin: 10px;\n    position: relative;\n  }\n\n  .masonry .item {\n    display: block;\n    position: absolute;\n    /* visibility: hidden; */\n    top : 25px;\n    left: 25px;\n    will-change: top, left;\n    transition: top 500ms ease-out, left 500ms ease-out;\n  }\n\n  .list {\n    margin: 10px;\n  }\n\n  .list .item {\n    padding: 10px;\n    margin-bottom: 15px;\n    background-color: #daaa00;\n    height: 250px;\n  }\n\n  .spacer {\n    height: 20px;\n    border-right: 1px solid var(--light-background-color);\n  }\n\n  .total {\n    font-style: italic; \n    padding-left: 10px;\n  }\n\n  .mobile-total {\n    font-style: italic; \n  }\n\n  .filler {\n    flex: 1;\n  }\n\n  cork-pagination {\n    display: inline-block;\n\n    --cork-color : var(--default-primary-color);\n    --cork-background-color : var(--default-secondary-color);\n  }\n\n  .drawer-toggle {\n    font-size: var(--font-size-sm);\n    cursor: pointer;\n    text-transform: uppercase;\n    display: flex;\n    align-items: center;\n    font-weight: var(--font-weight-heavy);\n    color: var(--default-primary-color);\n    background-color: var(--light-background-color);\n    border-radius: 0;\n    border: 0;\n    padding: 0;\n  }\n  .drawer-toggle > span {\n    padding : 0 10px;\n  }\n  .drawer-toggle iron-icon {\n    background-color: var(--default-secondary-color);\n  }\n\n  .drawer-toggle[disabled] {\n    color: var(--light-background-color);\n  }\n\n  .header {\n    display : none;\n  }\n\n  .mobile-header {\n    padding-top: 15px;\n  }\n\n  .mobile-header .row2 {\n    display: flex;\n    align-items: center;\n    margin-right: 10px;\n  }\n\n  .collections {\n    text-align: center;\n  }\n\n  @media( min-width: 975px ) {\n    .header {\n      display: flex;\n    }\n    .mobile-header {\n      display: none;\n    }\n  }\n</style>\n\n<div class="header">\n  <div class="total">[[total]] results found</div>\n  \n  <div class="filler"></div>\n  \n  <paper-icon-button \n    noink\n    icon="fin:grid" \n    disabled$="[[!isListLayout]]"\n    on-click="_onLayoutToggle" \n    type="masonry">\n  </paper-icon-button>\n  <div class="spacer"></div>\n  <paper-icon-button \n    noink\n    icon="fin:list" \n    disabled$="[[isListLayout]]"\n    on-click="_onLayoutToggle" \n    type="list">\n  </paper-icon-button>\n  <div class="spacer"></div>\n  \n  <div>\n    <select id="numPerPage" on-change="_onPageSizeChange">\n      <option>50</option>\n      <option>20</option>\n      <option>10</option>\n    </select>\n  </div>\n  <div style="margin-left: 10px; font-style:italic">Items per page</div>\n</div>\n\n<div class="mobile-header">\n  <div>\n    <div style="display:inline-block">\n      <button class="drawer-toggle" on-click="_onToggleDrawer">\n        <span>Info / Filters</span>\n        <iron-icon icon="add"></iron-icon>\n      </button>\n    </div>\n  </div>\n\n  <div class="row2">\n    <div class="total">[[total]] results</div>\n\n    <div class="filler"></div>\n    \n    <paper-icon-button \n      noink\n      icon="fin:grid" \n      disabled$="[[!isListLayout]]"\n      on-click="_onLayoutToggle" \n      type="masonry">\n    </paper-icon-button>\n    <div class="spacer"></div>\n    <paper-icon-button\n      noink\n      icon="fin:list" \n      disabled$="[[isListLayout]]"\n      on-click="_onLayoutToggle" \n      type="list">\n    </paper-icon-button>\n    <div class="spacer"></div>\n    \n    <div>\n      <select id="numPerPageM" on-change="_onPageSizeChange">\n        <option>50</option>\n        <option>20</option>\n        <option>10</option>\n      </select>\n    </div>\n    <div style="margin-left: 10px; font-style:italic">per page</div>\n  </div>\n</div>\n\n<div class="collections" hidden$="[[!showCollectionResults]]">\n  <div hidden$="[[!collectionResults.length]]">\n    <h3>Collections</h3>\n    <template is="dom-repeat" items="[[collectionResults]]">\n      <app-collection-card \n        collection="[[item]]" \n        on-keyup="_onCollectionClicked"\n        on-click="_onCollectionClicked">\n      </app-collection-card>\n    </template>\n    <h3 hidden$="[[!results.length]]">Items</h3>\n  </div>\n</div>\n\n<div class="masonry" id="layout" hidden$="[[isListLayout]]">\n  <template is="dom-repeat" items="[[results]]">\n    <app-search-grid-result data="[[item]]" class="item"></app-search-grid-result>\n  </template>\n</div>\n\n<div class="list" hidden$="[[!isListLayout]]">\n  <template is="dom-repeat" items="[[results]]">\n    <app-search-list-result data="[[item]]"></app-search-list-result>\n  </template>\n</div>\n\n<div style="text-align:center">\n  <cork-pagination \n    total-results="[[total]]" \n    items-per-page="[[numPerPage]]"\n    current-index="[[currentIndex]]"\n    on-nav="_onPaginationNav">\n  </cork-pagination>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    background-color: white;\n    margin: 10px;\n    border: 2px solid transparent;\n  }\n  \n  :host(:hover), :host(:focus) {\n    cursor: pointer;\n    border: 2px solid var(--default-secondary-color);\n    outline: none !important;\n  }\n\n  .img {\n    height: 250px;\n    width: var(--grid-cell-width);\n    background-size: cover;\n    background-color: white;\n    background-position: center center;\n  }\n\n  .collection-name {\n    text-transform: uppercase;\n    font-size: var(--font-size-sm);\n    color: var(--gray-text);\n  }\n\n  .year {\n    color: var(--gray-text);\n    flex: 1;\n  }\n\n  .spacer {\n    flex: 1;\n  }\n\n  .footer {\n    display : flex; \n    align-items : center; \n    margin-top : 10px;\n  }\n\n  .layout {\n    display: flex;\n  }\n\n  h4 {\n    margin: 10px 0;\n    color: var(--default-primary-color);\n  }\n\n  iron-icon {\n    color: var(--default-primary-color);\n  }\n\n  .flex-vertical {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n\n  .data {\n    padding: 15px; \n    flex: 1;\n    overflow: hidden;\n  }\n\n  @media(max-width: 600px) {\n    .img {\n      height: auto;\n      width: 150px;\n    }\n\n    .data {\n      padding: 8px;\n    }\n\n    :host {\n      display: block;\n      background-color: white;\n      margin: 10px 0;\n    }\n  }\n</style>\n\n<div class="layout">\n  <div style$="background-image: url(\'[[imgUrl]]\')" hidden$="[[!isImage]]" class="img" ></div>\n\n  <div class="data">\n    <div class="flex-vertical">\n      <div class="collection-name">[[collectionName]]</div>\n      \n      <h4>[[name]]</h4>\n    \n      <template is="dom-repeat" items="[[creator]]">\n        <app-search-result-creator label="[[item]]"></app-search-result-creator>\n      </template>\n      \n      <div class="spacer"></div>\n\n      <div class="footer">\n        <div class="year">[[year]]</div>\n        <div>\n          <iron-icon icon="fin:image" hidden$="[[!isImage]]"></iron-icon>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    width: var(--grid-cell-width);\n    background-color: white;\n    cursor: pointer;\n  }\n\n  :host(:hover), :host(:focus) {\n    border: 2px solid var(--default-secondary-color);\n    margin: -2px 0 0 -2px;\n    outline: none !important;\n  }\n\n  @keyframes show-img {\n    from {opacity: 0}\n    to {opacity: 1}\n  }\n\n  img {\n    animation: show-img 300ms linear;\n    box-sizing: border-box;\n    display:none;\n    /* width: var(--grid-cell-width); */\n    /* background-size: cover;\n    background-color: transparent;\n    background-position: center center; */\n    /* position: absolute;\n    top: 0;\n    left: 0; */\n  }\n\n  .collection-name {\n    text-transform: uppercase;\n    font-size: var(--font-size-sm);\n    color: var(--gray-text);\n  }\n\n  .year {\n    color: var(--gray-text);\n    flex: 1;\n  }\n\n  .footer {\n    display : flex; \n    align-items : center; \n    margin-top : 10px;\n  }\n\n  h4 {\n    margin: 10px 0;\n    color: var(--default-primary-color);\n  }\n\n  iron-icon {\n    color: var(--default-primary-color);\n  }\n\n  .image {\n    position: relative; \n    background-size: cover;\n    background-color: transparent;\n    background-position: center center;\n    width: 250px; \n  }\n\n</style>\n\n<div \n  hidden$="[[!isImage]]" \n  class="image" \n  id="imgRoot"\n  style$="background-image: url(\'[[imgThumbail]]\'); height:[[imgHeight]]px">\n  <img id="img" src$="[[imgUrl]]" style$="height:[[imgHeight]]px; width: 100%" onload="this.style.display=\'block\';" />\n  \x3c!-- <div style$="background-image: url(\'[[imgThumbail]]\');height:[[imgHeight]]px" class="img" ></div>\n  <div style$="background-image: url(\'[[imgUrl]]\');height:[[imgHeight]]px" class="img"></div> --\x3e\n</div>\n\n\n<div style="padding: 15px">\n  <div class="collection-name">[[collectionName]]</div>\n\n  <h4>[[name]]</h4>\n\n  <template is="dom-repeat" items="[[creator]]">\n    <app-search-result-creator label="[[item]]"></app-search-result-creator>\n  </template>\n\n  <div class="footer">\n    <div class="year">[[year]]</div>\n    <div>\n      <iron-icon icon="fin:image" hidden$="[[!isImage]]"></iron-icon>\n    </div>\n  </div>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n  }\n  .text {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: calc(var(--grid-cell-width) - 30px);\n    color: var(--gray-text);\n  }\n</style>\n\n<a class="text" hidden="[[!link]]" href="[[label]]" target="_blank">[[label]]</a>\n<div class="text" hidden="[[link]]">[[label]]</div>'},function(t,e){t.exports='<style>\n  :host {\n    display: block;\n  }\n\n  #root {\n    display: flex;\n    align-items: center;\n  }\n\n  .ellipsis {\n    display: none;\n  }\n\n  paper-icon-button {\n    color: var(--cork-color, --default-primary-color);\n    border: 2px solid transparent;\n    border-radius: 20px;\n  }\n  paper-icon-button[disabled] {\n     color: var(--cork-disabled-color, var(--disabled-color, #ccc));\n  }\n\n  a {\n    color: var(--cork-color, --default-primary-color);\n    cursor: pointer;\n    text-align: center;\n    min-width: 20px;\n    border-radius: 25px;\n    display: inline-block;\n    padding: 5px;\n    margin: 0 3px;\n    font-size: 14px;\n    line-height: 20px;\n    border: 2px solid transparent;\n  }\n\n  a:hover {\n    background: var(--cork-background-color-light, var(--light-background-color, #eee));\n  }\n\n  a[selected] {\n    background: var(--cork-background-color, var(--medium-background-color, #ccc));\n    color: white;\n  }\n\n  a:focus, paper-icon-button:focus {\n    outline: none;\n    border : 2px dotted var(--default-secondary-color);\n  }\n\n  [hidden] {\n    display: none;\n  }\n\n  .text-display {\n    font-style: italic;\n  }\n</style>\n\n<div id="root">\n  <paper-icon-button tabindex="0" disabled$="[[firstPage]]" icon="arrow-back" on-click="previous"></paper-icon-button>\n\n  <div style="flex:1"></div>\n\n  <div hidden$="[[loading]]">\n    <div hidden$="[[!textMode]]" class="text-display">[[textDisplay]]</div>\n  </div>\n\n  <div hidden$="[[textMode]]">\n    <a selected$="[[firstPage]]" tabindex="0" on-click="_selectPage" on-keyup="_selectPage">1</a>\n    <a id="startEllipsis" class="ellipsis" tabindex="0" on-click="previousSection" on-keyup="_selectPage">...</a>\n\n    <template is="dom-repeat" items="[[pages]]">\n      <a selected$="[[item.selected]]" tabindex="0" on-click="_selectPage" on-keyup="_selectPage">[[item.index]]</a>\n    </template>\n\n    <a id="stopEllipsis" class="ellipsis" tabindex="0" on-click="nextSection" on-keyup="_selectPage">...</a>\n    <a id="lastPage" selected$="[[lastPage]]" tabindex="0" on-click="_selectPage" on-keyup="_selectPage">[[lastPageIndex]]</a>\n  </div>\n\n  <div style="flex:1"></div>\n\n  <paper-icon-button disabled$="[[lastPage]]" tabindex="0" icon="arrow-forward" on-click="next"></paper-icon-button>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    background-image: url(\'/images/header-colorbar.png\');\n    background-size: cover;\n    background-position: left center;\n    color: var(--default-primary-color);\n  }\n\n  .layout {\n    padding: 0 15px;\n  }\n\n  .layout > div {\n    margin: 0 5px;\n  }\n\n  iron-icon {\n    cursor: pointer;\n  }\n\n  a {\n    cursor: pointer;\n  }\n  a:focus {\n    outline-color: var(--default-primary-color);\n  }\n</style>\n\n<div class="layout" hidden$="[[!selected]]" id="layout">\n  <a on-click="_onSearchClicked" on-keyup="_onSearchClicked" tabindex="0">Search</a>\n  \n  <span hidden$="[[!collection]]">&gt;</span>\n  <span hidden$="[[!collection]]"><a on-click="_onCollectionClicked" tabindex="0">[[collection.name]]</a></span>\n\n  <span hidden$="[[!record]]">&gt;</span>\n  <span hidden$="[[!record]]">[[record.name]]</span>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    background-color: var(--default-primary-color);\n    color: var(--inverse-text-color);\n    padding: 15px;\n  }\n\n  app-auth-header {\n    margin-left: 10px;\n  }\n  \n  fin-search-box {\n    display: inline-block;\n    width: 100%;\n    box-sizing: border-box;\n    max-width: 525px;\n  }\n\n  .layout {\n    display: flex;\n    align-items: center;\n  }\n  \n  h2 {\n    margin: 0;\n    white-space: nowrap;\n  }\n  h2 a {\n    color: var(--default-secondary-color);\n    text-decoration: none;\n  }\n  h2 a:visited {\n    color: var(--default-secondary-color);\n    text-decoration: none;\n  }\n\n  img {\n    height: 50px;\n  }\n\n  .logo, h2 {\n    padding-right: 20px;\n    display: none;\n  }\n\n  .filler {\n    flex: .25;\n    display: none;\n  }\n\n  .logo-sm {\n    margin-right: 10px;\n  }\n\n  iron-icon.search-icon {\n    color: var(--default-secondary-color);\n  }\n\n  @media( min-width: 700px ) {\n    .logo {\n      display: block;\n    }\n    .logo-sm {\n      display: none;\n    }\n  }\n\n  @media( min-width: 815px ) {\n    h2 {\n      display: block;\n    }\n  }\n\n  @media( min-width: 1100px ) {\n    .filler {\n      display: block;\n    }\n  }\n</style>\n\n<div class="layout">\n  <a href="/" class="logo"><img border="0" src="/images/ucd-lib-logo-white.png" /></a>\n  <a href="/" class="logo-sm"><img border="0" src="/images/ucd-lib-logo-white-sm.png" /></a>\n  <h2><a href="/">Digital Collections</a></h2>\n  <div class="filler"></div>\n  <div style="flex:1; text-align:right">\n    <fin-search-box \n      id="searchInput" \n      on-search="_onSearch" \n      on-browse="_onBrowse"\n      placeholder="Search Keyword(s)">\n      <iron-icon icon="fin:search" class="search-icon" slot="button-content"></iron-icon>\n    </fin-search-box>\n  </div>\n  <app-auth-header></app-auth-header>\n</div>\n\n'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n  }\n  .search-container {\n    background-color: var(--super-light-background-color);\n    min-height: 500px;\n    display: block;\n  }\n  .search-content {\n    flex: 1;\n    padding-bottom: 35px;\n  }\n  app-filters-panel {\n    width: 350px;\n  }\n\n  #drawer app-filters-panel {\n    width: 300px;\n  }\n  \n  #drawer {\n    position: absolute;\n    top: 0;\n    left: -335px;\n    bottom: 0;\n    background: white;\n    width: 300px;\n    z-index: 10;\n    transition: left 300ms ease-out;\n    background-color: var(--light-background-color);\n  }\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: .7;\n    }\n  }\n\n  #drawer-background {\n    opacity: .7;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background: black;\n    z-index: 5;\n    display: none;\n    animation: fadeIn 300ms;\n  }\n\n  #drawer[open] {\n    left: 0;\n  }\n\n  #drawer-background[open] {\n    display: block;\n  }\n\n  #desktop-filter-panel {\n    display: none;\n  }\n\n  @media( min-width: 975px ) {\n    #outerDrawer {\n      display: none;\n    }\n    #desktop-filter-panel {\n      display: block;\n    }\n    .search-container {\n      display: flex;\n    }\n  }\n</style>\n\n<app-search-header></app-search-header>\n<app-search-breadcrumb></app-search-breadcrumb>\n\n<div style="position: relative">\n  <div id="outerDrawer">\n    <div id="drawer" open$="[[drawerOpen]]">\n      <app-filters-panel on-toggle-drawer="_toggleDrawer"></app-filters-panel>\n    </div>\n    <div id="drawer-background" open$="[[drawerOpen]]" on-click="_toggleDrawer"></div>\n  </div>\n\n  <div class="search-container">\n    <app-filters-panel id="desktop-filter-panel"></app-filters-panel>\n    <div class="search-content">\n      <app-search-results-panel \n        id="resultsPanel" \n        on-toggle-drawer="_toggleDrawer" \n        on-page-size-change="_onPageSizeChange"\n        on-page-change="_onPaginationChange">\n      </app-search-results-panel>\n    </div>\n  </div>\n</div>'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    position: relative;\n    background: white;\n  }\n\n  #hero {\n    height: 750px; /** IE 11 hack **/\n    min-height: 750px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    background-image: url(\'/images/default-home-background.jpg\');\n    background-size: cover;\n    background-position: center;\n  }\n\n  h2 {\n    margin: 0px;\n  }\n\n  input {\n    border: none;\n    padding: 15px;\n    display: block;\n    width: 90%;\n  }\n\n  .gradient {\n    opacity: .7;\n    position: absolute;\n    top : 0;\n    left : 0;\n    right : 0;\n    bottom: 0;\n    background-image: url(\'/images/home-gradient.png\');\n    background-size: cover;\n    background-position: center;\n  }\n\n  img {\n    height: 50px;\n    top: 25px;\n    left: 25px;\n    position: absolute;\n    z-index: 5;\n  }\n\n  .container {\n    background: white;\n    padding: 25px 10px;\n  }\n\n  .search-box {\n    padding: 0 10px;\n    color: var(--inverse-text-color);\n    z-index: 5;\n  }\n\n  .search-box .main {\n    background-color: rgba(0, 38, 85, .7);\n    padding: 15px;\n  }\n\n  .search-box .footer {\n    background-color: rgba(51, 83, 121, .7);\n    padding: 15px;\n  }\n\n  .collection-outer {\n    display: flex;\n    justify-content: center;\n  }\n\n  .collections {\n    max-width: var(--max-width);\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 75px 20px;\n    border-bottom: 1px solid var(--light-background-color);\n  }\n\n  .collections > div {\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center center;\n    height: 320px;\n    width: 320px;\n    margin: 15px;\n    position: relative;\n  }\n\n  .collections > div:hover {\n    cursor: pointer;\n    margin: 13px;\n    border: 2px solid var(--default-primary-color);\n  }\n\n  .collections > div > div {\n    position: absolute;\n    padding: 15px;\n    color: var(--default-secondary-color);\n    background-color: rgba(0, 38, 85, .7);\n    left : 0;\n    bottom : 25px;\n    font-weight: var(--font-weight-heavy);\n  }\n\n  iron-icon.search-icon {\n    color: var(--default-secondary-color);\n  }\n</style>\n\n<img src="/images/ucd-lib-logo-white.png" />\n<div id="hero">\n  <div class="gradient"></div>\n  <div class="search-box">\n    <div class="main">\n      <h2>UC Davis Library Digital Collections</h2>\n      <div style="margin-bottom: 15px">\n        Explore digitized items from the \n        <a class="gold" href="https://library.ucdavis.edu" target="_blank">UC Davis Library</a> \n        collections.\n      </div>\n      <fin-search-box \n        id="searchBox" \n        on-search="_onSearch" \n        on-browse="_onBrowse"\n        placeholder="Search Keyword(s)">\n        <iron-icon icon="fin:search" class="search-icon" slot="button-content"></iron-icon>\n      </fin-search-box>\n    </div>\n    <div class="footer">\n      \x3c!-- Featured Image: <a class="italic">foo bar</a>, <a class="italic">baz</a> --\x3e\n    </div>\n  </div>\n\n</div>\n<app-header-colorbar height="15"></app-header-colorbar>\n\n<div class="collection-outer">\n  <div class="collections">\n    <template is="dom-repeat" items="[[highlightedCollections]]">\n      <app-collection-card \n        data-id$="[[item.id]]" \n        collection="[[item]]" \n        on-keyup="_onCollectionClicked"\n        on-click="_onCollectionClicked">\n      </app-collection-card>\n    </template>\n  </div>\n</div>\n\n<div class="text-container" style="padding: 10px">\n  \n  <h1>About Digital Collections</h1>\n\n  <p>The UC Davis Digital Collections is a locally developed digital repository that \n    was designed to store and manage the digital assets of UC Davis. These Digital \n    Collections are intended to increase access to previously undiscoverable digital \n    assets held by the University Library.</p>\n  \n  <p>Initially launched in 2018, the repository currently stores 14,000 digital assets.</p>\n  \n  <h2>Platform</h2>\n  \n  <p>The Digital Asset Management System is built on the Fedora Linked Data Platform. \n    Custom microservices are implemented using a Fedora (APIX) extension method as a general \n    methodology. The User Interface was built with web-components anticipating a need for \n    UI flexibility as the digital collection grows. For a more detailed explanation of \n    the development, see our \n    <a href="https://github.com/UCDavisLibrary/fin-server/issues/9">Fin Server Overview</a> or\n    <a href="https://github.com/UCDavisLibrary/fin-server/blob/master/docs/README.md">Developer Documentation.</a>\n  </p>\n  \n  <h2>Contact</h2>\n  <ul>\n    <li><a href="mailto:eanebeker@ucdavis.edu">Eric A Nebeker - Digital Assets Specialist</a></li>\n  </ul>\n  \n  <h2>Implementation Team</h2>\n  <ul>\n    <li>Quinn Hart - Team Lead</li>\n    <li>Justin Merz - Lead Developer</li>\n    <li>Kimmy Hescock - User Experience Designer</li>\n  </ul>\n  \n  <h2>Members of the DAMS Steering Committee</h2>\n  <ul>\n    <li>Kevin Miller</li>\n    <li>Neil Weingarten</li>\n    <li>Amy Azzarito</li>\n    <li>Peter Brantley</li>\n    <li>Carl Stahmer</li>\n    <li>Dale Snapp</li>\n    <li>Robert Heyer-Gray</li>\n    <li>Vessela Ensberg</li>\n    <li>Xiaoli Li</li>\n  </ul>\n  \n  <p>The UC Davis Library DAMS was a project of the Library\'s <a href="https://www.library.ucdavis.edu/service/online-strategy-2/">Online Strategy team.</a>\n  </p>\n\n</div>\n<app-header-colorbar height="15" flipped></app-header-colorbar>\n'},function(t,e){t.exports='<style>\n  :host {\n    display: inline-block;\n    margin: 15px;\n    outline : 0;\n  }\n\n  :host(:hover), :host(:focus)  {\n    cursor: pointer;\n    margin: 13px;\n    border: 2px solid var(--default-secondary-color);\n  }\n\n  .root {\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center center;\n    height: 320px;\n    width: 320px;\n    position: relative;\n  }\n\n  .root > div  {\n    position: absolute;\n    padding: 15px;\n    color: var(--default-secondary-color);\n    background-color: rgba(0, 38, 85, .7);\n    left : 0;\n    bottom : 25px;\n    font-weight: var(--font-weight-heavy);\n  }\n</style>\n\n<div class="root" style$="background-image:url(\'[[collection.thumbnail]]\')" data-id$="[[collection.id]]">\n  <div>[[collection.name]]</div>\n</div>\n'},function(t,e){t.exports='<style include="shared-styles">\n  :host {\n    display: block;\n  }\n  .root {\n    display: flex;\n    align-items: center;\n  }\n  input {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0 5px;\n    background: white;\n    border: none;\n    height: 45px;\n    outline: none;\n    @apply --fin-search-box-input;\n  }\n  button {\n    background: white;\n    height: 45px;\n    border: none;\n    margin: 0;\n    padding: 0 10px;\n    border-radius: 0;\n    cursor: pointer;\n    @apply --fin-search-box-button;\n  }\n  select {\n    outline-offset: 1px;\n    margin-left: 20px;\n    border: none;\n    background-color: white;\n    border-radius: 0;\n    height: 45px;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -ms-appearance: none;\n    -o-appearance: none;\n    appearance: none;\n    -webkit-border-radius: 0px;\n    -moz-border-radius: 0px;\n    -ms-border-radius: 0px;\n    -o-border-radius: 0px;\n    padding: 5px 30px 5px 10px;\n    background-position: right 10px center;\n    background-size: 10px 6px;\n    background-repeat: no-repeat;\n    background-image: url(\'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMCA2Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzAwMjg1NTt9PC9zdHlsZT48L2RlZnM+PGc+PHBvbHlnb24gY2xhc3M9ImNscy0xIiBwb2ludHM9IjAgMCAxMCAwIDUgNiAwIDAiLz48L2c+PC9zdmc+\');\n    @apply --fin-search-box-select;\n  }\n  /* for IE */\n  select::-ms-expand {\n      display: none;\n  }\n  @media(max-width: 600px) {\n    select {\n      margin-left: 10px;\n    }\n  }\n</style>\n\n<div class="root">\n  <div style="flex:1">\n    <input \n      id="input" \n      type="text"\n      on-keyup="_onKeyUp"\n      placeholder="[[placeholder]]" />\n  </div>\n  <button on-click="_fireSearch">\n    <slot name="button-content"></slot>\n  </button>\n  <select id="select" on-change="_fireBrowse">\n    <option>Browse</option>\n  </select>\n</div>'},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="display-and-sort" page-range-format="chicago">\n  <info>\n    <title>Chicago Manual of Style 17th edition (author-date)</title>\n    <id>http://www.zotero.org/styles/chicago-author-date</id>\n    <link href="http://www.zotero.org/styles/chicago-author-date" rel="self"/>\n    <link href="http://www.chicagomanualofstyle.org/tools_citationguide.html" rel="documentation"/>\n    <author>\n      <name>Julian Onions</name>\n      <email>julian.onions@gmail.com</email>\n    </author>\n    <contributor>\n      <name>Sebastian Karcher</name>\n    </contributor>\n    <contributor>\n      <name>Richard Karnesky</name>\n      <email>karnesky+zotero@gmail.com</email>\n      <uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri>\n    </contributor>\n    <contributor>\n      <name>Andrew Dunning</name>\n      <email>andrew.dunning@utoronto.ca</email>\n      <uri>https://orcid.org/0000-0003-0464-5036</uri>\n    </contributor>\n    <category citation-format="author-date"/>\n    <category field="generic-base"/>\n    <summary>The author-date variant of the Chicago style</summary>\n    <updated>2018-01-24T12:00:00+00:00</updated>\n    <rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights>\n  </info>\n  <locale xml:lang="en">\n    <terms>\n      <term name="editor" form="verb-short">ed.</term>\n      <term name="container-author" form="verb">by</term>\n      <term name="translator" form="verb-short">trans.</term>\n      <term name="editortranslator" form="verb">\n        <single>edited and translated by</single>\n        <multiple>edited and translated by</multiple>\n      </term>\n      <term name="translator" form="short">trans.</term>\n    </terms>\n  </locale>\n  <macro name="secondary-contributors">\n    <choose>\n      <if type="chapter paper-conference" match="none">\n        <group delimiter=". ">\n          <names variable="editor translator" delimiter=". ">\n            <label form="verb" text-case="capitalize-first" suffix=" "/>\n            <name and="text" delimiter=", "/>\n          </names>\n          <names variable="director" delimiter=". ">\n            <label form="verb" text-case="capitalize-first" suffix=" "/>\n            <name and="text" delimiter=", "/>\n          </names>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <macro name="container-contributors">\n    <choose>\n      <if type="chapter paper-conference" match="any">\n        <group prefix=", " delimiter=", ">\n          <names variable="container-author" delimiter=", ">\n            <label form="verb" suffix=" "/>\n            <name and="text" delimiter=", "/>\n          </names>\n          <names variable="editor translator" delimiter=", ">\n            <label form="verb" suffix=" "/>\n            <name and="text" delimiter=", "/>\n          </names>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <macro name="editor">\n    <names variable="editor">\n      <name name-as-sort-order="first" and="text" sort-separator=", " delimiter=", " delimiter-precedes-last="always"/>\n      <label form="short" prefix=", "/>\n    </names>\n  </macro>\n  <macro name="translator">\n    <names variable="translator">\n      <name name-as-sort-order="first" and="text" sort-separator=", " delimiter=", " delimiter-precedes-last="always"/>\n      <label form="short" prefix=", "/>\n    </names>\n  </macro>\n  <macro name="recipient">\n    <choose>\n      <if type="personal_communication">\n        <choose>\n          <if variable="genre">\n            <text variable="genre" text-case="capitalize-first"/>\n          </if>\n          <else>\n            <text term="letter" text-case="capitalize-first"/>\n          </else>\n        </choose>\n      </if>\n    </choose>\n    <names variable="recipient" delimiter=", ">\n      <label form="verb" prefix=" " text-case="lowercase" suffix=" "/>\n      <name and="text" delimiter=", "/>\n    </names>\n  </macro>\n  <macro name="substitute-title">\n    <choose>\n      <if type="article-magazine article-newspaper review review-book" match="any">\n        <text macro="container-title"/>\n      </if>\n    </choose>\n  </macro>\n  <macro name="contributors">\n    <group delimiter=". ">\n      <names variable="author">\n        <name and="text" name-as-sort-order="first" sort-separator=", " delimiter=", " delimiter-precedes-last="always"/>\n        <label form="short" prefix=", "/>\n        <substitute>\n          <names variable="editor"/>\n          <names variable="translator"/>\n          <names variable="director"/>\n          <text macro="substitute-title"/>\n          <text macro="title"/>\n        </substitute>\n      </names>\n      <text macro="recipient"/>\n    </group>\n  </macro>\n  <macro name="contributors-short">\n    <names variable="author">\n      <name form="short" and="text" delimiter=", " initialize-with=". "/>\n      <substitute>\n        <names variable="editor"/>\n        <names variable="translator"/>\n        <names variable="director"/>\n        <text macro="substitute-title"/>\n        <text macro="title"/>\n      </substitute>\n    </names>\n  </macro>\n  <macro name="interviewer">\n    <names variable="interviewer" delimiter=", ">\n      <label form="verb" prefix=" " text-case="capitalize-first" suffix=" "/>\n      <name and="text" delimiter=", "/>\n    </names>\n  </macro>\n  <macro name="archive">\n    <group delimiter=". ">\n      <text variable="archive_location" text-case="capitalize-first"/>\n      <text variable="archive"/>\n      <text variable="archive-place"/>\n    </group>\n  </macro>\n  <macro name="access">\n    <group delimiter=". ">\n      <choose>\n        <if type="graphic report" match="any">\n          <text macro="archive"/>\n        </if>\n        <else-if type="article-journal bill book chapter legal_case legislation motion_picture paper-conference" match="none">\n          <text macro="archive"/>\n        </else-if>\n      </choose>\n      <choose>\n        <if type="webpage post-weblog" match="any">\n          <date variable="issued" form="text"/>\n        </if>\n      </choose>\n      <choose>\n        <if variable="issued" match="none">\n          <group delimiter=" ">\n            <text term="accessed" text-case="capitalize-first"/>\n            <date variable="accessed" form="text"/>\n          </group>\n        </if>\n      </choose>\n      <choose>\n        <if type="legal_case" match="none">\n          <choose>\n            <if variable="DOI">\n              <text variable="DOI" prefix="https://doi.org/"/>\n            </if>\n            <else>\n              <text variable="URL"/>\n            </else>\n          </choose>\n        </if>\n      </choose>\n    </group>\n  </macro>\n  <macro name="title">\n    <choose>\n      <if variable="title" match="none">\n        <choose>\n          <if type="personal_communication" match="none">\n            <text variable="genre" text-case="capitalize-first"/>\n          </if>\n        </choose>\n      </if>\n      <else-if type="bill book graphic legislation motion_picture song" match="any">\n        <text variable="title" text-case="title" font-style="italic"/>\n        <group prefix=" (" suffix=")" delimiter=" ">\n          <text term="version"/>\n          <text variable="version"/>\n        </group>\n      </else-if>\n      <else-if variable="reviewed-author">\n        <choose>\n          <if variable="reviewed-title">\n            <group delimiter=". ">\n              <text variable="title" text-case="title" quotes="true"/>\n              <group delimiter=", ">\n                <text variable="reviewed-title" text-case="title" font-style="italic" prefix="Review of "/>\n                <names variable="reviewed-author">\n                  <label form="verb-short" text-case="lowercase" suffix=" "/>\n                  <name and="text" delimiter=", "/>\n                </names>\n              </group>\n            </group>\n          </if>\n          <else>\n            <group delimiter=", ">\n              <text variable="title" text-case="title" font-style="italic" prefix="Review of "/>\n              <names variable="reviewed-author">\n                <label form="verb-short" text-case="lowercase" suffix=" "/>\n                <name and="text" delimiter=", "/>\n              </names>\n            </group>\n          </else>\n        </choose>\n      </else-if>\n      <else-if type="legal_case interview patent" match="any">\n        <text variable="title"/>\n      </else-if>\n      <else>\n        <text variable="title" text-case="title" quotes="true"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="edition">\n    <choose>\n      <if type="bill book graphic legal_case legislation motion_picture report song" match="any">\n        <choose>\n          <if is-numeric="edition">\n            <group delimiter=" " prefix=". ">\n              <number variable="edition" form="ordinal"/>\n              <text term="edition" form="short" strip-periods="true"/>\n            </group>\n          </if>\n          <else>\n            <text variable="edition" text-case="capitalize-first" prefix=". "/>\n          </else>\n        </choose>\n      </if>\n      <else-if type="chapter paper-conference" match="any">\n        <choose>\n          <if is-numeric="edition">\n            <group delimiter=" " prefix=", ">\n              <number variable="edition" form="ordinal"/>\n              <text term="edition" form="short"/>\n            </group>\n          </if>\n          <else>\n            <text variable="edition" prefix=", "/>\n          </else>\n        </choose>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="locators">\n    <choose>\n      <if type="article-journal">\n        <choose>\n          <if variable="volume">\n            <text variable="volume" prefix=" "/>\n            <group prefix=" (" suffix=")">\n              <choose>\n                <if variable="issue">\n                  <text variable="issue"/>\n                </if>\n                <else>\n                  <date variable="issued">\n                    <date-part name="month"/>\n                  </date>\n                </else>\n              </choose>\n            </group>\n          </if>\n          <else-if variable="issue">\n            <group delimiter=" " prefix=", ">\n              <text term="issue" form="short"/>\n              <text variable="issue"/>\n              <date variable="issued" prefix="(" suffix=")">\n                <date-part name="month"/>\n              </date>\n            </group>\n          </else-if>\n          <else>\n            <date variable="issued" prefix=", ">\n              <date-part name="month"/>\n            </date>\n          </else>\n        </choose>\n      </if>\n      <else-if type="legal_case">\n        <text variable="volume" prefix=", "/>\n        <text variable="container-title" prefix=" "/>\n        <text variable="page" prefix=" "/>\n      </else-if>\n      <else-if type="bill book graphic legal_case legislation motion_picture report song" match="any">\n        <group prefix=". " delimiter=". ">\n          <group>\n            <text term="volume" form="short" text-case="capitalize-first" suffix=" "/>\n            <number variable="volume" form="numeric"/>\n          </group>\n          <group>\n            <number variable="number-of-volumes" form="numeric"/>\n            <text term="volume" form="short" prefix=" " plural="true"/>\n          </group>\n        </group>\n      </else-if>\n      <else-if type="chapter paper-conference" match="any">\n        <choose>\n          <if variable="page" match="none">\n            <group prefix=". ">\n              <text term="volume" form="short" text-case="capitalize-first" suffix=" "/>\n              <number variable="volume" form="numeric"/>\n            </group>\n          </if>\n        </choose>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="locators-chapter">\n    <choose>\n      <if type="chapter paper-conference" match="any">\n        <choose>\n          <if variable="page">\n            <group prefix=", ">\n              <text variable="volume" suffix=":"/>\n              <text variable="page"/>\n            </group>\n          </if>\n        </choose>\n      </if>\n    </choose>\n  </macro>\n  <macro name="locators-article">\n    <choose>\n      <if type="article-newspaper">\n        <group prefix=", " delimiter=", ">\n          <group delimiter=" ">\n            <text variable="edition"/>\n            <text term="edition"/>\n          </group>\n          <group>\n            <text term="section" form="short" suffix=" "/>\n            <text variable="section"/>\n          </group>\n        </group>\n      </if>\n      <else-if type="article-journal">\n        <choose>\n          <if variable="volume issue" match="any">\n            <text variable="page" prefix=": "/>\n          </if>\n          <else>\n            <text variable="page" prefix=", "/>\n          </else>\n        </choose>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="point-locators">\n    <choose>\n      <if variable="locator">\n        <choose>\n          <if locator="page" match="none">\n            <choose>\n              <if type="bill book graphic legal_case legislation motion_picture report song" match="any">\n                <choose>\n                  <if variable="volume">\n                    <group>\n                      <text term="volume" form="short" suffix=" "/>\n                      <number variable="volume" form="numeric"/>\n                      <label variable="locator" form="short" prefix=", " suffix=" "/>\n                    </group>\n                  </if>\n                  <else>\n                    <label variable="locator" form="short" suffix=" "/>\n                  </else>\n                </choose>\n              </if>\n              <else>\n                <label variable="locator" form="short" suffix=" "/>\n              </else>\n            </choose>\n          </if>\n          <else-if type="bill book graphic legal_case legislation motion_picture report song" match="any">\n            <number variable="volume" form="numeric" suffix=":"/>\n          </else-if>\n        </choose>\n        <text variable="locator"/>\n      </if>\n    </choose>\n  </macro>\n  <macro name="container-prefix">\n    <text term="in" text-case="capitalize-first"/>\n  </macro>\n  <macro name="container-title">\n    <choose>\n      <if type="chapter paper-conference" match="any">\n        <text macro="container-prefix" suffix=" "/>\n      </if>\n    </choose>\n    <choose>\n      <if type="webpage">\n        <text variable="container-title" text-case="title"/>\n      </if>\n      <else-if type="legal_case" match="none">\n        <group delimiter=" ">\n          <text variable="container-title" text-case="title" font-style="italic"/>\n          <choose>\n            <if type="post-weblog">\n              <text value="(blog)"/>\n            </if>\n          </choose>\n        </group>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="publisher">\n    <group delimiter=": ">\n      <text variable="publisher-place"/>\n      <text variable="publisher"/>\n    </group>\n  </macro>\n  <macro name="date">\n    <choose>\n      <if variable="issued">\n        <group delimiter=" ">\n          <date variable="original-date" form="text" date-parts="year" prefix="(" suffix=")"/>\n          <date variable="issued">\n            <date-part name="year"/>\n          </date>\n        </group>\n      </if>\n      <else-if variable="status">\n        <text variable="status" text-case="capitalize-first"/>\n      </else-if>\n      <else>\n        <text term="no date" form="short"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="date-in-text">\n    <choose>\n      <if variable="issued">\n        <group delimiter=" ">\n          <date variable="original-date" form="text" date-parts="year" prefix="[" suffix="]"/>\n          <date variable="issued">\n            <date-part name="year"/>\n          </date>\n        </group>\n      </if>\n      <else-if variable="status">\n        <text variable="status"/>\n      </else-if>\n      <else>\n        <text term="no date" form="short"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="day-month">\n    <date variable="issued">\n      <date-part name="month"/>\n      <date-part name="day" prefix=" "/>\n    </date>\n  </macro>\n  <macro name="collection-title">\n    <choose>\n      <if match="none" type="article-journal">\n        <choose>\n          <if match="none" is-numeric="collection-number">\n            <group delimiter=", ">\n              <text variable="collection-title" text-case="title"/>\n              <text variable="collection-number"/>\n            </group>\n          </if>\n          <else>\n            <group delimiter=" ">\n              <text variable="collection-title" text-case="title"/>\n              <text variable="collection-number"/>\n            </group>\n          </else>\n        </choose>\n      </if>\n    </choose>\n  </macro>\n  <macro name="collection-title-journal">\n    <choose>\n      <if type="article-journal">\n        <group delimiter=" ">\n          <text variable="collection-title"/>\n          <text variable="collection-number"/>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <macro name="event">\n    <group>\n      <text term="presented at" suffix=" "/>\n      <text variable="event"/>\n    </group>\n  </macro>\n  <macro name="description">\n    <choose>\n      <if type="interview">\n        <group delimiter=". ">\n          <text macro="interviewer"/>\n          <text variable="medium" text-case="capitalize-first"/>\n        </group>\n      </if>\n      <else-if type="patent">\n        <group delimiter=" " prefix=". ">\n          <text variable="authority"/>\n          <text variable="number"/>\n        </group>\n      </else-if>\n      <else>\n        <text variable="medium" text-case="capitalize-first" prefix=". "/>\n      </else>\n    </choose>\n    <choose>\n      <if variable="title" match="none"/>\n      <else-if type="thesis personal_communication speech" match="any"/>\n      <else>\n        <group delimiter=" " prefix=". ">\n          <text variable="genre" text-case="capitalize-first"/>\n          <choose>\n            <if type="report">\n              <text variable="number"/>\n            </if>\n          </choose>\n        </group>\n      </else>\n    </choose>\n  </macro>\n  <macro name="issue">\n    <choose>\n      <if type="legal_case">\n        <text variable="authority" prefix=". "/>\n      </if>\n      <else-if type="speech">\n        <group prefix=". " delimiter=", ">\n          <group delimiter=" ">\n            <text variable="genre" text-case="capitalize-first"/>\n            <text macro="event"/>\n          </group>\n          <text variable="event-place"/>\n          <text macro="day-month"/>\n        </group>\n      </else-if>\n      <else-if type="article-newspaper article-magazine personal_communication" match="any">\n        <date variable="issued" form="text" prefix=", "/>\n      </else-if>\n      <else-if type="patent">\n        <group delimiter=", " prefix=", ">\n          <group delimiter=" ">\n            \x3c!--Needs Localization--\x3e\n            <text value="filed"/>\n            <date variable="submitted" form="text"/>\n          </group>\n          <group delimiter=" ">\n            <choose>\n              <if variable="issued submitted" match="all">\n                <text term="and"/>\n              </if>\n            </choose>\n            \x3c!--Needs Localization--\x3e\n            <text value="issued"/>\n            <date variable="issued" form="text"/>\n          </group>\n        </group>\n      </else-if>\n      <else>\n        <group prefix=". " delimiter=", ">\n          <choose>\n            <if type="thesis">\n              <text variable="genre" text-case="capitalize-first"/>\n            </if>\n          </choose>\n          <text macro="publisher"/>\n        </group>\n      </else>\n    </choose>\n  </macro>\n  <citation et-al-min="4" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" givenname-disambiguation-rule="primary-name" collapse="year">\n    <layout prefix="(" suffix=")" delimiter="; ">\n      <group delimiter=", ">\n        <choose>\n          <if variable="issued accessed" match="any">\n            <group delimiter=" ">\n              <text macro="contributors-short"/>\n              <text macro="date-in-text"/>\n            </group>\n          </if>\n          \x3c!---comma before forthcoming and n.d.--\x3e\n          <else>\n            <group delimiter=", ">\n              <text macro="contributors-short"/>\n              <text macro="date-in-text"/>\n            </group>\n          </else>\n        </choose>\n        <text macro="point-locators"/>\n      </group>\n    </layout>\n  </citation>\n  <bibliography hanging-indent="true" et-al-min="11" et-al-use-first="7" subsequent-author-substitute="&#8212;&#8212;&#8212;" entry-spacing="0">\n    <sort>\n      <key macro="contributors"/>\n      <key variable="issued"/>\n      <key variable="title"/>\n    </sort>\n    <layout suffix=".">\n      <group delimiter=". ">\n        <text macro="contributors"/>\n        <text macro="date"/>\n        <text macro="title"/>\n      </group>\n      <text macro="description"/>\n      <text macro="secondary-contributors" prefix=". "/>\n      <text macro="container-title" prefix=". "/>\n      <text macro="container-contributors"/>\n      <text macro="edition"/>\n      <text macro="locators-chapter"/>\n      <text macro="collection-title-journal" prefix=", " suffix=", "/>\n      <text macro="locators"/>\n      <text macro="collection-title" prefix=". "/>\n      <text macro="issue"/>\n      <text macro="locators-article"/>\n      <text macro="access" prefix=". "/>\n    </layout>\n  </bibliography>\n</style>\n'},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="minimal-two">\n  <info>\n    <title>Modern Language Association 8th edition</title>\n    <title-short>MLA</title-short>\n    <id>http://www.zotero.org/styles/modern-language-association</id>\n    <link href="http://www.zotero.org/styles/modern-language-association" rel="self"/>\n    <link href="http://style.mla.org" rel="documentation"/>\n    <author>\n      <name>Sebastian Karcher</name>\n    </author>\n    <category citation-format="author"/>\n    <category field="generic-base"/>\n    <summary>This style adheres to the MLA 8th edition handbook. Follows the structure of references as outlined in the MLA Manual closely</summary>\n    <updated>2014-07-06T20:05:10+00:00</updated>\n    <rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights>\n  </info>\n  <locale xml:lang="en">\n    <date form="text">\n      <date-part name="day" suffix=" "/>\n      <date-part name="month" suffix=" " form="short"/>\n      <date-part name="year"/>\n    </date>\n    <terms>\n      <term name="month-01" form="short">Jan.</term>\n      <term name="month-02" form="short">Feb.</term>\n      <term name="month-03" form="short">Mar.</term>\n      <term name="month-04" form="short">Apr.</term>\n      <term name="month-05" form="short">May</term>\n      <term name="month-06" form="short">June</term>\n      <term name="month-07" form="short">July</term>\n      <term name="month-08" form="short">Aug.</term>\n      <term name="month-09" form="short">Sept.</term>\n      <term name="month-10" form="short">Oct.</term>\n      <term name="month-11" form="short">Nov.</term>\n      <term name="month-12" form="short">Dec.</term>\n      <term name="translator" form="short">trans.</term>\n    </terms>\n  </locale>\n  <macro name="author">\n    <names variable="author">\n      <name name-as-sort-order="first" and="text" delimiter-precedes-last="always" delimiter-precedes-et-al="always" initialize="false" initialize-with=". "/>\n      <label form="long" prefix=", "/>\n      <substitute>\n        <names variable="editor"/>\n        <names variable="translator"/>\n        <text macro="title"/>\n      </substitute>\n    </names>\n  </macro>\n  <macro name="author-short">\n    <group delimiter=", ">\n      <names variable="author">\n        <name form="short" initialize-with=". " and="text"/>\n        <substitute>\n          <names variable="editor"/>\n          <names variable="translator"/>\n          <text macro="title-short"/>\n        </substitute>\n      </names>\n      <choose>\n        <if disambiguate="true">\n          <text macro="title-short"/>\n        </if>\n      </choose>\n    </group>\n  </macro>\n  <macro name="title">\n    <choose>\n      <if variable="container-title" match="any">\n        <text variable="title" quotes="true" text-case="title"/>\n      </if>\n      <else>\n        <text variable="title" font-style="italic" text-case="title"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="title-short">\n    <choose>\n      <if variable="container-title" match="any">\n        <text variable="title" form="short" quotes="true" text-case="title"/>\n      </if>\n      <else>\n        <text variable="title" form="short" font-style="italic" text-case="title"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="container-title">\n    <text variable="container-title" font-style="italic" text-case="title"/>\n  </macro>\n  <macro name="other-contributors">\n    <choose>\n      <if variable="container-title" match="any">\n        <names variable="interviewer editor translator" delimiter=", ">\n          <label form="verb" suffix=" "/>\n          <name and="text"/>\n        </names>\n      </if>\n      <else>\n        <names variable="interviewer editor translator" delimiter=", ">\n          <label form="verb" suffix=" " text-case="capitalize-first"/>\n          <name and="text"/>\n        </names>\n      </else>\n    </choose>\n  </macro>\n  <macro name="version">\n    <group delimiter=", ">\n      <choose>\n        <if is-numeric="edition">\n          <group delimiter=" ">\n            <number variable="edition" form="ordinal"/>\n            <text term="edition" form="short"/>\n          </group>\n        </if>\n        <else>\n          <text variable="edition" text-case="capitalize-first"/>\n        </else>\n      </choose>\n      <text variable="version"/>\n    </group>\n  </macro>\n  <macro name="number">\n    <group delimiter=", ">\n      <group>\n        <choose>\n          \x3c!--lowercase if we have a preceding element--\x3e\n          <if variable="edition container-title" match="any">\n            <group delimiter=" ">\n              <text term="volume" form="short"/>\n              <text variable="volume"/>\n            </group>\n          </if>\n          \x3c!--other contributors preceding the volume--\x3e\n          <else-if variable="author editor" match="all">\n            <group delimiter=" ">\n              <text term="volume" form="short"/>\n              <text variable="volume"/>\n            </group>\n          </else-if>\n          <else>\n            <group delimiter=" ">\n              <text term="volume" form="short" text-case="capitalize-first"/>\n              <text variable="volume"/>\n            </group>\n          </else>\n        </choose>\n      </group>\n      <group delimiter=" ">\n        <text term="issue" form="short"/>\n        <text variable="issue"/>\n      </group>\n      <choose>\n        <if type="report">\n          <text variable="genre"/>\n        </if>\n      </choose>\n      <text variable="number"/>\n    </group>\n  </macro>\n  <macro name="publisher">\n    <text variable="publisher"/>\n  </macro>\n  <macro name="publication-date">\n    <choose>\n      <if type="book chapter paper-conference motion_picture" match="any">\n        <date variable="issued" form="numeric" date-parts="year"/>\n      </if>\n      <else-if type="article-journal article-magazine" match="any">\n        <date variable="issued" form="text" date-parts="year-month"/>\n      </else-if>\n      <else-if type="speech" match="none">\n        <date variable="issued" form="text"/>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="location">\n    <group delimiter=", ">\n      <group delimiter=" ">\n        <label variable="page" form="short"/>\n        <text variable="page"/>\n      </group>\n      <choose>\n        <if variable="source" match="none">\n          <text macro="URI"/>\n        </if>\n      </choose>\n    </group>\n  </macro>\n  <macro name="container2-title">\n    <group delimiter=", ">\n      <choose>\n        <if type="speech">\n          <text variable="event"/>\n          <date variable="event-date" form="text"/>\n          <text variable="event-place"/>\n        </if>\n      </choose>\n      <text variable="archive"/>\n      <text variable="archive-place"/>\n      <text variable="archive_location"/>\n    </group>\n  </macro>\n  <macro name="container2-location">\n    <choose>\n      <if variable="source">\n        <choose>\n          <if variable="DOI URL" match="any">\n            <group delimiter=", ">\n              <text variable="source" font-style="italic"/>\n              <text macro="URI"/>\n            </group>\n          </if>\n        </choose>\n      </if>\n    </choose>\n  </macro>\n  <macro name="URI">\n    <choose>\n      <if variable="DOI">\n        <text variable="DOI" prefix="doi:"/>\n      </if>\n      <else>\n        <text variable="URL"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="accessed">\n    \x3c!--using accessed where we don\'t have an issued date; follows recommendation on p. 53 --\x3e\n    <choose>\n      <if variable="issued" match="none">\n        <group delimiter=" ">\n          <text term="accessed" text-case="capitalize-first"/>\n          <date variable="accessed" form="text"/>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <citation et-al-min="3" et-al-use-first="1" disambiguate-add-names="true" disambiguate-add-givenname="true">\n    <layout prefix="(" suffix=")" delimiter="; ">\n      <choose>\n        <if locator="page">\n          <group delimiter=" ">\n            <text macro="author-short"/>\n            <text variable="locator"/>\n          </group>\n        </if>\n        <else>\n          <group delimiter=", ">\n            <text macro="author-short"/>\n            <group>\n              <label variable="locator" form="short"/>\n              <text variable="locator"/>\n            </group>\n          </group>\n        </else>\n      </choose>\n    </layout>\n  </citation>\n  <bibliography hanging-indent="true" et-al-min="3" et-al-use-first="1" line-spacing="2" entry-spacing="0" subsequent-author-substitute="---">\n    <sort>\n      <key macro="author"/>\n      <key variable="title"/>\n    </sort>\n    <layout suffix=".">\n      <group delimiter=". ">\n        <text macro="author"/>\n        <text macro="title"/>\n        <date variable="original-date" form="numeric" date-parts="year"/>\n        <group delimiter=", ">\n          \x3c!---This group corresponds to MLA\'s "Container 1"--\x3e\n          <text macro="container-title"/>\n          <text macro="other-contributors"/>\n          <text macro="version"/>\n          <text macro="number"/>\n          <text macro="publisher"/>\n          <text macro="publication-date"/>\n          <text macro="location"/>\n        </group>\n        <group delimiter=", ">\n          \x3c!---This group corresponds to MLA\'s "Container 2"--\x3e\n          \x3c!--currently just using this one for archival info--\x3e\n          <text macro="container2-title"/>\n          <text macro="container2-location"/>\n        </group>\n        <text macro="accessed"/>\n      </group>\n    </layout>\n  </bibliography>\n</style>\n'},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="expanded">\n  <info>\n    <title>American Psychological Association 6th edition</title>\n    <title-short>APA</title-short>\n    <id>http://www.zotero.org/styles/apa</id>\n    <link href="http://www.zotero.org/styles/apa" rel="self"/>\n    <link href="http://owl.english.purdue.edu/owl/resource/560/01/" rel="documentation"/>\n    <author>\n      <name>Simon Kornblith</name>\n      <email>simon@simonster.com</email>\n    </author>\n    <contributor>\n      <name>Bruce D\'Arcus</name>\n    </contributor>\n    <contributor>\n      <name>Curtis M. Humphrey</name>\n    </contributor>\n    <contributor>\n      <name>Richard Karnesky</name>\n      <email>karnesky+zotero@gmail.com</email>\n      <uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri>\n    </contributor>\n    <contributor>\n      <name>Sebastian Karcher</name>\n    </contributor>\n    <contributor>\n      <name> Brenton M. Wiernik</name>\n      <email>zotero@wiernik.org</email>\n    </contributor>\n    <category citation-format="author-date"/>\n    <category field="psychology"/>\n    <category field="generic-base"/>\n    <updated>2016-09-28T13:09:49+00:00</updated>\n    <rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights>\n  </info>\n  <locale xml:lang="en">\n    <terms>\n      <term name="editortranslator" form="short">\n        <single>ed. &amp; trans.</single>\n        <multiple>eds. &amp; trans.</multiple>\n      </term>\n      <term name="translator" form="short">\n        <single>trans.</single>\n        <multiple>trans.</multiple>\n      </term>\n    </terms>\n  </locale>\n  <macro name="container-contributors">\n    <choose>\n      <if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any">\n        <group delimiter=", ">\n          <names variable="container-author" delimiter=", ">\n            <name and="symbol" initialize-with=". " delimiter=", "/>\n            <label form="short" prefix=" (" text-case="title" suffix=")"/>\n          </names>\n          <names variable="editor translator" delimiter=", ">\n            <name and="symbol" initialize-with=". " delimiter=", "/>\n            <label form="short" prefix=" (" text-case="title" suffix=")"/>\n          </names>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <macro name="secondary-contributors">\n    <choose>\n      <if type="article-journal chapter paper-conference entry-dictionary entry-encyclopedia" match="none">\n        <group delimiter=", " prefix=" (" suffix=")">\n          <names variable="container-author" delimiter=", ">\n            <name and="symbol" initialize-with=". " delimiter=", "/>\n            <label form="short" prefix=", " text-case="title"/>\n          </names>\n          <names variable="editor translator" delimiter=", ">\n            <name and="symbol" initialize-with=". " delimiter=", "/>\n            <label form="short" prefix=", " text-case="title"/>\n          </names>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <macro name="author">\n    <names variable="author">\n      <name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/>\n      <label form="short" prefix=" (" suffix=")" text-case="capitalize-first"/>\n      <substitute>\n        <names variable="editor"/>\n        <names variable="translator"/>\n        <choose>\n          <if type="report">\n            <text variable="publisher"/>\n            <text macro="title"/>\n          </if>\n          <else>\n            <text macro="title"/>\n          </else>\n        </choose>\n      </substitute>\n    </names>\n  </macro>\n  <macro name="author-short">\n    <choose>\n      <if type="patent" variable="number" match="all">\n        <text macro="patent-number"/>\n      </if>\n      <else>\n        <names variable="author">\n          <name form="short" and="symbol" delimiter=", " initialize-with=". "/>\n          <substitute>\n            <names variable="editor"/>\n            <names variable="translator"/>\n            <choose>\n              <if type="report">\n                <text variable="publisher"/>\n                <text variable="title" form="short" font-style="italic"/>\n              </if>\n              <else-if type="legal_case">\n                <text variable="title" font-style="italic"/>\n              </else-if>\n              <else-if type="book graphic  motion_picture song" match="any">\n                <text variable="title" form="short" font-style="italic"/>\n              </else-if>\n              <else-if type="bill legislation" match="any">\n                <text variable="title" form="short"/>\n              </else-if>\n              <else-if variable="reviewed-author">\n                <choose>\n                  <if variable="reviewed-title" match="none">\n                    <text variable="title" form="short" font-style="italic" prefix="Review of "/>\n                  </if>\n                  <else>\n                    <text variable="title" form="short" quotes="true"/>\n                  </else>\n                </choose>\n              </else-if>\n              <else>\n                <text variable="title" form="short" quotes="true"/>\n              </else>\n            </choose>\n          </substitute>\n        </names>\n      </else>\n    </choose>\n  </macro>\n  <macro name="patent-number">\n    \x3c!-- genre: U.S. Patent number: 123,445--\x3e\n    <group delimiter=" ">\n      <group delimiter=" ">\n        <text variable="genre"/>\n        <text term="issue" form="short" text-case="capitalize-first"/>\n      </group>\n      <text variable="number"/>\n    </group>\n  </macro>\n  <macro name="access">\n    <choose>\n      <if type="thesis report" match="any">\n        <choose>\n          <if variable="DOI" match="any">\n            <text variable="DOI" prefix="https://doi.org/"/>\n          </if>\n          <else-if variable="URL" match="any">\n            <group>\n              <text term="retrieved" text-case="capitalize-first" suffix=" "/>\n              <text term="from" suffix=" "/>\n              <text variable="URL"/>\n            </group>\n          </else-if>\n          <else-if variable="archive" match="any">\n            <group>\n              <text term="retrieved" text-case="capitalize-first" suffix=" "/>\n              <text term="from" suffix=" "/>\n              <text variable="archive" suffix="."/>\n              <text variable="archive_location" prefix=" (" suffix=")"/>\n            </group>\n          </else-if>\n        </choose>\n      </if>\n      <else>\n        <choose>\n          <if variable="DOI">\n            <text variable="DOI" prefix="https://doi.org/"/>\n          </if>\n          <else>\n            <choose>\n              <if type="post post-weblog webpage" match="any">\n                <group delimiter=" ">\n                  <text term="retrieved" text-case="capitalize-first" suffix=" "/>\n                  <group>\n                    <date variable="accessed" form="text" suffix=", "/>\n                  </group>\n                  <text term="from"/>\n                  <text variable="URL"/>\n                </group>\n              </if>\n              <else>\n                <group>\n                  <text term="retrieved" text-case="capitalize-first" suffix=" "/>\n                  <text term="from" suffix=" "/>\n                  <text variable="URL"/>\n                </group>\n              </else>\n            </choose>\n          </else>\n        </choose>\n      </else>\n    </choose>\n  </macro>\n  <macro name="title">\n    <choose>\n      <if type="book dataset graphic manuscript motion_picture report song speech thesis" match="any">\n        <choose>\n          <if variable="version" type="book" match="all">\n            \x3c!---This is a hack until we have a computer program type --\x3e\n            <text variable="title"/>\n          </if>\n          <else>\n            <text variable="title" font-style="italic"/>\n          </else>\n        </choose>\n      </if>\n      <else-if variable="reviewed-author">\n        <choose>\n          <if variable="reviewed-title">\n            <group delimiter=" ">\n              <text variable="title"/>\n              <group delimiter=", " prefix="[" suffix="]">\n                <text variable="reviewed-title" font-style="italic" prefix="Review of "/>\n                <names variable="reviewed-author" delimiter=", ">\n                  <label form="verb-short" suffix=" "/>\n                  <name and="symbol" initialize-with=". " delimiter=", "/>\n                </names>\n              </group>\n            </group>\n          </if>\n          <else>\n            \x3c!-- assume `title` is title of reviewed work --\x3e\n            <group delimiter=", " prefix="[" suffix="]">\n              <text variable="title" font-style="italic" prefix="Review of "/>\n              <names variable="reviewed-author" delimiter=", ">\n                <label form="verb-short" suffix=" "/>\n                <name and="symbol" initialize-with=". " delimiter=", "/>\n              </names>\n            </group>\n          </else>\n        </choose>\n      </else-if>\n      <else-if type="patent" variable="number" match="all">\n        <text macro="patent-number" font-style="italic"/>\n      </else-if>\n      <else>\n        <text variable="title"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="title-plus-extra">\n    <text macro="title"/>\n    <choose>\n      <if type="report thesis" match="any">\n        <group prefix=" (" suffix=")" delimiter=", ">\n          <group delimiter=" ">\n            <choose>\n              <if variable="genre" match="any">\n                <text variable="genre"/>\n              </if>\n              <else>\n                <text variable="collection-title"/>\n              </else>\n            </choose>\n            <text variable="number" prefix="No. "/>\n          </group>\n          <group delimiter=" ">\n            <text term="version" text-case="capitalize-first"/>\n            <text variable="version"/>\n          </group>\n          <text macro="edition"/>\n        </group>\n      </if>\n      <else-if type="post-weblog webpage" match="any">\n        <text variable="genre" prefix=" [" suffix="]"/>\n      </else-if>\n      <else-if variable="version">\n        <group delimiter=" " prefix=" (" suffix=")">\n          <text term="version" text-case="capitalize-first"/>\n          <text variable="version"/>\n        </group>\n      </else-if>\n    </choose>\n    <text macro="format" prefix=" [" suffix="]"/>\n  </macro>\n  <macro name="format">\n    <choose>\n      <if match="any" variable="medium">\n        <text variable="medium" text-case="capitalize-first"/>\n      </if>\n      <else-if type="dataset" match="any">\n        <choose>\n          <if variable="genre">\n            <text variable="genre" text-case="capitalize-first"/>\n          </if>\n          <else>\n            \x3c!-- This should be localized --\x3e\n            <text value="Data set"/>\n          </else>\n        </choose>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="publisher">\n    <choose>\n      <if type="report" match="any">\n        <group delimiter=": ">\n          <text variable="publisher-place"/>\n          <text variable="publisher"/>\n        </group>\n      </if>\n      <else-if type="thesis" match="any">\n        <group delimiter=", ">\n          <text variable="publisher"/>\n          <text variable="publisher-place"/>\n        </group>\n      </else-if>\n      <else-if type="patent">\n        <group delimiter=": ">\n          <text variable="publisher-place"/>\n          <choose>\n            <if variable="publisher">\n              <text variable="publisher"/>\n            </if>\n            <else>\n              <text variable="authority"/>\n            </else>\n          </choose>\n        </group>\n      </else-if>\n      <else-if type="post-weblog webpage" match="none">\n        <group delimiter=", ">\n          <choose>\n            <if variable="event version" type="speech dataset motion_picture" match="none">\n              \x3c!-- Including version is to avoid printing the programming language for computerProgram /--\x3e\n              <text variable="genre"/>\n            </if>\n          </choose>\n          <choose>\n            <if type="article-journal article-magazine article-newspaper" match="none">\n              <group delimiter=": ">\n                <choose>\n                  <if variable="publisher-place">\n                    <text variable="publisher-place"/>\n                  </if>\n                  <else>\n                    <text variable="event-place"/>\n                  </else>\n                </choose>\n                <text variable="publisher"/>\n              </group>\n            </if>\n          </choose>\n        </group>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="event">\n    <choose>\n      <if variable="container-title" match="none">\n        <choose>\n          <if variable="event">\n            <choose>\n              <if variable="genre" match="none">\n                <text term="presented at" text-case="capitalize-first" suffix=" "/>\n                <text variable="event"/>\n              </if>\n              <else>\n                <group delimiter=" ">\n                  <text variable="genre" text-case="capitalize-first"/>\n                  <text term="presented at"/>\n                  <text variable="event"/>\n                </group>\n              </else>\n            </choose>\n          </if>\n          <else-if type="speech">\n            <text variable="genre" text-case="capitalize-first"/>\n          </else-if>\n        </choose>\n      </if>\n    </choose>\n  </macro>\n  <macro name="issued">\n    <choose>\n      <if type="bill legal_case legislation" match="none">\n        <choose>\n          <if variable="issued">\n            <group prefix=" (" suffix=")">\n              <date variable="issued">\n                <date-part name="year"/>\n              </date>\n              <text variable="year-suffix"/>\n              <choose>\n                <if type="speech" match="any">\n                  <date variable="issued">\n                    <date-part prefix=", " name="month"/>\n                  </date>\n                </if>\n                <else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none">\n                  <date variable="issued">\n                    <date-part prefix=", " name="month"/>\n                    <date-part prefix=" " name="day"/>\n                  </date>\n                </else-if>\n              </choose>\n            </group>\n          </if>\n          <else-if variable="status">\n            <group prefix=" (" suffix=")">\n              <text variable="status"/>\n              <text variable="year-suffix" prefix="-"/>\n            </group>\n          </else-if>\n          <else>\n            <group prefix=" (" suffix=")">\n              <text term="no date" form="short"/>\n              <text variable="year-suffix" prefix="-"/>\n            </group>\n          </else>\n        </choose>\n      </if>\n    </choose>\n  </macro>\n  <macro name="issued-sort">\n    <choose>\n      <if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none">\n        <date variable="issued">\n          <date-part name="year"/>\n          <date-part name="month"/>\n          <date-part name="day"/>\n        </date>\n      </if>\n      <else>\n        <date variable="issued">\n          <date-part name="year"/>\n        </date>\n      </else>\n    </choose>\n  </macro>\n  <macro name="issued-year">\n    <choose>\n      <if variable="issued">\n        <group delimiter="/">\n          <date variable="original-date">\n            <date-part name="year"/>\n          </date>\n          <group>\n            <date variable="issued">\n              <date-part name="year"/>\n            </date>\n            <text variable="year-suffix"/>\n          </group>\n        </group>\n      </if>\n      <else-if variable="status">\n        <text variable="status"/>\n        <text variable="year-suffix" prefix="-"/>\n      </else-if>\n      <else>\n        <text term="no date" form="short"/>\n        <text variable="year-suffix" prefix="-"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="edition">\n    <choose>\n      <if is-numeric="edition">\n        <group delimiter=" ">\n          <number variable="edition" form="ordinal"/>\n          <text term="edition" form="short"/>\n        </group>\n      </if>\n      <else>\n        <text variable="edition"/>\n      </else>\n    </choose>\n  </macro>\n  <macro name="locators">\n    <choose>\n      <if type="article-journal article-magazine" match="any">\n        <group prefix=", " delimiter=", ">\n          <group>\n            <text variable="volume" font-style="italic"/>\n            <text variable="issue" prefix="(" suffix=")"/>\n          </group>\n          <text variable="page"/>\n        </group>\n        <choose>\n          \x3c!--for advanced online publication--\x3e\n          <if variable="issued">\n            <choose>\n              <if variable="page issue" match="none">\n                <text variable="status" prefix=". "/>\n              </if>\n            </choose>\n          </if>\n        </choose>\n      </if>\n      <else-if type="article-newspaper">\n        <group delimiter=" " prefix=", ">\n          <label variable="page" form="short"/>\n          <text variable="page"/>\n        </group>\n      </else-if>\n      <else-if type="book graphic motion_picture report song chapter paper-conference entry-encyclopedia entry-dictionary" match="any">\n        <group prefix=" (" suffix=")" delimiter=", ">\n          <choose>\n            <if type="report" match="none">\n              \x3c!-- edition for report is included in title-plus-extra /--\x3e\n              <text macro="edition"/>\n            </if>\n          </choose>\n          <choose>\n            <if variable="volume" match="any">\n              <group>\n                <text term="volume" form="short" text-case="capitalize-first" suffix=" "/>\n                <number variable="volume" form="numeric"/>\n              </group>\n            </if>\n            <else>\n              <group>\n                <text term="volume" form="short" plural="true" text-case="capitalize-first" suffix=" "/>\n                <number variable="number-of-volumes" form="numeric" prefix="1&#8211;"/>\n              </group>\n            </else>\n          </choose>\n          <group>\n            <label variable="page" form="short" suffix=" "/>\n            <text variable="page"/>\n          </group>\n        </group>\n      </else-if>\n      <else-if type="legal_case">\n        <group prefix=" (" suffix=")" delimiter=" ">\n          <text variable="authority"/>\n          <choose>\n            <if variable="container-title" match="any">\n              \x3c!--Only print year for cases published in reporters--\x3e\n              <date variable="issued" form="numeric" date-parts="year"/>\n            </if>\n            <else>\n              <date variable="issued" form="text"/>\n            </else>\n          </choose>\n        </group>\n      </else-if>\n      <else-if type="bill legislation" match="any">\n        <date variable="issued" prefix=" (" suffix=")">\n          <date-part name="year"/>\n        </date>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="citation-locator">\n    <group>\n      <choose>\n        <if locator="chapter">\n          <label variable="locator" form="long" text-case="capitalize-first"/>\n        </if>\n        <else>\n          <label variable="locator" form="short"/>\n        </else>\n      </choose>\n      <text variable="locator" prefix=" "/>\n    </group>\n  </macro>\n  <macro name="container">\n    <choose>\n      <if type="post-weblog webpage" match="none">\n        <group>\n          <choose>\n            <if type="chapter paper-conference entry-encyclopedia" match="any">\n              <text term="in" text-case="capitalize-first" suffix=" "/>\n            </if>\n          </choose>\n          <group delimiter=", ">\n            <text macro="container-contributors"/>\n            <text macro="secondary-contributors"/>\n            <text macro="container-title"/>\n          </group>\n        </group>\n      </if>\n    </choose>\n  </macro>\n  <macro name="container-title">\n    <choose>\n      <if type="article article-journal article-magazine article-newspaper" match="any">\n        <text variable="container-title" font-style="italic" text-case="title"/>\n      </if>\n      <else-if type="bill legal_case legislation" match="none">\n        <text variable="container-title" font-style="italic"/>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="legal-cites">\n    <choose>\n      <if type="legal_case" match="any">\n        <group prefix=", " delimiter=" ">\n          <choose>\n            <if variable="container-title">\n              <text variable="volume"/>\n              <text variable="container-title"/>\n              <group delimiter=" ">\n                \x3c!--change to label variable="section" as that becomes available --\x3e\n                <text term="section" form="symbol"/>\n                <text variable="section"/>\n              </group>\n              <text variable="page"/>\n            </if>\n            <else>\n              <text variable="number" prefix="No. "/>\n            </else>\n          </choose>\n        </group>\n      </if>\n      <else-if type="bill legislation" match="any">\n        <group delimiter=", " prefix=", ">\n          <choose>\n            <if variable="number">\n              \x3c!--There\'s a public law number--\x3e\n              <text variable="number" prefix="Pub. L. No. "/>\n              <group delimiter=" ">\n                \x3c!--change to label variable="section" as that becomes available --\x3e\n                <text term="section" form="symbol"/>\n                <text variable="section"/>\n              </group>\n              <group delimiter=" ">\n                <text variable="volume"/>\n                <text variable="container-title"/>\n                <text variable="page-first"/>\n              </group>\n            </if>\n            <else>\n              <group delimiter=" ">\n                <text variable="volume"/>\n                <text variable="container-title"/>\n                \x3c!--change to label variable="section" as that becomes available --\x3e\n                <text term="section" form="symbol"/>\n                <text variable="section"/>\n              </group>\n            </else>\n          </choose>\n        </group>\n      </else-if>\n    </choose>\n  </macro>\n  <macro name="original-date">\n    <choose>\n      <if type="bill legal_case legislation" match="none">\n        <choose>\n          <if variable="original-date">\n            <group prefix=" (" suffix=")" delimiter=" ">\n              \x3c!---This should be localized--\x3e\n              <text value="Original work published"/>\n              <choose>\n                <if type="speech" match="any">\n                  <date variable="original-date" delimiter=" ">\n                    <date-part name="month"/>\n                    <date-part name="year"/>\n                  </date>\n                </if>\n                <else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none">\n                  <date variable="original-date" form="text"/>\n                </else-if>\n                <else>\n                  <date variable="original-date">\n                    <date-part name="year"/>\n                  </date>\n                </else>\n              </choose>\n            </group>\n          </if>\n        </choose>\n      </if>\n    </choose>\n  </macro>\n  <citation et-al-min="6" et-al-use-first="1" et-al-subsequent-min="3" et-al-subsequent-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name">\n    <sort>\n      <key macro="author"/>\n      <key macro="issued-sort"/>\n    </sort>\n    <layout prefix="(" suffix=")" delimiter="; ">\n      <group delimiter=", ">\n        <text macro="author-short"/>\n        <text macro="issued-year"/>\n        <text macro="citation-locator"/>\n      </group>\n    </layout>\n  </citation>\n  <bibliography hanging-indent="true" et-al-min="8" et-al-use-first="6" et-al-use-last="true" entry-spacing="0" line-spacing="2">\n    <sort>\n      <key macro="author"/>\n      <key macro="issued-sort" sort="ascending"/>\n      <key macro="title"/>\n    </sort>\n    <layout>\n      <group suffix=".">\n        <group delimiter=". ">\n          <text macro="author"/>\n          <text macro="issued"/>\n          <text macro="title-plus-extra"/>\n          <text macro="container"/>\n        </group>\n        <text macro="legal-cites"/>\n        <text macro="locators"/>\n        <group delimiter=", " prefix=". ">\n          <text macro="event"/>\n          <text macro="publisher"/>\n        </group>\n      </group>\n      <text macro="access" prefix=" "/>\n      <text macro="original-date" prefix=" "/>\n    </layout>\n  </bibliography>\n</style>\n'},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US">\n  <info>\n    <translator>\n      <name>Andrew Dunning</name>\n    </translator>\n    <translator>\n      <name>Sebastian Karcher</name>\n    </translator>\n    <translator>\n      <name>Rintze M. Zelle</name>\n    </translator>\n    <rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights>\n    <updated>2015-10-10T23:31:02+00:00</updated>\n  </info>\n  <style-options punctuation-in-quote="true"/>\n  <date form="text">\n    <date-part name="month" suffix=" "/>\n    <date-part name="day" suffix=", "/>\n    <date-part name="year"/>\n  </date>\n  <date form="numeric">\n    <date-part name="month" form="numeric-leading-zeros" suffix="/"/>\n    <date-part name="day" form="numeric-leading-zeros" suffix="/"/>\n    <date-part name="year"/>\n  </date>\n  <terms>\n    <term name="accessed">accessed</term>\n    <term name="and">and</term>\n    <term name="and others">and others</term>\n    <term name="anonymous">anonymous</term>\n    <term name="anonymous" form="short">anon.</term>\n    <term name="at">at</term>\n    <term name="available at">available at</term>\n    <term name="by">by</term>\n    <term name="circa">circa</term>\n    <term name="circa" form="short">c.</term>\n    <term name="cited">cited</term>\n    <term name="edition">\n      <single>edition</single>\n      <multiple>editions</multiple>\n    </term>\n    <term name="edition" form="short">ed.</term>\n    <term name="et-al">et al.</term>\n    <term name="forthcoming">forthcoming</term>\n    <term name="from">from</term>\n    <term name="ibid">ibid.</term>\n    <term name="in">in</term>\n    <term name="in press">in press</term>\n    <term name="internet">internet</term>\n    <term name="interview">interview</term>\n    <term name="letter">letter</term>\n    <term name="no date">no date</term>\n    <term name="no date" form="short">n.d.</term>\n    <term name="online">online</term>\n    <term name="presented at">presented at the</term>\n    <term name="reference">\n      <single>reference</single>\n      <multiple>references</multiple>\n    </term>\n    <term name="reference" form="short">\n      <single>ref.</single>\n      <multiple>refs.</multiple>\n    </term>\n    <term name="retrieved">retrieved</term>\n    <term name="scale">scale</term>\n    <term name="version">version</term>\n\n    \x3c!-- ANNO DOMINI; BEFORE CHRIST --\x3e\n    <term name="ad">AD</term>\n    <term name="bc">BC</term>\n\n    \x3c!-- PUNCTUATION --\x3e\n    <term name="open-quote">“</term>\n    <term name="close-quote">”</term>\n    <term name="open-inner-quote">‘</term>\n    <term name="close-inner-quote">’</term>\n    <term name="page-range-delimiter">–</term>\n\n    \x3c!-- ORDINALS --\x3e\n    <term name="ordinal">th</term>\n    <term name="ordinal-01">st</term>\n    <term name="ordinal-02">nd</term>\n    <term name="ordinal-03">rd</term>\n    <term name="ordinal-11">th</term>\n    <term name="ordinal-12">th</term>\n    <term name="ordinal-13">th</term>\n\n    \x3c!-- LONG ORDINALS --\x3e\n    <term name="long-ordinal-01">first</term>\n    <term name="long-ordinal-02">second</term>\n    <term name="long-ordinal-03">third</term>\n    <term name="long-ordinal-04">fourth</term>\n    <term name="long-ordinal-05">fifth</term>\n    <term name="long-ordinal-06">sixth</term>\n    <term name="long-ordinal-07">seventh</term>\n    <term name="long-ordinal-08">eighth</term>\n    <term name="long-ordinal-09">ninth</term>\n    <term name="long-ordinal-10">tenth</term>\n\n    \x3c!-- LONG LOCATOR FORMS --\x3e\n    <term name="book">\n      <single>book</single>\n      <multiple>books</multiple>\n    </term>\n    <term name="chapter">\n      <single>chapter</single>\n      <multiple>chapters</multiple>\n    </term>\n    <term name="column">\n      <single>column</single>\n      <multiple>columns</multiple>\n    </term>\n    <term name="figure">\n      <single>figure</single>\n      <multiple>figures</multiple>\n    </term>\n    <term name="folio">\n      <single>folio</single>\n      <multiple>folios</multiple>\n    </term>\n    <term name="issue">\n      <single>number</single>\n      <multiple>numbers</multiple>\n    </term>\n    <term name="line">\n      <single>line</single>\n      <multiple>lines</multiple>\n    </term>\n    <term name="note">\n      <single>note</single>\n      <multiple>notes</multiple>\n    </term>\n    <term name="opus">\n      <single>opus</single>\n      <multiple>opera</multiple>\n    </term>\n    <term name="page">\n      <single>page</single>\n      <multiple>pages</multiple>\n    </term>\n    <term name="number-of-pages">\n      <single>page</single>\n      <multiple>pages</multiple>\n    </term>\n    <term name="paragraph">\n      <single>paragraph</single>\n      <multiple>paragraphs</multiple>\n    </term>\n    <term name="part">\n      <single>part</single>\n      <multiple>parts</multiple>\n    </term>\n    <term name="section">\n      <single>section</single>\n      <multiple>sections</multiple>\n    </term>\n    <term name="sub verbo">\n      <single>sub verbo</single>\n      <multiple>sub verbis</multiple>\n    </term>\n    <term name="verse">\n      <single>verse</single>\n      <multiple>verses</multiple>\n    </term>\n    <term name="volume">\n      <single>volume</single>\n      <multiple>volumes</multiple>\n    </term>\n\n    \x3c!-- SHORT LOCATOR FORMS --\x3e\n    <term name="book" form="short">\n      <single>bk.</single>\n      <multiple>bks.</multiple>\n    </term>\n    <term name="chapter" form="short">\n      <single>chap.</single>\n      <multiple>chaps.</multiple>\n    </term>\n    <term name="column" form="short">\n      <single>col.</single>\n      <multiple>cols.</multiple>\n    </term>\n    <term name="figure" form="short">\n      <single>fig.</single>\n      <multiple>figs.</multiple>\n    </term>\n    <term name="folio" form="short">\n      <single>fol.</single>\n      <multiple>fols.</multiple>\n    </term>\n    <term name="issue" form="short">\n      <single>no.</single>\n      <multiple>nos.</multiple>\n    </term>\n    <term name="line" form="short">\n      <single>l.</single>\n      <multiple>ll.</multiple>\n    </term>\n    <term name="note" form="short">\n      <single>n.</single>\n      <multiple>nn.</multiple>\n    </term>\n    <term name="opus" form="short">\n      <single>op.</single>\n      <multiple>opp.</multiple>\n    </term>\n    <term name="page" form="short">\n      <single>p.</single>\n      <multiple>pp.</multiple>\n    </term>\n    <term name="number-of-pages" form="short">\n      <single>p.</single>\n      <multiple>pp.</multiple>\n    </term>\n    <term name="paragraph" form="short">\n      <single>para.</single>\n      <multiple>paras.</multiple>\n    </term>\n    <term name="part" form="short">\n      <single>pt.</single>\n      <multiple>pts.</multiple>\n    </term>\n    <term name="section" form="short">\n      <single>sec.</single>\n      <multiple>secs.</multiple>\n    </term>\n    <term name="sub verbo" form="short">\n      <single>s.v.</single>\n      <multiple>s.vv.</multiple>\n    </term>\n    <term name="verse" form="short">\n      <single>v.</single>\n      <multiple>vv.</multiple>\n    </term>\n    <term name="volume" form="short">\n      <single>vol.</single>\n      <multiple>vols.</multiple>\n    </term>\n\n    \x3c!-- SYMBOL LOCATOR FORMS --\x3e\n    <term name="paragraph" form="symbol">\n      <single>¶</single>\n      <multiple>¶¶</multiple>\n    </term>\n    <term name="section" form="symbol">\n      <single>§</single>\n      <multiple>§§</multiple>\n    </term>\n\n    \x3c!-- LONG ROLE FORMS --\x3e\n    <term name="director">\n      <single>director</single>\n      <multiple>directors</multiple>\n    </term>\n    <term name="editor">\n      <single>editor</single>\n      <multiple>editors</multiple>\n    </term>\n    <term name="editorial-director">\n      <single>editor</single>\n      <multiple>editors</multiple>\n    </term>\n    <term name="illustrator">\n      <single>illustrator</single>\n      <multiple>illustrators</multiple>\n    </term>\n    <term name="translator">\n      <single>translator</single>\n      <multiple>translators</multiple>\n    </term>\n    <term name="editortranslator">\n      <single>editor &amp; translator</single>\n      <multiple>editors &amp; translators</multiple>\n    </term>\n\n    \x3c!-- SHORT ROLE FORMS --\x3e\n    <term name="director" form="short">\n      <single>dir.</single>\n      <multiple>dirs.</multiple>\n    </term>\n    <term name="editor" form="short">\n      <single>ed.</single>\n      <multiple>eds.</multiple>\n    </term>\n    <term name="editorial-director" form="short">\n      <single>ed.</single>\n      <multiple>eds.</multiple>\n    </term>\n    <term name="illustrator" form="short">\n      <single>ill.</single>\n      <multiple>ills.</multiple>\n    </term>\n    <term name="translator" form="short">\n      <single>tran.</single>\n      <multiple>trans.</multiple>\n    </term>\n    <term name="editortranslator" form="short">\n      <single>ed. &amp; tran.</single>\n      <multiple>eds. &amp; trans.</multiple>\n    </term>\n\n    \x3c!-- VERB ROLE FORMS --\x3e\n    <term name="container-author" form="verb">by</term>\n    <term name="director" form="verb">directed by</term>\n    <term name="editor" form="verb">edited by</term>\n    <term name="editorial-director" form="verb">edited by</term>\n    <term name="illustrator" form="verb">illustrated by</term>\n    <term name="interviewer" form="verb">interview by</term>\n    <term name="recipient" form="verb">to</term>\n    <term name="reviewed-author" form="verb">by</term>\n    <term name="translator" form="verb">translated by</term>\n    <term name="editortranslator" form="verb">edited &amp; translated by</term>\n\n    \x3c!-- SHORT VERB ROLE FORMS --\x3e\n    <term name="director" form="verb-short">dir. by</term>\n    <term name="editor" form="verb-short">ed. by</term>\n    <term name="editorial-director" form="verb-short">ed. by</term>\n    <term name="illustrator" form="verb-short">illus. by</term>\n    <term name="translator" form="verb-short">trans. by</term>\n    <term name="editortranslator" form="verb-short">ed. &amp; trans. by</term>\n\n    \x3c!-- LONG MONTH FORMS --\x3e\n    <term name="month-01">January</term>\n    <term name="month-02">February</term>\n    <term name="month-03">March</term>\n    <term name="month-04">April</term>\n    <term name="month-05">May</term>\n    <term name="month-06">June</term>\n    <term name="month-07">July</term>\n    <term name="month-08">August</term>\n    <term name="month-09">September</term>\n    <term name="month-10">October</term>\n    <term name="month-11">November</term>\n    <term name="month-12">December</term>\n\n    \x3c!-- SHORT MONTH FORMS --\x3e\n    <term name="month-01" form="short">Jan.</term>\n    <term name="month-02" form="short">Feb.</term>\n    <term name="month-03" form="short">Mar.</term>\n    <term name="month-04" form="short">Apr.</term>\n    <term name="month-05" form="short">May</term>\n    <term name="month-06" form="short">Jun.</term>\n    <term name="month-07" form="short">Jul.</term>\n    <term name="month-08" form="short">Aug.</term>\n    <term name="month-09" form="short">Sep.</term>\n    <term name="month-10" form="short">Oct.</term>\n    <term name="month-11" form="short">Nov.</term>\n    <term name="month-12" form="short">Dec.</term>\n\n    \x3c!-- SEASONS --\x3e\n    <term name="season-01">Spring</term>\n    <term name="season-02">Summer</term>\n    <term name="season-03">Autumn</term>\n    <term name="season-04">Winter</term>\n  </terms>\n</locale>\n'},function(t,e,i){"use strict";var n=i(121),s=i(120),r=i(119);function a(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function o(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function l(t,e){var i=function(t){var e;switch(t.arrayFormat){case"index":return function(t,i,n){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=i):n[t]=i};case"bracket":return function(t,i,n){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],i):n[t]=[i]:n[t]=i};default:return function(t,e,i){void 0!==i[t]?i[t]=[].concat(i[t],e):i[t]=e}}}(e=s({arrayFormat:"none"},e)),n=Object.create(null);return"string"!=typeof t?n:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),s=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:r(a),i(r(s),a,n)}),Object.keys(n).sort().reduce(function(t,e){var i=n[e];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(i):t[e]=i,t},Object.create(null))):n}e.extract=o,e.parse=l,e.stringify=function(t,e){!1===(e=s({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var i=function(t){switch(t.arrayFormat){case"index":return function(e,i,n){return null===i?[a(e,t),"[",n,"]"].join(""):[a(e,t),"[",a(n,t),"]=",a(i,t)].join("")};case"bracket":return function(e,i){return null===i?a(e,t):[a(e,t),"[]=",a(i,t)].join("")};default:return function(e,i){return null===i?a(e,t):[a(e,t),"=",a(i,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(n){var s=t[n];if(void 0===s)return"";if(null===s)return a(n,e);if(Array.isArray(s)){var r=[];return s.slice().forEach(function(t){void 0!==t&&r.push(i(n,t,r.length))}),r.join("&")}return a(n,e)+"="+a(s,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:l(o(t),e)}}},function(t,e){t.exports='<dom-module id="shared-styles">\n  <template>\n    <style>\n      paper-tabs {\n        --paper-tabs-selection-bar: {\n          border-bottom: 3px solid var(--default-primary-color);\n        }\n      }\n      paper-tab {\n        --paper-tab-content-unselected : {    \n          text-transform: uppercase;\n          color: var(--text-disabled);\n        }\n        --paper-tab-content : {\n          text-transform: uppercase;\n          color: var(--default-primary-color);\n        }\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      button {\n        margin: 0;\n        padding: 0;\n      }\n\n      input {\n        border-radius: 0;\n      }\n\n      input, select, button {\n        font-size        : var(--font-size);\n        font-weight      : var(--font-weight);\n        color            : var(--text-primary-color);\n      }\n      \n      a:focus, button:focus, select:focus, div:focus {\n        outline: var(--default-outline);\n      }\n\n      paper-icon-button {\n        border: 2px solid transparent;\n      }\n\n      paper-icon-button:focus {\n        border: var(--default-outline);\n        border-radius: 20px;\n      }\n\n      main {\n        display: flex;\n        justify-content: center;\n      }\n\n      main > * {\n        max-width: 1000px;\n        width: 100%;\n      }\n\n      ul.menu {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n      }\n\n      ul.menu.horizontal {\n        display: flex;\n      }\n\n      a {\n        text-decoration: underline;\n        color: var(--default-primary-color);\n      }\n\n      a.italic {\n        color: var(--default-secondary-color);\n        font-style: italic;\n      }\n\n      a.gold {\n        color: var(--default-secondary-color);\n      }\n\n      .text-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      \n      .text-container > * {\n        max-width: var(--max-text-width);\n        width: 100%;\n      }\n\n      .container {\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .container > * {\n        max-width: var(--max-width);\n        width: 100%;\n        justify-content: center;\n      }\n\n      fin-search-box > iron-icon {\n        color: var(--default-secondary-color);\n      }\n    </style>\n  </template>\n</dom-module>'},function(t,e){t.exports='<custom-style>\n  <style>\n    html {\n      --default-primary-color : #002655;\n      --light-primary-color   : #335379;\n      \n      --default-secondary-color : #daaa00;\n      --light-secondary-color   : #9be7ff;\n      --dark-secondary-color    : #2286c3;\n\n      --medium-background-color : #B2BDCF;\n      --light-background-color : #D6DCE6;\n      --super-light-background-color: #f3f3f3;\n    \n      --text-primary-color      : black;\n      --primary-text-color      : var(--text-primary-color);\n      --secondary-text-color    : var(--default-secondary-color);\n      --inverse-text-color      : white;\n      --gray-text               : #8B8B8B;\n      --text-disabled           : var(--gray-text);\n\n      --max-width               : 1200px;\n      --max-text-width          : 650px;\n      --font-size               : 16px;\n      --font-size-sm            : 14px;\n      --font-weight             : 400;\n      --font-weight-heavy       : 700;\n\n      --layout-sm               : 768px;\n      --grid-cell-width         : 250px;\n\n      --default-outline         : 2px dotted var(--default-secondary-color);\n      \n      --paper-icon-button-ink-color : transparent;\n\n     /**\n      * Custom mixins\n      */\n      --fin-search-box-select: {\n        font-size: var(--font-size);\n        font-weight: var(--font-weight);\n        color: var(--default-primary-color);\n        background-color: var(--default-secondary-color);\n        width: 100px;\n      }\n      --fin-search-box-select-inverse: {\n        @apply(--fin-search-box-select);\n        color: var(--default-secondary-color);\n        background-color: var(--default-primary-color);\n      }\n      --fin-search-box-input: {\n        font-size: var(--font-size);\n      }\n      --cork-drop-down-arrow-color: var(--default-primary-color);\n      --cork-toggle-panel-label : {\n        padding: 10px 0;\n        color: var(--default-primary-color);\n        font-weight: var(--font-weight-heavy);\n      }\n    }\n    body, html {\n      /* @apply --paper-font-common-base; */\n      font-family      : proxima-nova,"Lucida Grande","Lucida Sans","Helvetica Neue",Helvetica,Arial,sans-serif;\n      font-size        : var(--font-size);\n      font-weight      : var(--font-weight);\n      line-height      : calc(var(--font-size) * 1.625);\n      margin           : 0;\n      padding          : 0;\n      background-color : var(--default-background-color);\n      color            : var(--text-primary-color);\n      max-width        : 100vw;\n    }\n  </style>\n</custom-style>'},function(t,e){t.exports='<iron-iconset-svg name="fin" size="24">\n  <svg>\n    <defs>\n  \n      <g id="account">\n        <style type="text/css">\n          .st0{fill:#008EAA;}\n          .st1{fill:#F3F3F3;}\n        </style>\n        <path class="st0" d="M18.6,20.1c2.4-1.9,3.9-4.9,3.9-8.1c0-5.8-4.7-10.5-10.5-10.5S1.5,6.2,1.5,12c0,3.3,1.5,6.2,3.9,8.1H18.6z"/>\n        <circle class="st1" cx="12" cy="9.9" r="3.5"/>\n        <path class="st1" d="M12,22.5c2.5,0,4.8-0.9,6.6-2.4c-0.9-3.2-3.5-5.5-6.6-5.5s-5.7,2.3-6.6,5.5C7.2,21.6,9.5,22.5,12,22.5z"/>\n      </g>\n\n      <g id="blank-multiple">\n        <path d="M16.17,17.37H2.6a1.2,1.2,0,0,1-1.2-1.2V2.6A1.2,1.2,0,0,1,2.6,1.4H16.17a1.2,1.2,0,0,1,1.2,1.2V16.17A1.2,1.2,0,0,1,16.17,17.37ZM2.6,2.15a.45.45,0,0,0-.45.45V16.17a.45.45,0,0,0,.45.44H16.17a.44.44,0,0,0,.44-.44V2.6a.45.45,0,0,0-.44-.45Z"/>\n        <path d="M18.68,19.86H5.11a1.2,1.2,0,0,1-1.2-1.2h.76a.44.44,0,0,0,.44.44H18.68a.44.44,0,0,0,.45-.44V5.09a.44.44,0,0,0-.45-.44V3.89a1.2,1.2,0,0,1,1.2,1.2V18.66A1.2,1.2,0,0,1,18.68,19.86Z"/>\n        <path d="M21.19,22.35H7.62a1.2,1.2,0,0,1-1.2-1.2h.76a.45.45,0,0,0,.44.45H21.19a.45.45,0,0,0,.45-.45V7.58a.45.45,0,0,0-.45-.44V6.38a1.21,1.21,0,0,1,1.21,1.2V21.15A1.21,1.21,0,0,1,21.19,22.35Z"/>\n      </g>\n\n      <g id="blank">\n        <path d="M20.92,22.5H3.08A1.58,1.58,0,0,1,1.5,20.92V3.08A1.58,1.58,0,0,1,3.08,1.5H20.92A1.58,1.58,0,0,1,22.5,3.08V20.92A1.58,1.58,0,0,1,20.92,22.5ZM3.08,2.5a.58.58,0,0,0-.58.58V20.92a.58.58,0,0,0,.58.58H20.92a.58.58,0,0,0,.58-.58V3.08a.58.58,0,0,0-.58-.58Z"/>\n      </g>\n\n      <g id="check">\n        <polygon points="8.57 19.54 2.12 13.08 3.88 11.31 8.57 16 20.12 4.46 21.88 6.23 8.57 19.54"/>\n      </g>\n\n      <g id="copy">\n        <path d="M21.22,5.54H18.46V2.78A1.28,1.28,0,0,0,17.18,1.5H2.78A1.28,1.28,0,0,0,1.5,2.78v14.4a1.28,1.28,0,0,0,1.28,1.28H5.54v2.76A1.28,1.28,0,0,0,6.82,22.5h14.4a1.28,1.28,0,0,0,1.28-1.28V6.82A1.28,1.28,0,0,0,21.22,5.54ZM5.54,6.82V17.65H2.78a.47.47,0,0,1-.47-.47V2.78a.47.47,0,0,1,.47-.47h14.4a.47.47,0,0,1,.47.47V5.54H6.82A1.28,1.28,0,0,0,5.54,6.82ZM19,15.15H15.15V19h-2.1V15.15H9.2v-2.1h3.85V9.2h2.1v3.85H19Z"/>\n      </g>\n\n      <g id="grid">\n        <rect x="17.08" y="5.5" width="5.42" height="5.42"/>\n        <rect x="9.29" y="5.5" width="5.42" height="5.42"/>\n        <rect x="1.5" y="5.5" width="5.42" height="5.42"/>\n        <rect x="17.08" y="13.08" width="5.42" height="5.42"/>\n        <rect x="9.29" y="13.08" width="5.42" height="5.42"/>\n        <rect x="1.5" y="13.08" width="5.42" height="5.42"/>\n      </g>\n\n      <g id="image-multiple">\n        <path d="M16.17,17.37H2.6a1.2,1.2,0,0,1-1.2-1.2V2.6A1.2,1.2,0,0,1,2.6,1.4H16.17a1.2,1.2,0,0,1,1.2,1.2V16.17A1.2,1.2,0,0,1,16.17,17.37ZM2.6,2.15a.45.45,0,0,0-.45.45V16.17a.45.45,0,0,0,.45.44H16.17a.44.44,0,0,0,.44-.44V2.6a.45.45,0,0,0-.44-.45Z"/>\n        <path d="M18.68,19.86H5.11a1.2,1.2,0,0,1-1.2-1.2h.76a.44.44,0,0,0,.44.44H18.68a.44.44,0,0,0,.45-.44V5.09a.44.44,0,0,0-.45-.44V3.89a1.2,1.2,0,0,1,1.2,1.2V18.66A1.2,1.2,0,0,1,18.68,19.86Z"/>\n        <path d="M21.19,22.35H7.62a1.2,1.2,0,0,1-1.2-1.2h.76a.45.45,0,0,0,.44.45H21.19a.45.45,0,0,0,.45-.45V7.58a.45.45,0,0,0-.45-.44V6.38a1.21,1.21,0,0,1,1.21,1.2V21.15A1.21,1.21,0,0,1,21.19,22.35Z"/>\n        <circle cx="6.33" cy="5.84" r="1.97"/>\n        <polygon points="3.13 12.93 3.13 15.55 15.61 15.55 15.61 10.83 11.98 7.2 7.4 11.78 5.93 10.32 3.13 12.93"/>\n      </g>\n\n      <g id="image">\n        <path d="M20.92,22.5H3.08A1.58,1.58,0,0,1,1.5,20.92V3.08A1.58,1.58,0,0,1,3.08,1.5H20.92A1.58,1.58,0,0,1,22.5,3.08V20.92A1.58,1.58,0,0,1,20.92,22.5ZM3.08,2.5a.58.58,0,0,0-.58.58V20.92a.58.58,0,0,0,.58.58H20.92a.58.58,0,0,0,.58-.58V3.08a.58.58,0,0,0-.58-.58Z"/>\n        <circle cx="7.99" cy="7.35" r="2.6"/>\n        <polygon points="3.79 16.69 3.79 20.14 20.21 20.14 20.21 13.92 15.44 9.14 9.4 15.18 7.47 13.25 3.79 16.69"/>\n      </g>\n\n      <g id="list">\n        <rect x="1.5" y="5.5" width="3" height="3"/>\n        <rect x="6.61" y="5.51" width="15.89" height="3"/>\n        <rect x="1.5" y="10.5" width="3" height="3"/>\n        <rect x="6.61" y="10.5" width="15.89" height="3"/>\n        <rect x="1.5" y="15.5" width="3" height="3"/>\n        <rect x="6.61" y="15.5" width="15.89" height="3"/>\n      </g>\n\n      <g id="search">\n        <path d="M22.16,20.08l-5.25-5.24a8.38,8.38,0,1,0-1.53,1.77l5.13,5.12a1.15,1.15,0,0,0,.82.35,1.18,1.18,0,0,0,.83-2ZM9.88,16.35a6,6,0,1,1,6-6.05A6.06,6.06,0,0,1,9.88,16.35Z"/>\n      </g>\n\n      <g id="multiple-sound">\n        <path d="M16.17,17.37H2.6a1.2,1.2,0,0,1-1.2-1.2V2.6A1.2,1.2,0,0,1,2.6,1.4H16.17a1.2,1.2,0,0,1,1.2,1.2V16.17A1.2,1.2,0,0,1,16.17,17.37ZM2.6,2.15a.45.45,0,0,0-.45.45V16.17a.45.45,0,0,0,.45.44H16.17a.44.44,0,0,0,.44-.44V2.6a.45.45,0,0,0-.44-.45Z"/>\n        <path d="M18.68,19.86H5.11a1.2,1.2,0,0,1-1.2-1.2h.76a.44.44,0,0,0,.44.44H18.68a.45.45,0,0,0,.45-.44V5.09a.44.44,0,0,0-.45-.44V3.89a1.2,1.2,0,0,1,1.2,1.2V18.66A1.2,1.2,0,0,1,18.68,19.86Z"/>\n        <path d="M21.19,22.35H7.62a1.2,1.2,0,0,1-1.2-1.2h.76a.45.45,0,0,0,.44.45H21.19a.45.45,0,0,0,.45-.45V7.58a.45.45,0,0,0-.45-.44V6.38a1.21,1.21,0,0,1,1.21,1.2V21.15A1.2,1.2,0,0,1,21.19,22.35Z"/>\n        <path d="M6.88,5.39v5.76a1.76,1.76,0,0,0-1-.32,1.79,1.79,0,1,0,1.78,1.78h0v-5L13,6.48V10a1.73,1.73,0,0,0-1-.32,1.79,1.79,0,1,0,1.78,1.79v0h0V4Z"/>\n      </g>\n\n      <g id="sound">\n        <path d="M20.92,22.5H3.08A1.58,1.58,0,0,1,1.5,20.92V3.08A1.58,1.58,0,0,1,3.08,1.5H20.92A1.58,1.58,0,0,1,22.5,3.08V20.92A1.58,1.58,0,0,1,20.92,22.5ZM3.08,2.5a.58.58,0,0,0-.58.58V20.92a.58.58,0,0,0,.58.58H20.92a.58.58,0,0,0,.58-.58V3.08a.58.58,0,0,0-.58-.58Z"/>\n        <path d="M8.72,6.75v7.59a2.3,2.3,0,0,0-1.33-.41,2.35,2.35,0,1,0,2.35,2.34v0h0V9.63l7-1.43v4.57a2.29,2.29,0,0,0-1.33-.42,2.35,2.35,0,1,0,2.34,2.34h0V4.92Z"/>\n      </g>\n\n      <g id="text-multiple">\n        <path d="M16.17,17.37H2.6a1.2,1.2,0,0,1-1.2-1.2V2.6A1.2,1.2,0,0,1,2.6,1.4H16.17a1.2,1.2,0,0,1,1.2,1.2V16.17A1.2,1.2,0,0,1,16.17,17.37ZM2.6,2.15a.45.45,0,0,0-.45.45V16.17a.45.45,0,0,0,.45.44H16.17a.44.44,0,0,0,.44-.44V2.6a.45.45,0,0,0-.44-.45Z"/>\n        <path d="M18.68,19.86H5.11a1.2,1.2,0,0,1-1.2-1.2h.76a.44.44,0,0,0,.44.44H18.68a.44.44,0,0,0,.45-.44V5.09a.44.44,0,0,0-.45-.44V3.89a1.2,1.2,0,0,1,1.2,1.2V18.66A1.2,1.2,0,0,1,18.68,19.86Z"/>\n        <path d="M21.19,22.35H7.62a1.2,1.2,0,0,1-1.2-1.2h.76a.45.45,0,0,0,.44.45H21.19a.45.45,0,0,0,.45-.45V7.58a.45.45,0,0,0-.45-.44V6.38a1.21,1.21,0,0,1,1.21,1.2V21.15A1.21,1.21,0,0,1,21.19,22.35Z"/>\n        <rect x="5.2" y="7.74" width="8.37" height="0.74"/>\n        <rect x="5.2" y="10.28" width="8.37" height="0.74"/>\n        <rect x="5.2" y="12.83" width="4.18" height="0.74"/>\n        <rect x="5.2" y="5.2" width="8.37" height="0.74"/>\n      </g>\n\n      <g id="text">\n        <path d="M20.92,22.5H3.08A1.58,1.58,0,0,1,1.5,20.92V3.08A1.58,1.58,0,0,1,3.08,1.5H20.92A1.58,1.58,0,0,1,22.5,3.08V20.92A1.58,1.58,0,0,1,20.92,22.5ZM3.08,2.5a.58.58,0,0,0-.58.58V20.92a.58.58,0,0,0,.58.58H20.92a.58.58,0,0,0,.58-.58V3.08a.58.58,0,0,0-.58-.58Z"/>\n        <rect x="6.5" y="9.84" width="11" height="0.97"/>\n        <rect x="6.5" y="13.18" width="11" height="0.97"/>\n        <rect x="6.5" y="16.53" width="5.5" height="0.97"/>\n        <rect x="6.5" y="6.5" width="11" height="0.97"/>\n      </g>\n\n      <g id="triangle-dropdown">\n        <polygon points="1.5 5.7 22.5 5.7 12 18.3 1.5 5.7"/>\n      </g>\n\n      <g id="close">\n        <polygon points="18.26 8.26 15.74 5.74 12 9.47 8.26 5.74 5.74 8.26 9.47 12 5.74 15.74 8.26 18.26 12 14.53 15.74 18.26 18.26 15.74 14.53 12 18.26 8.26"/>\n      </g>\n\n      <g id="video-multiple">\n        <path d="M16.17,17.37H2.6a1.2,1.2,0,0,1-1.2-1.2V2.6A1.2,1.2,0,0,1,2.6,1.4H16.17a1.2,1.2,0,0,1,1.2,1.2V16.17A1.2,1.2,0,0,1,16.17,17.37ZM2.6,2.15a.45.45,0,0,0-.45.45V16.17a.45.45,0,0,0,.45.44H16.17a.44.44,0,0,0,.44-.44V2.6a.45.45,0,0,0-.44-.45Z"/>\n        <path d="M18.68,19.86H5.11a1.2,1.2,0,0,1-1.2-1.2h.76a.44.44,0,0,0,.44.44H18.68a.44.44,0,0,0,.45-.44V5.09a.44.44,0,0,0-.45-.44V3.89a1.2,1.2,0,0,1,1.2,1.2V18.66A1.2,1.2,0,0,1,18.68,19.86Z"/>\n        <path d="M21.19,22.35H7.62a1.2,1.2,0,0,1-1.2-1.2h.76a.45.45,0,0,0,.44.45H21.19a.45.45,0,0,0,.45-.45V7.58a.45.45,0,0,0-.45-.44V6.38a1.21,1.21,0,0,1,1.21,1.2V21.15A1.21,1.21,0,0,1,21.19,22.35Z"/>\n        <polygon points="12.75 9.36 6.6 13.37 6.6 5.24 12.75 9.36"/>\n      </g>\n\n      <g id="video">\n        <path d="M20.92,22.5H3.08A1.58,1.58,0,0,1,1.5,20.92V3.08A1.58,1.58,0,0,1,3.08,1.5H20.92A1.58,1.58,0,0,1,22.5,3.08V20.92A1.58,1.58,0,0,1,20.92,22.5ZM3.08,2.5a.58.58,0,0,0-.58.58V20.92a.58.58,0,0,0,.58.58H20.92a.58.58,0,0,0,.58-.58V3.08a.58.58,0,0,0-.58-.58Z"/>\n        <polygon points="16.45 11.99 8.35 17.27 8.35 6.57 16.45 11.99"/>\n      </g>\n    </defs>\n  </svg>\n</iron-iconset-svg>'},function(t,e,i){"use strict";i.r(e);var n,s,r,a,o=i(0),l=(i(2),i(3)),h=i(1);function c(t,e){if(void 0===n){n=!1;try{var i=new URL("b","http://a");i.pathname="c%20d",n=(n="http://a/c%20d"===i.href)&&"http://www.google.com/?foo%20bar"===new URL("http://www.google.com/?foo bar").href}catch(t){}}return n?new URL(t,e):(s||(s=document.implementation.createHTMLDocument("url"),r=s.createElement("base"),s.head.appendChild(r),a=s.createElement("a")),r.href=e,a.href=t.replace(/ /g,"%20"),a)}Object(l.a)({is:"iron-location",properties:{path:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.pathname)}},query:{type:String,notify:!0,value:function(){return window.location.search.slice(1)}},hash:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.hash.slice(1))}},dwellTime:{type:Number,value:2e3},urlSpaceRegex:{type:String,value:""},encodeSpaceAsPlusInQuery:{type:Boolean,value:!1},_urlSpaceRegExp:{computed:"_makeRegExp(urlSpaceRegex)"},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["_updateUrl(path, query, hash)"],created:function(){this.__location=window.location},attached:function(){this.listen(window,"hashchange","_hashChanged"),this.listen(window,"location-changed","_urlChanged"),this.listen(window,"popstate","_urlChanged"),this.listen(document.body,"click","_globalOnClick"),this._lastChangedAt=window.performance.now()-(this.dwellTime-200),this._initialized=!0,this._urlChanged()},detached:function(){this.unlisten(window,"hashchange","_hashChanged"),this.unlisten(window,"location-changed","_urlChanged"),this.unlisten(window,"popstate","_urlChanged"),this.unlisten(document.body,"click","_globalOnClick"),this._initialized=!1},_hashChanged:function(){this.hash=window.decodeURIComponent(this.__location.hash.substring(1))},_urlChanged:function(){this._dontUpdateUrl=!0,this._hashChanged(),this.path=window.decodeURIComponent(this.__location.pathname),this.query=this.__location.search.substring(1),this._dontUpdateUrl=!1,this._updateUrl()},_getUrl:function(){var t=window.encodeURI(this.path).replace(/\#/g,"%23").replace(/\?/g,"%3F"),e="";this.query&&(e="?"+this.query.replace(/\#/g,"%23"),this.encodeSpaceAsPlusInQuery&&(e=e.replace(/\+/g,"%2B").replace(/ /g,"+").replace(/%20/g,"+")));var i="";return this.hash&&(i="#"+window.encodeURI(this.hash)),t+e+i},_updateUrl:function(){if(!this._dontUpdateUrl&&this._initialized&&(this.path!==window.decodeURIComponent(this.__location.pathname)||this.query!==this.__location.search.substring(1)||this.hash!==window.decodeURIComponent(this.__location.hash.substring(1)))){var t=c(this._getUrl(),this.__location.protocol+"//"+this.__location.host).href,e=window.performance.now(),i=this._lastChangedAt+this.dwellTime>e;this._lastChangedAt=e,i?window.history.replaceState({},"",t):window.history.pushState({},"",t),this.fire("location-changed",{},{node:window})}},_globalOnClick:function(t){if(!t.defaultPrevented){var e=this._getSameOriginLinkHref(t);e&&(t.preventDefault(),e!==this.__location.href&&(window.history.pushState({},"",e),this.fire("location-changed",{},{node:window})))}},_getSameOriginLinkHref:function(t){if(0!==t.button)return null;if(t.metaKey||t.ctrlKey)return null;for(var e=Object(h.a)(t).path,i=null,n=0;n<e.length;n++){var s=e[n];if("A"===s.tagName&&s.href){i=s;break}}if(!i)return null;if("_blank"===i.target)return null;if(("_top"===i.target||"_parent"===i.target)&&window.top!==window)return null;if(i.download)return null;var r,a,o,l=i.href;if(r=null!=document.baseURI?c(l,document.baseURI):c(l),a=this.__location.origin?this.__location.origin:this.__location.protocol+"//"+this.__location.host,r.origin)o=r.origin;else{var p=r.host,u=r.port,d=r.protocol;("https:"===d&&"443"===u||"http:"===d&&"80"===u)&&(p=r.hostname),o=d+"//"+p}if(o!==a)return null;var m=r.pathname+r.search+r.hash;return"/"!==m[0]&&(m="/"+m),this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(m)?null:c(m,this.__location.href).href},_makeRegExp:function(t){return RegExp(t)}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@demo demo/iron-query-params.html
*/
Object(l.a)({is:"iron-query-params",properties:{paramsString:{type:String,notify:!0,observer:"paramsStringChanged"},paramsObject:{type:Object,notify:!0},_dontReact:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["paramsObjectChanged(paramsObject.*)"],paramsStringChanged:function(){this._dontReact=!0,this.paramsObject=this._decodeParams(this.paramsString),this._dontReact=!1},paramsObjectChanged:function(){this._dontReact||(this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,"?").replace(/%2F/g,"/").replace(/'/g,"%27"))},_encodeParams:function(t){var e=[];for(var i in t){var n=t[i];""===n?e.push(encodeURIComponent(i)):n&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(n.toString()))}return e.join("&")},_decodeParams:function(t){for(var e={},i=(t=(t||"").replace(/\+/g,"%20")).split("&"),n=0;n<i.length;n++){var s=i[n].split("=");s[0]&&(e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]||""))}return e}});
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const p={properties:{route:{type:Object,notify:!0},queryParams:{type:Object,notify:!0},path:{type:String,notify:!0}},observers:["_locationChanged(path, queryParams)","_routeChanged(route.prefix, route.path)","_routeQueryParamsChanged(route.__queryParams)"],created:function(){this.linkPaths("route.__queryParams","queryParams"),this.linkPaths("queryParams","route.__queryParams")},_locationChanged:function(){this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams||(this.route={prefix:"",path:this.path,__queryParams:this.queryParams})},_routeChanged:function(){this.route&&(this.path=this.route.prefix+this.route.path)},_routeQueryParamsChanged:function(t){this.route&&(this.queryParams=t)}};var u=i(5);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Object(l.a)({_template:u["a"]`
    <iron-query-params params-string="{{__query}}" params-object="{{queryParams}}">
    </iron-query-params>
    <iron-location path="{{__path}}" query="{{__query}}" hash="{{__hash}}" url-space-regex="[[urlSpaceRegex]]" dwell-time="[[dwellTime]]">
    </iron-location>
`,is:"app-location",properties:{route:{type:Object,notify:!0},useHashAsPath:{type:Boolean,value:!1},urlSpaceRegex:{type:String,notify:!0},__queryParams:{type:Object},__path:{type:String},__query:{type:String},__hash:{type:String},path:{type:String,observer:"__onPathChanged"},_isReady:{type:Boolean},dwellTime:{type:Number}},behaviors:[p],observers:["__computeRoutePath(useHashAsPath, __hash, __path)"],ready:function(){this._isReady=!0},__computeRoutePath:function(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function(){this._isReady&&(this.useHashAsPath?this.__hash=this.path:this.__path=this.path)}});var d=i(12),m=i(88),f=i.n(m),g=i(44),v=i.n(g);customElements.define("app-route",class extends(Object(d.Mixin)(o.a).with(d.EventInterface,v.a)){static get template(){return o["b"]`<app-location url-space-regex="[[appRoutesRegex]]"></app-location>`}static get properties(){return{route:{type:Object},appRoutes:{type:Array,value:[]},appRoutesRegex:{type:RegExp,computed:"_makeRegex(appRoutes)"}}}constructor(){super(),this.AppStateModel.setLocationElement(this),this._onLocationChange(),window.addEventListener("location-changed",()=>this._onLocationChangeAsync()),window.addEventListener("popstate",()=>this._onLocationChangeAsync(!0))}setWindowLocation(t){window.history.state&&window.history.state.location===t||(window.history.pushState({location:t},null,t),this._onLocationChangeAsync())}_makeRegex(){let t=this.appRoutes.map(t=>"/"+t+"(/.*)?");t.push("/");let e="^("+t.join("|")+")$";return e=new RegExp(e,"i")}_onLocationChangeAsync(t){this.debounce("_onLocationChangeAsync",()=>this._onLocationChange(t),50)}_onLocationChange(t=!1){this.location={pathname:window.location.pathname,path:window.location.pathname.replace(/(^\/|\/$)/g,"").split("/"),query:f.a.parse(window.location.search),popstate:t},this._setAppState({location:this.location})}})},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(2);const r=document.createElement("template");r.setAttribute("style","display: none;"),r.innerHTML='<custom-style>\n  <style is="custom-style">\n    html {\n\n      --shadow-transition: {\n        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);\n      };\n\n      --shadow-none: {\n        box-shadow: none;\n      };\n\n      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */\n\n      --shadow-elevation-2dp: {\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n      };\n\n      --shadow-elevation-3dp: {\n        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 8px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 3px -2px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-4dp: {\n        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12),\n                    0 2px 4px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-6dp: {\n        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 5px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-8dp: {\n        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12),\n                    0 5px 5px -3px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-12dp: {\n        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),\n                    0 4px 22px 3px rgba(0, 0, 0, 0.12),\n                    0 6px 7px -4px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-16dp: {\n        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),\n                    0  6px 30px 5px rgba(0, 0, 0, 0.12),\n                    0  8px 10px -5px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-24dp: {\n        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),\n                    0 9px 46px 8px rgba(0, 0, 0, 0.12),\n                    0 11px 15px -7px rgba(0, 0, 0, 0.4);\n      };\n    }\n  </style>\n</custom-style>',document.head.appendChild(r.content);const a=document.createElement("template");a.setAttribute("style","display: none;"),a.innerHTML='<dom-module id="paper-material-shared-styles">\n  <template>\n    <style>\n      :host {\n        display: block;\n        position: relative;\n      }\n\n      :host([elevation="1"]) {\n        @apply --shadow-elevation-2dp;\n      }\n\n      :host([elevation="2"]) {\n        @apply --shadow-elevation-4dp;\n      }\n\n      :host([elevation="3"]) {\n        @apply --shadow-elevation-6dp;\n      }\n\n      :host([elevation="4"]) {\n        @apply --shadow-elevation-8dp;\n      }\n\n      :host([elevation="5"]) {\n        @apply --shadow-elevation-16dp;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(a.content);var o=i(3),l=i(5);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({_template:l["a"]`
    <style include="paper-material-shared-styles"></style>
    <style>
      :host([animated]) {
        @apply --shadow-transition;
      }
      :host {
        @apply --paper-material;
      }
    </style>

    <slot></slot>
`,is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const h=document.createElement("template");h.setAttribute("style","display: none;"),h.innerHTML='<custom-style>\n  <style is="custom-style">\n    [hidden] {\n      display: none !important;\n    }\n  </style>\n</custom-style><custom-style>\n  <style is="custom-style">\n    html {\n\n      --layout: {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      };\n\n      --layout-inline: {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      };\n\n      --layout-horizontal: {\n        @apply --layout;\n\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      };\n\n      --layout-horizontal-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      };\n\n      --layout-vertical: {\n        @apply --layout;\n\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      };\n\n      --layout-vertical-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      };\n\n      --layout-wrap: {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      };\n\n      --layout-wrap-reverse: {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      };\n\n      --layout-flex-auto: {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      };\n\n      --layout-flex-none: {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      };\n\n      --layout-flex: {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      };\n\n      --layout-flex-2: {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      };\n\n      --layout-flex-3: {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      };\n\n      --layout-flex-4: {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      };\n\n      --layout-flex-5: {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      };\n\n      --layout-flex-6: {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      };\n\n      --layout-flex-7: {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      };\n\n      --layout-flex-8: {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      };\n\n      --layout-flex-9: {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      };\n\n      --layout-flex-10: {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      };\n\n      --layout-flex-11: {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      };\n\n      --layout-flex-12: {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      };\n\n      /* alignment in cross axis */\n\n      --layout-start: {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      };\n\n      --layout-center: {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      };\n\n      --layout-end: {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      };\n\n      --layout-baseline: {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      };\n\n      /* alignment in main axis */\n\n      --layout-start-justified: {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      };\n\n      --layout-center-justified: {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      };\n\n      --layout-end-justified: {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      };\n\n      --layout-around-justified: {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      };\n\n      --layout-justified: {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      };\n\n      --layout-center-center: {\n        @apply --layout-center;\n        @apply --layout-center-justified;\n      };\n\n      /* self alignment */\n\n      --layout-self-start: {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      };\n\n      --layout-self-center: {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      };\n\n      --layout-self-end: {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      };\n\n      --layout-self-stretch: {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      };\n\n      --layout-self-baseline: {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      };\n\n      /* multi-line alignment in main axis */\n\n      --layout-start-aligned: {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      };\n\n      --layout-end-aligned: {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      };\n\n      --layout-center-aligned: {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      };\n\n      --layout-between-aligned: {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      };\n\n      --layout-around-aligned: {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      };\n\n      /*******************************\n                Other Layout\n      *******************************/\n\n      --layout-block: {\n        display: block;\n      };\n\n      --layout-invisible: {\n        visibility: hidden !important;\n      };\n\n      --layout-relative: {\n        position: relative;\n      };\n\n      --layout-fit: {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-scroll: {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      };\n\n      --layout-fullbleed: {\n        margin: 0;\n        height: 100vh;\n      };\n\n      /* fixed position */\n\n      --layout-fixed-top: {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n      };\n\n      --layout-fixed-right: {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n      };\n\n      --layout-fixed-bottom: {\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-fixed-left: {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n    }\n  </style>\n</custom-style>',document.head.appendChild(h.content);var c=document.createElement("style");c.textContent="[hidden] { display: none !important; }",document.head.appendChild(c);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var p={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},u={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},d={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},m=/[a-z0-9*]/,f=/U\+/,g=/^arrow/,v=/^space(bar)?/,_=/^escape$/;function b(t,e){var i="";if(t){var n=t.toLowerCase();" "===n||v.test(n)?i="space":_.test(n)?i="esc":1==n.length?e&&!m.test(n)||(i=n):i=g.test(n)?n.replace("arrow",""):"multiply"==n?"*":n}return i}function y(t,e){return t.key?b(t.key,e):t.detail&&t.detail.key?b(t.detail.key,e):(i=t.keyIdentifier,n="",i&&(i in p?n=p[i]:f.test(i)?(i=parseInt(i.replace("U+","0x"),16),n=String.fromCharCode(i).toLowerCase()):n=i.toLowerCase()),n||function(t){var e="";return Number(t)&&(e=t>=65&&t<=90?String.fromCharCode(32+t):t>=112&&t<=123?"f"+(t-112+1):t>=48&&t<=57?String(t-48):t>=96&&t<=105?String(t-96):u[t]),e}(t.keyCode)||"");var i,n}function x(t,e){return y(e,t.hasModifiers)===t.key&&(!t.hasModifiers||!!e.shiftKey==!!t.shiftKey&&!!e.ctrlKey==!!t.ctrlKey&&!!e.altKey==!!t.altKey&&!!e.metaKey==!!t.metaKey)}function w(t){return t.trim().split(" ").map(function(t){return function(t){return 1===t.length?{combo:t,key:t,event:"keydown"}:t.split("+").reduce(function(t,e){var i=e.split(":"),n=i[0],s=i[1];return n in d?(t[d[n]]=!0,t.hasModifiers=!0):(t.key=n,t.event=s||"keydown"),t},{combo:t.split(":").shift()})}(t)})}const S={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(t,e){this._imperativeKeyBindings[t]=e,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(t,e){for(var i=w(e),n=0;n<i.length;++n)if(x(i[n],t))return!0;return!1},_collectKeyBindings:function(){var t=this.behaviors.map(function(t){return t.keyBindings});return-1===t.indexOf(this.keyBindings)&&t.push(this.keyBindings),t},_prepKeyBindings:function(){for(var t in this._keyBindings={},this._collectKeyBindings().forEach(function(t){for(var e in t)this._addKeyBinding(e,t[e])},this),this._imperativeKeyBindings)this._addKeyBinding(t,this._imperativeKeyBindings[t]);for(var e in this._keyBindings)this._keyBindings[e].sort(function(t,e){var i=t[0].hasModifiers;return i===e[0].hasModifiers?0:i?-1:1})},_addKeyBinding:function(t,e){w(t).forEach(function(t){this._keyBindings[t.event]=this._keyBindings[t.event]||[],this._keyBindings[t.event].push([t,e])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(t){var e=this._keyBindings[t],i=this._onKeyBindingEvent.bind(this,e);this._boundKeyHandlers.push([this.keyEventTarget,t,i]),this.keyEventTarget.addEventListener(t,i)},this)},_unlistenKeyEventListeners:function(){for(var t,e,i,n;this._boundKeyHandlers.length;)e=(t=this._boundKeyHandlers.pop())[0],i=t[1],n=t[2],e.removeEventListener(i,n)},_onKeyBindingEvent:function(t,e){if(this.stopKeyboardEventPropagation&&e.stopPropagation(),!e.defaultPrevented)for(var i=0;i<t.length;i++){var n=t[i][0],s=t[i][1];if(x(n,e)&&(this._triggerKeyHandler(n,s,e),e.defaultPrevented))return}},_triggerKeyHandler:function(t,e,i){var n=Object.create(t);n.keyboardEvent=i;var s=new CustomEvent(t.event,{detail:n,cancelable:!0});this[e].call(this,s),s.defaultPrevented&&i.preventDefault()}};var k=i(1);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const T={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!n.a}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(t){if(n.a)this._setFocused("focus"===t.type);else if(t.target===this)this._setFocused("focus"===t.type);else if(this.__handleEventRetargeting){var e=Object(k.a)(t).localTarget;this.isLightDescendant(e)||this.fire(t.type,{sourceEvent:t},{node:this,bubbles:t.bubbles,cancelable:t.cancelable})}},_disabledChanged:function(t,e){this.setAttribute("aria-disabled",t?"true":"false"),this.style.pointerEvents=t?"none":"",t?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}},E={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(t){this._detectKeyboardFocus(t),t||this._setPressed(!1)},_detectKeyboardFocus:function(t){this._setReceivedFocusFromKeyboard(!this.pointerDown&&t)},_userActivate:function(t){this.active!==t&&(this.active=t,this.fire("change"))},_downHandler:function(t){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(t){var e=t.detail.keyboardEvent,i=Object(k.a)(e).localTarget;this.isLightDescendant(i)||(e.preventDefault(),e.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(t){var e=t.detail.keyboardEvent,i=Object(k.a)(e).localTarget;this.isLightDescendant(i)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(t){this._changedButtonState()},_ariaActiveAttributeChanged:function(t,e){e&&e!=t&&this.hasAttribute(e)&&this.removeAttribute(e)},_activeChanged:function(t,e){this.toggles?this.setAttribute(this.ariaActiveAttribute,t?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},C=[S,E];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var A={distance:function(t,e,i,n){var s=t-i,r=e-n;return Math.sqrt(s*s+r*r)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function z(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function I(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Object(k.a)(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}z.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,e){var i=A.distance(t,e,0,0),n=A.distance(t,e,this.width,0),s=A.distance(t,e,0,this.height),r=A.distance(t,e,this.width,this.height);return Math.max(i,n,s,r)}},I.MAX_RADIUS=300,I.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=A.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?A.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,i=1.1*Math.min(Math.sqrt(t+e),I.MAX_RADIUS)+5,n=1.1-i/I.MAX_RADIUS*.2,s=this.mouseInteractionSeconds/n,r=i*(1-Math.pow(80,-s));return Math.abs(r)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,e=this.opacity;return Math.max(0,Math.min(t,e))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,I.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,I.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new z(this.element)},draw:function(){var t,e,i;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),e=this.xNow-this.containerMetrics.width/2,i=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+e+"px, "+i+"px)",this.waveContainer.style.transform="translate3d("+e+"px, "+i+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var e=this.containerMetrics.width/2,i=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=A.now(),this.center?(this.xStart=e,this.yStart=i,this.slideDistance=A.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=e,this.yEnd=i,this.slideDistance=A.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(t){this.isMouseDown&&(this.mouseUpStart=A.now())},remove:function(){Object(k.a)(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,
         * creating a node (with a position:absolute) in the middle of an event
         * handler "interrupts" that event handler (which happens when the
         * ripple is created on demand) */
        pointer-events: none;
      }

      :host([animating]) {
        /* This resolves a rendering issue in Chrome (as of 40) where the
           ripple is not properly clipped by its parent (which may have
           rounded corners). See: http://jsbin.com/temexa/4

           Note: We only apply this style conditionally. Otherwise, the browser
           will create a new compositing layer for every ripple element on the
           page, and that would be bad. */
        -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
      }

      #background,
      #waves,
      .wave-container,
      .wave {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      #background,
      .wave {
        opacity: 0;
      }

      #waves,
      .wave {
        overflow: hidden;
      }

      .wave-container,
      .wave {
        border-radius: 50%;
      }

      :host(.circle) #background,
      :host(.circle) #waves {
        border-radius: 50%;
      }

      :host(.circle) .wave-container {
        overflow: hidden;
      }
    </style>

    <div id="background"></div>
    <div id="waves"></div>
`,is:"paper-ripple",behaviors:[S],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==this.parentNode.nodeType?this.keyEventTarget=Object(k.a)(this).getOwnerRoot().host:this.keyEventTarget=this.parentNode;var t=this.keyEventTarget;this.listen(t,"up","uiUpAction"),this.listen(t,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},uiDownAction:function(t){this.noink||this.downAction(t)},downAction:function(t){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(t),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(t){this.noink||this.upAction(t)},upAction:function(t){this.holdDown||(this.ripples.forEach(function(e){e.upAction(t)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire("transitionend")},addRipple:function(){var t=new I(this);return Object(k.a)(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var e=this.ripples.indexOf(t);e<0||(this.ripples.splice(e,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var t,e;for(t=0;t<this.ripples.length;++t)(e=this.ripples[t]).draw(),this.$.background.style.opacity=e.outerOpacity,e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(t,e){void 0!==e&&(t?this.downAction():this.upAction())}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const O={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(t){E._downHandler.call(this,t),this.pressed&&this.ensureRipple(t)},ensureRipple:function(t){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var e=this._rippleContainer||this.root;if(e&&Object(k.a)(e).appendChild(this._ripple),t){var i=Object(k.a)(this._rippleContainer||this),n=Object(k.a)(t).rootTarget;i.deepContains(n)&&this._ripple.uiDownAction(t)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(t){this.hasRipple()&&(this._ripple.noink=t)}},M={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var t=1;this.disabled?t=0:this.active||this.pressed?t=4:this.receivedFocusFromKeyboard&&(t=3),this._setElevation(t)},_computeKeyboardClass:function(t){this.toggleClass("keyboard-focus",t)},_spaceKeyDownHandler:function(t){E._spaceKeyDownHandler.call(this,t),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(t){E._spaceKeyUpHandler.call(this,t),this.hasRipple()&&this._ripple.uiUpAction()}},P=[C,T,O,M],N=document.createElement("template");
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/N.setAttribute("style","display: none;"),N.innerHTML='<dom-module id="paper-material-styles">\n  <template>\n    <style>\n      :host, html {\n        --paper-material: {\n          display: block;\n          position: relative;\n        };\n        --paper-material-elevation-1: {\n          @apply --shadow-elevation-2dp;\n        };\n        --paper-material-elevation-2: {\n          @apply --shadow-elevation-4dp;\n        };\n        --paper-material-elevation-3: {\n          @apply --shadow-elevation-6dp;\n        };\n        --paper-material-elevation-4: {\n          @apply --shadow-elevation-8dp;\n        };\n        --paper-material-elevation-5: {\n          @apply --shadow-elevation-16dp;\n        };\n      }\n      :host(.paper-material), .paper-material {\n        @apply --paper-material;\n      }\n      :host(.paper-material[elevation="1"]), .paper-material[elevation="1"] {\n        @apply --paper-material-elevation-1;\n      }\n      :host(.paper-material[elevation="2"]), .paper-material[elevation="2"] {\n        @apply --paper-material-elevation-2;\n      }\n      :host(.paper-material[elevation="3"]), .paper-material[elevation="3"] {\n        @apply --paper-material-elevation-3;\n      }\n      :host(.paper-material[elevation="4"]), .paper-material[elevation="4"] {\n        @apply --paper-material-elevation-4;\n      }\n      :host(.paper-material[elevation="5"]), .paper-material[elevation="5"] {\n        @apply --paper-material-elevation-5;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(N.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const R=document.createElement("template");R.setAttribute("style","display: none;"),R.innerHTML='<dom-module id="paper-button">\n  <template strip-whitespace="">\n    <style include="paper-material-styles">\n      /* Need to specify the same specificity as the styles imported from paper-material. */\n      :host {\n        @apply --layout-inline;\n        @apply --layout-center-center;\n        position: relative;\n        box-sizing: border-box;\n        min-width: 5.14em;\n        margin: 0 0.29em;\n        background: transparent;\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n        font: inherit;\n        text-transform: uppercase;\n        outline-width: 0;\n        border-radius: 3px;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        padding: 0.7em 0.57em;\n\n        @apply --paper-font-common-base;\n        @apply --paper-button;\n      }\n\n      :host([elevation="1"]) {\n        @apply --paper-material-elevation-1;\n      }\n\n      :host([elevation="2"]) {\n        @apply --paper-material-elevation-2;\n      }\n\n      :host([elevation="3"]) {\n        @apply --paper-material-elevation-3;\n      }\n\n      :host([elevation="4"]) {\n        @apply --paper-material-elevation-4;\n      }\n\n      :host([elevation="5"]) {\n        @apply --paper-material-elevation-5;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host([raised].keyboard-focus) {\n        font-weight: bold;\n        @apply --paper-button-raised-keyboard-focus;\n      }\n\n      :host(:not([raised]).keyboard-focus) {\n        font-weight: bold;\n        @apply --paper-button-flat-keyboard-focus;\n      }\n\n      :host([disabled]) {\n        background: #eaeaea;\n        color: #a8a8a8;\n        cursor: auto;\n        pointer-events: none;\n\n        @apply --paper-button-disabled;\n      }\n\n      :host([animated]) {\n        @apply --shadow-transition;\n      }\n\n      paper-ripple {\n        color: var(--paper-button-ink-color);\n      }\n    </style>\n\n    <slot></slot>\n  </template>\n\n  \n</dom-module>',document.head.appendChild(R.content),Object(o.a)({is:"paper-button",behaviors:[P],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?M._calculateElevation.apply(this):this._setElevation(0)}});var D=i(16);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const H={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)},this),this._fireResize())},assignParentResizable:function(t){this._parentResizable=t},stopResizeNotificationsFor:function(t){var e=this._interestedResizables.indexOf(t);e>-1&&(this._interestedResizables.splice(e,1),this.unlisten(t,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(t){return!0},_onDescendantIronResize:function(t){this._notifyingDescendant?t.stopPropagation():D.d||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(t){var e=Object(k.a)(t).rootTarget;e!==this&&(-1===this._interestedResizables.indexOf(e)&&(this._interestedResizables.push(e),this.listen(e,"iron-resize","_onDescendantIronResize")),e.assignParentResizable(this),this._notifyDescendant(e),t.stopPropagation())},_parentResizableChanged:function(t){t&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(t){this.isAttached&&(this._notifyingDescendant=!0,t.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var t=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function e(){document.removeEventListener("readystatechange",e),t()})}else this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())}},V=function(t){this.selection=[],this.selectCallback=t};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/V.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(t){this.selection.slice().forEach(function(e){(!t||t.indexOf(e)<0)&&this.setItemSelected(e,!1)},this)},isSelected:function(t){return this.selection.indexOf(t)>=0},setItemSelected:function(t,e){if(null!=t&&e!==this.isSelected(t)){if(e)this.selection.push(t);else{var i=this.selection.indexOf(t);i>=0&&this.selection.splice(i,1)}this.selectCallback&&this.selectCallback(t,e)}},select:function(t){this.multi?this.toggle(t):this.get()!==t&&(this.setItemSelected(this.get(),!1),this.setItemSelected(t,!0))},toggle:function(t){this.setItemSelected(t,!this.isSelected(t))}};var j=i(17);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const B={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new V(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Object(k.a)(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(t){return this.items?this.items.indexOf(t):-1},select:function(t){this.selected=t},selectPrevious:function(){var t=this.items.length,e=(Number(this._valueToIndex(this.selected))-1+t)%t;this.selected=this._indexToValue(e)},selectNext:function(){var t=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(t)},selectIndex:function(t){this.select(this._indexToValue(t))},forceSynchronousItemUpdate:function(){this._observer&&"function"==typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(t){this.listen(this,t,"_activateHandler")},_removeListener:function(t){this.unlisten(this,t,"_activateHandler")},_activateEventChanged:function(t,e){this._removeListener(e),this._addListener(t)},_updateItems:function(){var t=Object(k.a)(this).queryDistributedElements(this.selectable||"*");t=Array.prototype.filter.call(t,this._bindFilterItem),this._setItems(t)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(t){if(this.items){var e=this._valueToItem(this.selected);e?this._selection.select(e):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(t){return!this._excludedLocalNames[t.localName]},_valueToItem:function(t){return null==t?null:this.items[this._valueToIndex(t)]},_valueToIndex:function(t){if(!this.attrForSelected)return Number(t);for(var e,i=0;e=this.items[i];i++)if(this._valueForItem(e)==t)return i},_indexToValue:function(t){if(!this.attrForSelected)return t;var e=this.items[t];return e?this._valueForItem(e):void 0},_valueForItem:function(t){if(!t)return null;if(!this.attrForSelected){var e=this.indexOf(t);return-1===e?null:e}var i=t[Object(j.dashToCamelCase)(this.attrForSelected)];return void 0!=i?i:t.getAttribute(this.attrForSelected)},_applySelection:function(t,e){this.selectedClass&&this.toggleClass(this.selectedClass,e,t),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,e,t),this._selectionChange(),this.fire("iron-"+(e?"select":"deselect"),{item:t})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(t){return Object(k.a)(t).observeNodes(function(t){this._updateItems(),this._updateSelected(),this.fire("iron-items-changed",t,{bubbles:!1,cancelable:!1})})},_activateHandler:function(t){for(var e=t.target,i=this.items;e&&e!=this;){var n=i.indexOf(e);if(n>=0){var s=this._indexToValue(n);return void this._itemActivate(s,e)}e=e.parentNode}},_itemActivate:function(t,e){this.fire("iron-activate",{selected:t,item:e},{cancelable:!0}).defaultPrevented||this.select(t)}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: block;
      }

      :host > ::slotted(:not(slot):not(.iron-selected)) {
        display: none !important;
      }
    </style>

    <slot></slot>
`,is:"iron-pages",behaviors:[H,B],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(t,e){this.async(this.notifyResize)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const U=function(t){U[" "](t),this.type=t&&t.type||"default",this.key=t&&t.key,t&&"value"in t&&(this.value=t.value)};U[" "]=function(){},U.types={},U.prototype={get value(){var t=this.type,e=this.key;if(t&&e)return U.types[t]&&U.types[t][e]},set value(t){var e=this.type,i=this.key;e&&i&&(e=U.types[e]=U.types[e]||{},null==t?delete e[i]:e[i]=t)},get list(){if(this.type){var t=U.types[this.type];return t?Object.keys(t).map(function(t){return F[this.type][t]},this):[]}},byKey:function(t){return this.key=t,this.value}};var F=U.types;Object(o.a)({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(t,e,i){var n=new U({type:t,key:e});return void 0!==i&&i!==n.value?n.value=i:this.value!==n.value&&(this.value=n.value),n},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(t){t&&(this.value=this)},byKey:function(t){return new U({type:this.type,key:t}).value}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({_template:l["a"]`
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;

        vertical-align: middle;

        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);

        width: var(--iron-icon-width, 24px);
        height: var(--iron-icon-height, 24px);
        @apply --iron-icon;
      }

      :host([hidden]) {
        display: none;
      }
    </style>
`,is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:s.a.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(t){var e=(t||"").split(":");this._iconName=e.pop(),this._iconsetName=e.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(t){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Object(k.a)(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Object(k.a)(this.root).appendChild(this._img))}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new U({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(t){return this.name+":"+t},this)},applyIcon:function(t,e){this.removeIcon(t);var i=this._cloneIcon(e,this.rtlMirroring&&this._targetIsRTL(t));if(i){var n=Object(k.a)(t.root||t);return n.insertBefore(i,n.childNodes[0]),t._svgIcon=i}return null},removeIcon:function(t){t._svgIcon&&(Object(k.a)(t.root||t).removeChild(t._svgIcon),t._svgIcon=null)},_targetIsRTL:function(t){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var e=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===e.getAttribute("dir")}else t&&t.nodeType!==Node.ELEMENT_NODE&&(t=t.host),this.__targetIsRTL=t&&"rtl"===window.getComputedStyle(t).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var t=Object.create(null);return Object(k.a)(this).querySelectorAll("[id]").forEach(function(e){t[e.id]=e}),t},_cloneIcon:function(t,e){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[t],this.size,e)},_prepareSvgClone:function(t,e,i){if(t){var n=t.cloneNode(!0),s=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=n.getAttribute("viewBox")||"0 0 "+e+" "+e,a="pointer-events: none; display: block; width: 100%; height: 100%;";return i&&n.hasAttribute("mirror-in-rtl")&&(a+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"),s.setAttribute("viewBox",r),s.setAttribute("preserveAspectRatio","xMidYMid meet"),s.setAttribute("focusable","false"),s.style.cssText=a,s.appendChild(n).removeAttribute("id"),s}return null}});const q=document.createElement("template");q.setAttribute("style","display: none;"),q.innerHTML='<iron-iconset-svg name="icons" size="24">\n<svg><defs>\n<g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g>\n<g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g>\n<g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g>\n<g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g>\n<g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>\n<g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g>\n<g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g>\n<g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g>\n<g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g>\n<g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g>\n<g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g>\n<g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>\n<g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g>\n<g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g>\n<g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g>\n<g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g>\n<g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g>\n<g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g>\n<g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g>\n<g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g>\n<g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g>\n<g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g>\n<g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g>\n<g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g>\n<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>\n<g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g>\n<g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g>\n<g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g>\n<g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g>\n<g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g>\n<g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g>\n<g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g>\n<g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g>\n<g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g>\n<g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g>\n<g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g>\n<g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g>\n<g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g>\n<g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g>\n<g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g>\n<g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g>\n<g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g>\n<g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g>\n<g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g>\n<g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g>\n<g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g>\n<g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g>\n<g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g>\n<g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g>\n<g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g>\n<g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g>\n<g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g>\n<g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g>\n<g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g>\n<g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g>\n<g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g>\n<g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>\n<g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g>\n<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>\n<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>\n<g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g>\n<g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g>\n<g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>\n<g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>\n<g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g>\n<g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g>\n<g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g>\n<g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g>\n<g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g>\n<g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g>\n<g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g>\n<g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g>\n<g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g>\n<g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g>\n<g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g>\n<g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g>\n<g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>\n<g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g>\n<g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g>\n<g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g>\n<g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g>\n<g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g>\n<g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g>\n<g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g>\n<g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"></path></g>\n<g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g>\n<g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>\n<g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g>\n<g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g>\n<g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g>\n<g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g>\n<g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g>\n<g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g>\n<g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g>\n<g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>\n<g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"></path></g>\n<g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g>\n<g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g>\n<g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>\n<g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g>\n<g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g>\n<g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g>\n<g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g>\n<g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g>\n<g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g>\n<g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g>\n<g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g>\n<g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g>\n<g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g>\n<g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g>\n<g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g>\n<g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g>\n<g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g>\n<g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></g>\n<g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g>\n<g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g>\n<g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g>\n<g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g>\n<g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g>\n<g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g>\n<g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g>\n<g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g>\n<g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g>\n<g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g>\n<g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g>\n<g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g>\n<g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"></path></g>\n<g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g>\n<g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g>\n<g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g>\n<g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g>\n<g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g>\n<g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>\n<g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g>\n<g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g>\n<g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>\n<g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g>\n<g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g>\n<g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g>\n<g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g>\n<g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g>\n<g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g>\n<g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g>\n<g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g>\n<g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g>\n<g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g>\n<g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g>\n<g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g>\n<g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g>\n<g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g>\n<g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g>\n<g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g>\n<g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></g>\n<g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g>\n<g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g>\n<g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g>\n<g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g>\n<g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g>\n<g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g>\n<g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g>\n<g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g>\n<g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g>\n<g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"></path></g>\n<g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g>\n<g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>\n<g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>\n<g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g>\n<g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g>\n<g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>\n<g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>\n<g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g>\n<g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g>\n<g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g>\n<g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g>\n<g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g>\n<g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g>\n<g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g>\n<g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g>\n<g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g>\n<g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g>\n<g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g>\n<g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g>\n<g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g>\n<g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g>\n<g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>\n<g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g>\n<g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g>\n<g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g>\n<g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g>\n<g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g>\n<g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g>\n<g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g>\n<g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g>\n<g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g>\n<g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g>\n<g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g>\n<g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g>\n<g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g>\n<g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g>\n<g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g>\n<g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>\n<g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>\n<g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g>\n<g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g>\n<g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g>\n<g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g>\n<g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g>\n<g id="remove"><path d="M19 13H5v-2h14v2z"></path></g>\n<g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g>\n<g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>\n<g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"></path></g>\n<g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g>\n<g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g>\n<g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g>\n<g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g>\n<g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g>\n<g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g>\n<g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"></path></g>\n<g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>\n<g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g>\n<g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g>\n<g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g>\n<g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g>\n<g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g>\n<g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g>\n<g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g>\n<g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g>\n<g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g>\n<g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g>\n<g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g>\n<g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g>\n<g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g>\n<g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g>\n<g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g>\n<g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g>\n<g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g>\n<g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g>\n<g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g>\n<g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g>\n<g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g>\n<g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g>\n<g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g>\n<g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g>\n<g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g>\n<g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g>\n<g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>\n<g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g>\n<g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g>\n<g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g>\n<g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z"></path></g>\n<g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g>\n<g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g>\n<g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g>\n<g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g>\n<g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g>\n<g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g>\n<g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g>\n<g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g>\n<g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g>\n<g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g>\n<g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g>\n<g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g>\n<g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g>\n<g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g>\n<g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g>\n<g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g>\n<g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g>\n<g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g>\n<g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g>\n<g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g>\n<g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g>\n<g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g>\n<g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g>\n<g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g>\n<g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g>\n<g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g>\n<g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g>\n<g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g>\n<g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g>\n<g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g>\n<g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g>\n<g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g>\n<g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g>\n<g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g>\n<g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g>\n<g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g>\n<g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g>\n<g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g>\n<g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g>\n<g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g>\n<g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g>\n<g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g>\n<g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g>\n<g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g>\n<g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g>\n<g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g>\n<g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g>\n<g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g>\n<g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g>\n<g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g>\n<g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>\n<g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g>\n<g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g>\n<g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g>\n<g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g>\n<g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g>\n<g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g>\n<g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g>\n<g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g>\n</defs></svg>\n</iron-iconset-svg>',document.head.appendChild(q.content);const $=document.createElement("template");$.setAttribute("style","display: none;"),$.innerHTML='<iron-iconset-svg name="social" size="24">\n<svg><defs>\n<g id="cake"><path d="M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm4.6 9.99l-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01zM18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9z"></path></g>\n<g id="domain"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"></path></g>\n<g id="group"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g>\n<g id="group-add"><path d="M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"></path></g>\n<g id="location-city"><path d="M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"></path></g>\n<g id="mood"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g>\n<g id="mood-bad"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g>\n<g id="notifications"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"></path></g>\n<g id="notifications-active"><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"></path></g>\n<g id="notifications-none"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"></path></g>\n<g id="notifications-off"><path d="M20 18.69L7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"></path></g>\n<g id="notifications-paused"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.93 6 11v5l-2 2v1h16v-1l-2-2zm-3.5-6.2l-2.8 3.4h2.8V15h-5v-1.8l2.8-3.4H9.5V8h5v1.8z"></path></g>\n<g id="pages"><path d="M3 5v6h5L7 7l4 1V3H5c-1.1 0-2 .9-2 2zm5 8H3v6c0 1.1.9 2 2 2h6v-5l-4 1 1-4zm9 4l-4-1v5h6c1.1 0 2-.9 2-2v-6h-5l1 4zm2-14h-6v5l4-1-1 4h5V5c0-1.1-.9-2-2-2z"></path></g>\n<g id="party-mode"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 3c1.63 0 3.06.79 3.98 2H12c-1.66 0-3 1.34-3 3 0 .35.07.69.18 1H7.1c-.06-.32-.1-.66-.1-1 0-2.76 2.24-5 5-5zm0 10c-1.63 0-3.06-.79-3.98-2H12c1.66 0 3-1.34 3-3 0-.35-.07-.69-.18-1h2.08c.07.32.1.66.1 1 0 2.76-2.24 5-5 5z"></path></g>\n<g id="people"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g>\n<g id="people-outline"><path d="M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></g>\n<g id="person"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></g>\n<g id="person-add"><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></g>\n<g id="person-outline"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g>\n<g id="plus-one"><path d="M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"></path></g>\n<g id="poll"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g>\n<g id="public"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></g>\n<g id="school"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"></path></g>\n<g id="sentiment-dissatisfied"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"></path></g>\n<g id="sentiment-neutral"><path d="M9 14h6v1.5H9z"></path><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>\n<g id="sentiment-satisfied"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-1.48 0-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5s4.32-1.45 5.12-3.5h-1.67c-.7 1.19-1.97 2-3.45 2z"></path></g>\n<g id="sentiment-very-dissatisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm4.18-12.24l-1.06 1.06-1.06-1.06L13 8.82l1.06 1.06L13 10.94 14.06 12l1.06-1.06L16.18 12l1.06-1.06-1.06-1.06 1.06-1.06zM7.82 12l1.06-1.06L9.94 12 11 10.94 9.94 9.88 11 8.82 9.94 7.76 8.88 8.82 7.82 7.76 6.76 8.82l1.06 1.06-1.06 1.06zM12 14c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g>\n<g id="sentiment-very-satisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-10.06L14.06 11l1.06-1.06L16.18 11l1.06-1.06-2.12-2.12zm-4.12 0L9.94 11 11 9.94 8.88 7.82 6.76 9.94 7.82 11zM12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g>\n<g id="share"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path></g>\n<g id="whatshot"><path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"></path></g>\n</defs></svg>\n</iron-iconset-svg>',document.head.appendChild($.content);var Z=i(91),G=i.n(Z);let X=document.createElement("div");X.style.display="none",X.innerHTML=G.a,document.head.appendChild(X);i(12);const K=document.createElement("template");K.setAttribute("style","display: none;"),K.innerHTML='<custom-style>\n  <style is="custom-style">\n    html {\n\n      /* Material Design color palette for Google products */\n\n      --google-red-100: #f4c7c3;\n      --google-red-300: #e67c73;\n      --google-red-500: #db4437;\n      --google-red-700: #c53929;\n\n      --google-blue-100: #c6dafc;\n      --google-blue-300: #7baaf7;\n      --google-blue-500: #4285f4;\n      --google-blue-700: #3367d6;\n\n      --google-green-100: #b7e1cd;\n      --google-green-300: #57bb8a;\n      --google-green-500: #0f9d58;\n      --google-green-700: #0b8043;\n\n      --google-yellow-100: #fce8b2;\n      --google-yellow-300: #f7cb4d;\n      --google-yellow-500: #f4b400;\n      --google-yellow-700: #f09300;\n\n      --google-grey-100: #f5f5f5;\n      --google-grey-300: #e0e0e0;\n      --google-grey-500: #9e9e9e;\n      --google-grey-700: #616161;\n\n      /* Material Design color palette from online spec document */\n\n      --paper-red-50: #ffebee;\n      --paper-red-100: #ffcdd2;\n      --paper-red-200: #ef9a9a;\n      --paper-red-300: #e57373;\n      --paper-red-400: #ef5350;\n      --paper-red-500: #f44336;\n      --paper-red-600: #e53935;\n      --paper-red-700: #d32f2f;\n      --paper-red-800: #c62828;\n      --paper-red-900: #b71c1c;\n      --paper-red-a100: #ff8a80;\n      --paper-red-a200: #ff5252;\n      --paper-red-a400: #ff1744;\n      --paper-red-a700: #d50000;\n\n      --paper-pink-50: #fce4ec;\n      --paper-pink-100: #f8bbd0;\n      --paper-pink-200: #f48fb1;\n      --paper-pink-300: #f06292;\n      --paper-pink-400: #ec407a;\n      --paper-pink-500: #e91e63;\n      --paper-pink-600: #d81b60;\n      --paper-pink-700: #c2185b;\n      --paper-pink-800: #ad1457;\n      --paper-pink-900: #880e4f;\n      --paper-pink-a100: #ff80ab;\n      --paper-pink-a200: #ff4081;\n      --paper-pink-a400: #f50057;\n      --paper-pink-a700: #c51162;\n\n      --paper-purple-50: #f3e5f5;\n      --paper-purple-100: #e1bee7;\n      --paper-purple-200: #ce93d8;\n      --paper-purple-300: #ba68c8;\n      --paper-purple-400: #ab47bc;\n      --paper-purple-500: #9c27b0;\n      --paper-purple-600: #8e24aa;\n      --paper-purple-700: #7b1fa2;\n      --paper-purple-800: #6a1b9a;\n      --paper-purple-900: #4a148c;\n      --paper-purple-a100: #ea80fc;\n      --paper-purple-a200: #e040fb;\n      --paper-purple-a400: #d500f9;\n      --paper-purple-a700: #aa00ff;\n\n      --paper-deep-purple-50: #ede7f6;\n      --paper-deep-purple-100: #d1c4e9;\n      --paper-deep-purple-200: #b39ddb;\n      --paper-deep-purple-300: #9575cd;\n      --paper-deep-purple-400: #7e57c2;\n      --paper-deep-purple-500: #673ab7;\n      --paper-deep-purple-600: #5e35b1;\n      --paper-deep-purple-700: #512da8;\n      --paper-deep-purple-800: #4527a0;\n      --paper-deep-purple-900: #311b92;\n      --paper-deep-purple-a100: #b388ff;\n      --paper-deep-purple-a200: #7c4dff;\n      --paper-deep-purple-a400: #651fff;\n      --paper-deep-purple-a700: #6200ea;\n\n      --paper-indigo-50: #e8eaf6;\n      --paper-indigo-100: #c5cae9;\n      --paper-indigo-200: #9fa8da;\n      --paper-indigo-300: #7986cb;\n      --paper-indigo-400: #5c6bc0;\n      --paper-indigo-500: #3f51b5;\n      --paper-indigo-600: #3949ab;\n      --paper-indigo-700: #303f9f;\n      --paper-indigo-800: #283593;\n      --paper-indigo-900: #1a237e;\n      --paper-indigo-a100: #8c9eff;\n      --paper-indigo-a200: #536dfe;\n      --paper-indigo-a400: #3d5afe;\n      --paper-indigo-a700: #304ffe;\n\n      --paper-blue-50: #e3f2fd;\n      --paper-blue-100: #bbdefb;\n      --paper-blue-200: #90caf9;\n      --paper-blue-300: #64b5f6;\n      --paper-blue-400: #42a5f5;\n      --paper-blue-500: #2196f3;\n      --paper-blue-600: #1e88e5;\n      --paper-blue-700: #1976d2;\n      --paper-blue-800: #1565c0;\n      --paper-blue-900: #0d47a1;\n      --paper-blue-a100: #82b1ff;\n      --paper-blue-a200: #448aff;\n      --paper-blue-a400: #2979ff;\n      --paper-blue-a700: #2962ff;\n\n      --paper-light-blue-50: #e1f5fe;\n      --paper-light-blue-100: #b3e5fc;\n      --paper-light-blue-200: #81d4fa;\n      --paper-light-blue-300: #4fc3f7;\n      --paper-light-blue-400: #29b6f6;\n      --paper-light-blue-500: #03a9f4;\n      --paper-light-blue-600: #039be5;\n      --paper-light-blue-700: #0288d1;\n      --paper-light-blue-800: #0277bd;\n      --paper-light-blue-900: #01579b;\n      --paper-light-blue-a100: #80d8ff;\n      --paper-light-blue-a200: #40c4ff;\n      --paper-light-blue-a400: #00b0ff;\n      --paper-light-blue-a700: #0091ea;\n\n      --paper-cyan-50: #e0f7fa;\n      --paper-cyan-100: #b2ebf2;\n      --paper-cyan-200: #80deea;\n      --paper-cyan-300: #4dd0e1;\n      --paper-cyan-400: #26c6da;\n      --paper-cyan-500: #00bcd4;\n      --paper-cyan-600: #00acc1;\n      --paper-cyan-700: #0097a7;\n      --paper-cyan-800: #00838f;\n      --paper-cyan-900: #006064;\n      --paper-cyan-a100: #84ffff;\n      --paper-cyan-a200: #18ffff;\n      --paper-cyan-a400: #00e5ff;\n      --paper-cyan-a700: #00b8d4;\n\n      --paper-teal-50: #e0f2f1;\n      --paper-teal-100: #b2dfdb;\n      --paper-teal-200: #80cbc4;\n      --paper-teal-300: #4db6ac;\n      --paper-teal-400: #26a69a;\n      --paper-teal-500: #009688;\n      --paper-teal-600: #00897b;\n      --paper-teal-700: #00796b;\n      --paper-teal-800: #00695c;\n      --paper-teal-900: #004d40;\n      --paper-teal-a100: #a7ffeb;\n      --paper-teal-a200: #64ffda;\n      --paper-teal-a400: #1de9b6;\n      --paper-teal-a700: #00bfa5;\n\n      --paper-green-50: #e8f5e9;\n      --paper-green-100: #c8e6c9;\n      --paper-green-200: #a5d6a7;\n      --paper-green-300: #81c784;\n      --paper-green-400: #66bb6a;\n      --paper-green-500: #4caf50;\n      --paper-green-600: #43a047;\n      --paper-green-700: #388e3c;\n      --paper-green-800: #2e7d32;\n      --paper-green-900: #1b5e20;\n      --paper-green-a100: #b9f6ca;\n      --paper-green-a200: #69f0ae;\n      --paper-green-a400: #00e676;\n      --paper-green-a700: #00c853;\n\n      --paper-light-green-50: #f1f8e9;\n      --paper-light-green-100: #dcedc8;\n      --paper-light-green-200: #c5e1a5;\n      --paper-light-green-300: #aed581;\n      --paper-light-green-400: #9ccc65;\n      --paper-light-green-500: #8bc34a;\n      --paper-light-green-600: #7cb342;\n      --paper-light-green-700: #689f38;\n      --paper-light-green-800: #558b2f;\n      --paper-light-green-900: #33691e;\n      --paper-light-green-a100: #ccff90;\n      --paper-light-green-a200: #b2ff59;\n      --paper-light-green-a400: #76ff03;\n      --paper-light-green-a700: #64dd17;\n\n      --paper-lime-50: #f9fbe7;\n      --paper-lime-100: #f0f4c3;\n      --paper-lime-200: #e6ee9c;\n      --paper-lime-300: #dce775;\n      --paper-lime-400: #d4e157;\n      --paper-lime-500: #cddc39;\n      --paper-lime-600: #c0ca33;\n      --paper-lime-700: #afb42b;\n      --paper-lime-800: #9e9d24;\n      --paper-lime-900: #827717;\n      --paper-lime-a100: #f4ff81;\n      --paper-lime-a200: #eeff41;\n      --paper-lime-a400: #c6ff00;\n      --paper-lime-a700: #aeea00;\n\n      --paper-yellow-50: #fffde7;\n      --paper-yellow-100: #fff9c4;\n      --paper-yellow-200: #fff59d;\n      --paper-yellow-300: #fff176;\n      --paper-yellow-400: #ffee58;\n      --paper-yellow-500: #ffeb3b;\n      --paper-yellow-600: #fdd835;\n      --paper-yellow-700: #fbc02d;\n      --paper-yellow-800: #f9a825;\n      --paper-yellow-900: #f57f17;\n      --paper-yellow-a100: #ffff8d;\n      --paper-yellow-a200: #ffff00;\n      --paper-yellow-a400: #ffea00;\n      --paper-yellow-a700: #ffd600;\n\n      --paper-amber-50: #fff8e1;\n      --paper-amber-100: #ffecb3;\n      --paper-amber-200: #ffe082;\n      --paper-amber-300: #ffd54f;\n      --paper-amber-400: #ffca28;\n      --paper-amber-500: #ffc107;\n      --paper-amber-600: #ffb300;\n      --paper-amber-700: #ffa000;\n      --paper-amber-800: #ff8f00;\n      --paper-amber-900: #ff6f00;\n      --paper-amber-a100: #ffe57f;\n      --paper-amber-a200: #ffd740;\n      --paper-amber-a400: #ffc400;\n      --paper-amber-a700: #ffab00;\n\n      --paper-orange-50: #fff3e0;\n      --paper-orange-100: #ffe0b2;\n      --paper-orange-200: #ffcc80;\n      --paper-orange-300: #ffb74d;\n      --paper-orange-400: #ffa726;\n      --paper-orange-500: #ff9800;\n      --paper-orange-600: #fb8c00;\n      --paper-orange-700: #f57c00;\n      --paper-orange-800: #ef6c00;\n      --paper-orange-900: #e65100;\n      --paper-orange-a100: #ffd180;\n      --paper-orange-a200: #ffab40;\n      --paper-orange-a400: #ff9100;\n      --paper-orange-a700: #ff6500;\n\n      --paper-deep-orange-50: #fbe9e7;\n      --paper-deep-orange-100: #ffccbc;\n      --paper-deep-orange-200: #ffab91;\n      --paper-deep-orange-300: #ff8a65;\n      --paper-deep-orange-400: #ff7043;\n      --paper-deep-orange-500: #ff5722;\n      --paper-deep-orange-600: #f4511e;\n      --paper-deep-orange-700: #e64a19;\n      --paper-deep-orange-800: #d84315;\n      --paper-deep-orange-900: #bf360c;\n      --paper-deep-orange-a100: #ff9e80;\n      --paper-deep-orange-a200: #ff6e40;\n      --paper-deep-orange-a400: #ff3d00;\n      --paper-deep-orange-a700: #dd2c00;\n\n      --paper-brown-50: #efebe9;\n      --paper-brown-100: #d7ccc8;\n      --paper-brown-200: #bcaaa4;\n      --paper-brown-300: #a1887f;\n      --paper-brown-400: #8d6e63;\n      --paper-brown-500: #795548;\n      --paper-brown-600: #6d4c41;\n      --paper-brown-700: #5d4037;\n      --paper-brown-800: #4e342e;\n      --paper-brown-900: #3e2723;\n\n      --paper-grey-50: #fafafa;\n      --paper-grey-100: #f5f5f5;\n      --paper-grey-200: #eeeeee;\n      --paper-grey-300: #e0e0e0;\n      --paper-grey-400: #bdbdbd;\n      --paper-grey-500: #9e9e9e;\n      --paper-grey-600: #757575;\n      --paper-grey-700: #616161;\n      --paper-grey-800: #424242;\n      --paper-grey-900: #212121;\n\n      --paper-blue-grey-50: #eceff1;\n      --paper-blue-grey-100: #cfd8dc;\n      --paper-blue-grey-200: #b0bec5;\n      --paper-blue-grey-300: #90a4ae;\n      --paper-blue-grey-400: #78909c;\n      --paper-blue-grey-500: #607d8b;\n      --paper-blue-grey-600: #546e7a;\n      --paper-blue-grey-700: #455a64;\n      --paper-blue-grey-800: #37474f;\n      --paper-blue-grey-900: #263238;\n\n      /* opacity for dark text on a light background */\n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; /* or hint text or icon */\n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      /* opacity for light text on a dark background */\n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; /* or hint text or icon */\n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n\n    }\n\n  </style>\n</custom-style>',document.head.appendChild(K.content);const W=document.createElement("template");W.setAttribute("style","display: none;"),W.innerHTML='<custom-style>\n  <style is="custom-style">\n    html {\n      /*\n       * You can use these generic variables in your elements for easy theming.\n       * For example, if all your elements use `--primary-text-color` as its main\n       * color, then switching from a light to a dark theme is just a matter of\n       * changing the value of `--primary-text-color` in your application.\n       */\n      --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      /*\n       * Primary and accent colors. Also see color.html for more colors.\n       */\n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      /*\n       * Material Design Light background theme\n       */\n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  /* for secondary text and icons */\n      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */\n      --light-theme-divider-color: #dbdbdb;\n\n      /*\n       * Material Design Dark background theme\n       */\n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */\n      --dark-theme-disabled-color: #646464;  /* disabled/hint text */\n      --dark-theme-divider-color: #3c3c3c;\n\n      /*\n       * Deprecated values because of their confusing names.\n       */\n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n    }\n  </style>\n</custom-style>',document.head.appendChild(W.content);var Y=i(90),J=i.n(Y);let Q=document.createElement("div");Q.style.display="none",Q.innerHTML=J.a,document.head.appendChild(Q);var tt=i(89),et=i.n(tt);const it=document.createElement("template");it.innerHTML=et.a,document.head.appendChild(it.content);i(126);var nt=i(83),st=i.n(nt);customElements.define("fin-search-box",class extends n.a{static get properties(){return{placeholder:{type:String,value:""},browse:{type:Object,observer:"_onBrowseOptionsChange",value:()=>{}}}}static get template(){let t=document.createElement("template");return t.innerHTML=st.a,t}get browseValue(){return this._browseValue||"Browse"}set browseValue(t){this._browseValue=t,this.$.select.value=t}get value(){return this.$.input.value}set value(t){this.$.input.value=t}_fireSearch(){this.dispatchEvent(new CustomEvent("search",{detail:this.$.input.value,bubbles:!0,composed:!0}))}_fireBrowse(){this.dispatchEvent(new CustomEvent("browse",{detail:this.$.select.value,bubbles:!0,composed:!0}))}_onKeyUp(t){13===t.which&&this._fireSearch()}_onBrowseOptionsChange(){let t=["<option>Browse</option>"];for(let e in this.browse)t.push(`<option value="${e}">${this.browse[e]}</option>`);this.$.select.innerHTML=t.join(""),this.$.select.value=this.browseValue}});var rt=i(82),at=i.n(rt);customElements.define("app-collection-card",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=at.a,t}static get properties(){return{collection:{type:Object,value:()=>{}},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}});var ot=i(81),lt=i.n(ot),ht=i(11),ct=i.n(ht),pt=i(8),ut=i.n(pt),dt=i(6),mt=i.n(dt);customElements.define("app-home",class extends(Mixin(n.a).with(EventInterface,ct.a,ut.a,mt.a)){static get template(){let t=document.createElement("template");return t.innerHTML=lt.a,t}static get properties(){return{highlightedCollections:{type:Array,value:()=>[]}}}constructor(){super(),this.active=!0}_onCollectionOverviewUpdate(t){if("loaded"!==t.state)return;let e=t.payload,i={};e.sort((t,e)=>t.name>e.name?1:t.name<e.name?-1:0),e.forEach(t=>{i[t.id]=t.name,t.thumbnail="/fcrepo/rest"+t.workExample+"/svc:iiif/full/,320/0/default.jpg"}),this.$.searchBox.browse=i,this.highlightedCollections=e}_onBrowse(t){let e=t.detail;if(!e||"Browse"===e)return this._searchRecords(this._getEmptySearchDocument());this.$.searchBox.browseValue="Browse",this._onCollectionSelected(e)}_onSearch(t){let e=this._getEmptySearchDocument();this._setTextFilter(e,t.detail),this._searchRecords(e)}_onCollectionClicked(t){if("keyup"===t.type&&13!==t.which)return;let e=t.currentTarget.getAttribute("data-id");this._onCollectionSelected(e)}_onCollectionSelected(t){let e=this._setKeywordFilter(this._getEmptySearchDocument(),"isPartOf",t);this._searchRecords(e)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ft={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached(){n.a||this.fire("iron-form-element-register")},detached(){!n.a&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}},gt=Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live\$="[[mode]]">[[_text]]</div>
`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){gt.instance||(gt.instance=this),document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(t){this._text="",this.async(function(){this._text=t},100)},_onIronAnnounce:function(t){t.detail&&t.detail.text&&this.announce(t.detail.text)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/gt.instance=null,gt.requestAvailability=function(){gt.instance||(gt.instance=document.createElement("iron-a11y-announcer")),document.body.appendChild(gt.instance)};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let vt=null;const _t={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){vt=new U({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return vt&&vt.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(t){return void 0===t&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(t),!this.invalid},_getValidity:function(t){return!this.hasValidator()||this._validator.validate(t)}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: inline-block;
      }
    </style>
    <slot id="content"></slot>
`,is:"iron-input",behaviors:[_t],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){gt.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=Object(k.a)(this).observeNodes(function(t){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Object(k.a)(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var t;if(this.allowedPattern)t=new RegExp(this.allowedPattern);else switch(this.inputElement.type){case"number":t=/[0-9.,e-]/}return t},_bindValueChanged:function(t,e){e&&(void 0===t?e.value=null:t!==e.value&&(this.inputElement.value=t),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:t}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(t){var e=8==t.keyCode||9==t.keyCode||13==t.keyCode||27==t.keyCode,i=19==t.keyCode||20==t.keyCode||45==t.keyCode||46==t.keyCode||144==t.keyCode||145==t.keyCode||t.keyCode>32&&t.keyCode<41||t.keyCode>111&&t.keyCode<124;return!(e||0==t.charCode&&i)},_onKeypress:function(t){if(this.allowedPattern||"number"===this.inputElement.type){var e=this._patternRegExp;if(e&&!(t.metaKey||t.ctrlKey||t.altKey)){this._patternAlreadyChecked=!0;var i=String.fromCharCode(t.charCode);this._isPrintable(t)&&!e.test(i)&&(t.preventDefault(),this._announceInvalidCharacter("Invalid character "+i+" not entered."))}}},_checkPatternValidity:function(){var t=this._patternRegExp;if(!t)return!0;for(var e=0;e<this.inputElement.value.length;e++)if(!t.test(this.inputElement.value[e]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var t=this.inputElement.checkValidity();return t&&(this.required&&""===this.bindValue?t=!1:this.hasValidator()&&(t=_t.validate.call(this,this.bindValue))),this.invalid=!t,this.fire("iron-input-validate"),t},_announceInvalidCharacter:function(t){this.fire("iron-announce",{text:t})},_computeValue:function(t){return t}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const bt={NextLabelID:1,NextAddonID:1,NextInputID:1},yt={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy(),!n.a&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(t,e){return t=t?t+" "+e:e},_onAddonAttached:function(t){var e=Object(k.a)(t).rootTarget;if(e.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,e.id);else{var i="paper-input-add-on-"+bt.NextAddonID++;e.id=i,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,i)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(t){T._focusBlurHandler.call(this,t),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(t){var e=this.getAttribute("tabindex");this._shiftTabPressed=!0,this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",e),this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(t){try{var e=this.inputElement.selectionStart;this.value=t,this.inputElement.selectionStart=e,this.inputElement.selectionEnd=e}catch(e){this.value=t}},_computeAlwaysFloatLabel:function(t,e){return e||t},_updateAriaLabelledBy:function(){var t,e=Object(k.a)(this.root).querySelector("label");e?(e.id?t=e.id:(t="paper-input-label-"+bt.NextLabelID++,e.id=t),this._ariaLabelledBy=t):this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+bt.NextInputID++)},_onChange:function(t){this.shadowRoot&&this.fire(t.type,{sourceEvent:t},{node:this,bubbles:t.bubbles,cancelable:t.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var t=document.activeElement;t instanceof HTMLElement&&t!==document.body&&t!==document.documentElement||this._focusableElement.focus()}}},xt=[T,S,yt];i(102);const wt=document.createElement("template");wt.setAttribute("style","display: none;"),wt.innerHTML="<custom-style>\n  <style is=\"custom-style\">\n    html {\n\n      /* Shared Styles */\n      --paper-font-common-base: {\n        font-family: 'Roboto', 'Noto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-code: {\n        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-expensive-kerning: {\n        text-rendering: optimizeLegibility;\n      };\n\n      --paper-font-common-nowrap: {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      };\n\n      /* Material Font Styles */\n\n      --paper-font-display4: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 112px;\n        font-weight: 300;\n        letter-spacing: -.044em;\n        line-height: 120px;\n      };\n\n      --paper-font-display3: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 56px;\n        font-weight: 400;\n        letter-spacing: -.026em;\n        line-height: 60px;\n      };\n\n      --paper-font-display2: {\n        @apply --paper-font-common-base;\n\n        font-size: 45px;\n        font-weight: 400;\n        letter-spacing: -.018em;\n        line-height: 48px;\n      };\n\n      --paper-font-display1: {\n        @apply --paper-font-common-base;\n\n        font-size: 34px;\n        font-weight: 400;\n        letter-spacing: -.01em;\n        line-height: 40px;\n      };\n\n      --paper-font-headline: {\n        @apply --paper-font-common-base;\n\n        font-size: 24px;\n        font-weight: 400;\n        letter-spacing: -.012em;\n        line-height: 32px;\n      };\n\n      --paper-font-title: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 20px;\n        font-weight: 500;\n        line-height: 28px;\n      };\n\n      --paper-font-subhead: {\n        @apply --paper-font-common-base;\n\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n      };\n\n      --paper-font-body2: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-body1: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 20px;\n      };\n\n      --paper-font-caption: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 12px;\n        font-weight: 400;\n        letter-spacing: 0.011em;\n        line-height: 20px;\n      };\n\n      --paper-font-menu: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 13px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-button: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 14px;\n        font-weight: 500;\n        letter-spacing: 0.018em;\n        line-height: 24px;\n        text-transform: uppercase;\n      };\n\n      --paper-font-code2: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 700;\n        line-height: 20px;\n      };\n\n      --paper-font-code1: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 20px;\n      };\n\n    }\n\n  </style>\n</custom-style>",document.head.appendChild(wt.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const St={attached:function(){Object(k.b)(),this.fire("addon-attached")},update:function(t){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: inline-block;
        float: right;

        @apply --paper-font-caption;
        @apply --paper-input-char-counter;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:dir(rtl)) {
        float: left;
      }
    </style>

    <span>[[_charCounterStr]]</span>
`,is:"paper-input-char-counter",behaviors:[St],properties:{_charCounterStr:{type:String,value:"0"}},update:function(t){if(t.inputElement){t.value=t.value||"";var e=t.value.toString().length.toString();t.inputElement.hasAttribute("maxlength")&&(e+="/"+t.inputElement.getAttribute("maxlength")),this._charCounterStr=e}}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const kt=document.createElement("template");kt.setAttribute("style","display: none;"),kt.innerHTML='<custom-style>\n  <style is="custom-style">\n    html {\n      --paper-input-container-shared-input-style: {\n        position: relative; /* to make a stacking context */\n        outline: none;\n        box-shadow: none;\n        padding: 0;\n        margin: 0;\n        width: 100%;\n        max-width: 100%;\n        background: transparent;\n        border: none;\n        color: var(--paper-input-container-input-color, var(--primary-text-color));\n        -webkit-appearance: none;\n        text-align: inherit;\n        vertical-align: bottom;\n\n        @apply --paper-font-subhead;\n      };\n    }\n  </style>\n</custom-style>',document.head.appendChild(kt.content),Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: block;
        padding: 8px 0;
        @apply --paper-input-container;
      }

      :host([inline]) {
        display: inline-block;
      }

      :host([disabled]) {
        pointer-events: none;
        opacity: 0.33;

        @apply --paper-input-container-disabled;
      }

      :host([hidden]) {
        display: none !important;
      }

      [hidden] {
        display: none !important;
      }

      .floated-label-placeholder {
        @apply --paper-font-caption;
      }

      .underline {
        height: 2px;
        position: relative;
      }

      .focused-line {
        @apply --layout-fit;
        border-bottom: 2px solid var(--paper-input-container-focus-color, var(--primary-color));

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);

        @apply --paper-input-container-underline-focus;
      }

      .underline.is-highlighted .focused-line {
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply --paper-transition-easing;
      }

      .underline.is-invalid .focused-line {
        border-color: var(--paper-input-container-invalid-color, var(--error-color));
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply --paper-transition-easing;
      }

      .unfocused-line {
        @apply --layout-fit;
        border-bottom: 1px solid var(--paper-input-container-color, var(--secondary-text-color));
        @apply --paper-input-container-underline;
      }

      :host([disabled]) .unfocused-line {
        border-bottom: 1px dashed;
        border-color: var(--paper-input-container-color, var(--secondary-text-color));
        @apply --paper-input-container-underline-disabled;
      }

      .input-wrapper {
        @apply --layout-horizontal;
        @apply --layout-center;
        position: relative;
      }

      .input-content {
        @apply --layout-flex-auto;
        @apply --layout-relative;
        max-width: 100%;
      }

      .input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label) {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: var(--paper-input-container-color, var(--secondary-text-color));
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */
        min-height: 1px;

        @apply --paper-font-common-nowrap;
        @apply --paper-font-subhead;
        @apply --paper-input-container-label;
        @apply --paper-transition-easing;
      }

      .input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label) {
        -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        /* Since we scale to 75/100 of the size, we actually have 100/75 of the
        original space now available */
        width: 133%;

        @apply --paper-input-container-label-floating;
      }

      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),
      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label) {
        right: 0;
        left: auto;
        -webkit-transform-origin: right top;
        transform-origin: right top;
      }

      .input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label) {
        color: var(--paper-input-container-focus-color, var(--primary-color));

        @apply --paper-input-container-label-focus;
      }

      .input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label) {
        color: var(--paper-input-container-invalid-color, var(--error-color));
      }

      .input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label) {
        visibility: hidden;
      }

      .input-content ::slotted(input),
      .input-content ::slotted(iron-input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input) {
        @apply --paper-input-container-shared-input-style;
        /* The apply shim doesn't apply the nested color custom property,
          so we have to re-apply it here. */
        color: var(--paper-input-container-input-color, var(--primary-text-color));
        @apply --paper-input-container-input;
      }

      .input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button {
        @apply --paper-input-container-input-webkit-spinner;
      }

      .input-content.focused ::slotted(input),
      .input-content.focused ::slotted(iron-input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input) {
        @apply --paper-input-container-input-focus;
      }

      .input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(iron-input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input) {
        @apply --paper-input-container-input-invalid;
      }

      .prefix ::slotted(*) {
        display: inline-block;
        @apply --paper-font-subhead;
        @apply --layout-flex-none;
        @apply --paper-input-prefix;
      }

      .suffix ::slotted(*) {
        display: inline-block;
        @apply --paper-font-subhead;
        @apply --layout-flex-none;

        @apply --paper-input-suffix;
      }

      /* Firefox sets a min-width on the input, which can cause layout issues */
      .input-content ::slotted(input) {
        min-width: 0;
      }

      .input-content ::slotted(textarea) {
        resize: none;
      }

      .add-on-content {
        position: relative;
      }

      .add-on-content.is-invalid ::slotted(*) {
        color: var(--paper-input-container-invalid-color, var(--error-color));
      }

      .add-on-content.is-highlighted ::slotted(*) {
        color: var(--paper-input-container-focus-color, var(--primary-color));
      }
    </style>

    <div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div>

    <div class="input-wrapper">
      <span class="prefix"><slot name="prefix"></slot></span>

      <div class\$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer">
        <slot name="label"></slot>
        <slot name="input"></slot>
      </div>

      <span class="suffix"><slot name="suffix"></slot></span>
    </div>

    <div class\$="[[_computeUnderlineClass(focused,invalid)]]">
      <div class="unfocused-line"></div>
      <div class="focused-line"></div>
    </div>

    <div class\$="[[_computeAddOnContentClass(focused,invalid)]]">
      <slot name="add-on"></slot>
    </div>
`,is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Object(j.dashToCamelCase)(this.attrForValue)},get _inputElement(){return Object(k.a)(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this.__isFirstValueUpdate=!0,this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput),this._inputElementValue&&""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(t){this._addons||(this._addons=[]);var e=t.target;-1===this._addons.indexOf(e)&&(this._addons.push(e),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(t){this._handleValueAndAutoValidate(t.target)},_onValueChanged:function(t){var e=t.target;this.__isFirstValueUpdate&&(this.__isFirstValueUpdate=!1,void 0===e.value)||this._handleValueAndAutoValidate(t.target)},_handleValue:function(t){var e=this._inputElementValue;e||0===e||"number"===t.type&&!t.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:t,value:e,invalid:this.invalid})},_handleValueAndAutoValidate:function(t){var e;this.autoValidate&&t&&(e=t.validate?t.validate(this._inputElementValue):t.checkValidity(),this.invalid=!e);this._handleValue(t)},_onIronInputValidate:function(t){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(t){for(var e,i=0;e=this._addons[i];i++)e.update(t)},_computeInputContentClass:function(t,e,i,n,s){var r="input-content";if(t)s&&(r+=" label-is-hidden"),n&&(r+=" is-invalid");else{var a=this.querySelector("label");e||s?(r+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",n?r+=" is-invalid":i&&(r+=" label-is-highlighted")):(a&&(this.$.labelAndInputContainer.style.position="relative"),n&&(r+=" is-invalid"))}return i&&(r+=" focused"),r},_computeUnderlineClass:function(t,e){var i="underline";return e?i+=" is-invalid":t&&(i+=" is-highlighted"),i},_computeAddOnContentClass:function(t,e){var i="add-on-content";return e?i+=" is-invalid":t&&(i+=" is-highlighted"),i}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({_template:l["a"]`
    <style>
      :host {
        display: inline-block;
        visibility: hidden;

        color: var(--paper-input-container-invalid-color, var(--error-color));

        @apply --paper-font-caption;
        @apply --paper-input-error;
        position: absolute;
        left:0;
        right:0;
      }

      :host([invalid]) {
        visibility: visible;
      };
    </style>

    <slot></slot>
`,is:"paper-input-error",behaviors:[St],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(t){this._setInvalid(t.invalid)}});var Tt=i(20);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Et=document.createElement("template");Et.setAttribute("style","display: none;"),Et.innerHTML='<dom-module id="paper-input">\n  <template>\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([focused]) {\n        outline: none;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      input {\n        /* Firefox sets a min-width on the input, which can cause layout issues */\n        min-width: 0;\n      }\n\n      /* In 1.x, the <input> is distributed to paper-input-container, which styles it.\n      In 2.x the <iron-input> is distributed to paper-input-container, which styles\n      it, but in order for this to work correctly, we need to reset some\n      of the native input\'s properties to inherit (from the iron-input) */\n      iron-input > input {\n        @apply --paper-input-container-shared-input-style;\n        font-family: inherit;\n        font-weight: inherit;\n        font-size: inherit;\n        letter-spacing: inherit;\n        word-spacing: inherit;\n        line-height: inherit;\n        text-shadow: inherit;\n        color: inherit;\n        cursor: inherit;\n      }\n\n      input:disabled {\n        @apply --paper-input-container-input-disabled;\n      }\n\n      input::-webkit-outer-spin-button,\n      input::-webkit-inner-spin-button {\n        @apply --paper-input-container-input-webkit-spinner;\n      }\n\n      input::-webkit-clear-button {\n        @apply --paper-input-container-input-webkit-clear;\n      }\n\n      input::-webkit-calendar-picker-indicator {\n        @apply --paper-input-container-input-webkit-calendar-picker-indicator;\n      }\n\n      input::-webkit-input-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      input:-moz-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      input::-moz-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      input::-ms-clear {\n        @apply --paper-input-container-ms-clear;\n      }\n\n      input::-ms-reveal {\n        @apply --paper-input-container-ms-reveal;\n      }\n\n      input:-ms-input-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      label {\n        pointer-events: none;\n      }\n    </style>\n\n    <paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">\n\n      <slot name="prefix" slot="prefix"></slot>\n\n      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label>\n\n      <span id="template-placeholder"></span>\n\n      <slot name="suffix" slot="suffix"></slot>\n\n      <template is="dom-if" if="[[errorMessage]]">\n        <paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error>\n      </template>\n\n      <template is="dom-if" if="[[charCounter]]">\n        <paper-input-char-counter slot="add-on"></paper-input-char-counter>\n      </template>\n\n    </paper-input-container>\n  </template>\n\n  \x3c!-- This is a fresh new hell to make this element hybrid. Basically, in 2.0\n    we lost is=, so the example same template can\'t be used with iron-input 1.0 and 2.0.\n    Expect some conditional code (especially in the tests).\n   --\x3e\n  <template id="v0">\n    <input is="iron-input" slot="input" class="input-element" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">\n  </template>\n\n  <template id="v1">\n    \x3c!-- Need to bind maxlength so that the paper-input-char-counter works correctly --\x3e\n    <iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]">\n      <input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">\n    </iron-input>\n  </template>\n\n</dom-module>',document.head.appendChild(Et.content),Object(o.a)({is:"paper-input",behaviors:[xt,ft],properties:{value:{type:String}},beforeRegister:function(){var t="function"==typeof document.createElement("iron-input")._initSlottedInput?"v1":"v0",e=Tt.a.import("paper-input","template"),i=Tt.a.import("paper-input","template#"+t),n=e.content.querySelector("#template-placeholder");n&&n.parentNode.replaceChild(i.content,n)},get _focusableElement(){return n.a?this.inputElement._inputElement:this.inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function(){this.$.nativeInput||(this.$.nativeInput=this.$$("input")),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),this.inputElement.bindValue&&this.$.container._handleValueAndAutoValidate(this.inputElement)}});var Ct=i(80),At=i.n(Ct),zt=i(26),It=i.n(zt);customElements.define("app-auth-header",class extends(Mixin(n.a).with(EventInterface,It.a)){static get template(){return n["b"]`<iron-icon icon="fin:account" style="width: 40px; height:40px"></iron-icon>`}constructor(){super(),this.active=!0}_onAuthUpdate(t){"loggedIn"===t.state?this.style.display="block":this.style.display="none"}});var Lt=i(79),Ot=i.n(Lt);customElements.define("app-search-header",class extends(Mixin(n.a).with(EventInterface,ct.a,mt.a)){static get properties(){return{selectedCollection:{type:String,value:""}}}static get template(){let t=document.createElement("template");return t.innerHTML=Ot.a,t}constructor(){super(),this.active=!0}_onCollectionOverviewUpdate(t){if("loaded"!==t.state)return;let e={};t.payload.forEach(t=>{e[t.id]=t.name}),this.$.searchInput.browse=e}_onBrowse(t){let e=t.detail;if(!e||"Browse"===e)return this._searchRecords(this._getEmptySearchDocument());this.$.searchInput.browseValue="Browse";let i=this._getEmptySearchDocument();this._setKeywordFilter(i,"isPartOf",e),this._searchRecords(i)}_onSearch(t){let e=this._getCurrentSearchDocument();this._setTextFilter(e,t.detail),this._searchRecords(e)}_onRecordSearchUpdate(t){try{this.$.searchInput.value=t.searchDocument.text||""}catch(t){this.$.searchInput.value=""}}_onSelectedCollectionUpdate(t){this.selectedCollection=t}});var Mt=i(78),Pt=i.n(Mt);customElements.define("app-search-breadcrumb",class extends(Mixin(n.a).with(EventInterface,ut.a,mt.a,ct.a)){static get properties(){return{collection:{type:Object,value:null},record:{type:Object,value:null},name:{type:String,value:""}}}static get template(){let t=document.createElement("template");return t.innerHTML=Pt.a,t}constructor(){super(),this.active=!0}ready(){super.ready(),this.$.layout.style.width=window.innerWidth-55+"px",window.addEventListener("resize",()=>{this.$.layout.style.width=window.innerWidth-55+"px"})}async _onAppStateUpdate(t){if("search"===t.location.path[0])return void(this.lastSearch=t.location.pathname);if("record"!==t.location.path[0])return;let e=t.location.path.slice(0);e.splice(0,1),this.currentRecordId="/"+e.join("/"),this.record=await this._getRecord(this.currentRecordId),this.record=this.record.payload,this.record.isPartOf?this.collection=await this._getCollection(this.record.isPartOf):this.collection=null}_onSearchClicked(t){"keyup"===t.type&&13!==t.which||this._setWindowLocation(this.lastSearch||"/search")}_onCollectionClicked(t){if("keyup"===t.type&&13!==t.which)return;let e=this._getEmptySearchDocument();this._setKeywordFilter(e,"isPartOf",this.collection.id),this._searchRecords(e)}_onSelectedCollectionUpdate(t){this.collection=t,this.record=null}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Nt={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(t){t&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=t)},_createRipple:function(){var t=O._createRipple();return t.id="ink",t.setAttribute("center",""),t.classList.add("circle"),t}},Rt=[C,T,O,Nt],Dt=document.createElement("template");Dt.setAttribute("style","display: none;"),Dt.innerHTML='<dom-module id="paper-icon-button">\n  <template strip-whitespace="">\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /* NOTE: Both values are needed, since some phones require the value to be `transparent`. */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon>\n  </template>\n\n  \n</dom-module>',document.head.appendChild(Dt.content),Object(o.a)({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Rt],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(t,e){var i=this.getAttribute("aria-label");i&&e!=i||this.setAttribute("aria-label",t)}});var Ht=i(77),Vt=i.n(Ht);window.customElements.define("cork-pagination",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=Vt.a,t}static get properties(){return{itemsPerPage:{type:Number,value:10},currentIndex:{type:Number,value:1},textMode:{type:Boolean,value:!1},textDisplay:{type:String,computed:"_computeTextDisplay(currentIndex, totalResults, itemsPerPage)"},totalResults:{type:Number,value:1},numShownPages:{type:Number,value:5},pages:{type:Array,value:function(){return[]}},lastPageIndex:{type:Number,value:1},firstPage:{type:Boolean,value:!0},lastPage:{type:Boolean,value:!1},loading:{type:Boolean,value:!1}}}static get observers(){return["_onPageChanged(currentIndex, itemsPerPage, totalResults)"]}_computeTextDisplay(t,e,i){if(0===e)return"No results found";var n=t+i<e?t+i:e,s=t+1;return s>n&&(s=n),`Showing ${s} to ${n} of ${e}`}_onPageChanged(){this.firstPage=!1,this.lastPage=!1;var t=[];this.currentPage=Math.floor(this.currentIndex/this.itemsPerPage)+1;var e=Math.floor(this.numShownPages/2);this.lastPageIndex=Math.max(Math.ceil(this.totalResults/this.itemsPerPage),1);var i=this.currentPage-e,n=this.currentPage+e;i<1&&(n=1-i+n),n>this.lastPageIndex&&(i-=n-this.lastPageIndex,n=this.lastPageIndex),i<1&&(i=1),this.firstPage=1===this.currentPage,1===i&&(i=2),this.lastPage=this.currentPage===this.lastPageIndex,n===this.lastPageIndex&&(n=this.lastPageIndex-1);for(var s=i;s<=n;s++)t.push({index:s,selected:s===this.currentPage});this.$.lastPage.style.display=this.lastPageIndex>1?"inline-block":"none",this.$.startEllipsis.style.display=i>2?"inline-block":"none",this.$.stopEllipsis.style.display=n<this.lastPageIndex-1?"inline-block":"none",this.pages=t}previous(){this._fireNav({page:this.currentPage-1,startIndex:(this.currentPage-2)*this.itemsPerPage})}next(){this._fireNav({page:this.currentPage+1,startIndex:this.currentPage*this.itemsPerPage})}_selectPage(t){if("keyup"!==t.type||13===t.which){var e=parseInt(t.currentTarget.innerHTML);this._fireNav({page:e,startIndex:(e-1)*this.itemsPerPage})}}previousSection(){var t=Math.floor(this.numShownPages/2)+1,e=this.pages[0].index-t;e<1&&(e=1),this._fireNav({page:e,startIndex:(e-1)*this.itemsPerPage})}nextSection(){var t=Math.floor(this.numShownPages/2)+1,e=this.pages[this.pages.length-1].index+t;e>this.lastPageIndex&&(e=this.lastPageIndex),this._fireNav({page:e,startIndex:(e-1)*this.itemsPerPage})}_fireNav(t){this.dispatchEvent(new CustomEvent("nav",{detail:t}))}});var jt=i(30),Bt=i.n(jt),Ut=i(76),Ft=i.n(Ut);customElements.define("app-search-result-creator",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=Ft.a,t}static get properties(){return{label:{type:String,value:"",observer:"_onLabelUpdate"},link:{type:Boolean,value:!1}}}_onLabelUpdate(){this.label.match(/^http/i)?this.link=!0:this.link=!1}});var qt=i(14),$t=i.n(qt);class Zt extends(Mixin(n.a).with(EventInterface,ut.a,mt.a,$t.a)){static get properties(){return{data:{type:Object,value:()=>{},observer:"_onDataUpdate"},fetchId:{type:String,value:""},isImage:{type:Boolean,value:!1},imgUrl:{type:String,value:""},collectionName:{type:String,value:""},name:{type:String,value:""},description:{type:String,value:""},creator:{type:Array,value:()=>[]},year:{type:String,value:""},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}constructor(){super(),this.baseUrl=window.location.protocol+"//"+window.location.host+"/fcrepo/rest"}ready(){super.ready(),this.addEventListener("click",t=>this._onClick()),this.addEventListener("keyup",t=>{13===t.which&&this._onClick()})}_onClick(){this._setWindowLocation("/record"+this.fetchId)}async _onDataUpdate(){let t=Object.assign({},this.data);if(!t["@id"])return;this.fetchId=t.id,this.name=this.data.name||this.data.identifier||"";let e=this.shadowRoot.querySelector("#img");e&&(e.style.display="none");let i=this._getImgPath(this.data);if(i){let t=this.data.height/this.data.width;this.imgHeight=Math.floor(250*t),this.imgUrl=this._getImgUrl(i,null,this.imgHeight),this.data.thumbnailUrl?this.imgThumbail=this.data.thumbnailUrl:this.imgThumbail="",this.isImage=!0}else this.imgUrl="",this.isImage=!1;if(this.description=this.data.description||"",this.description.length>200&&(this.description=this.description.substr(0,200)+"..."),this.year=Bt.a.getYearFromDate(t.created),Array.isArray(t.creator)?this.creator=t.creator:this.creator=[t.creator||""],this.collectionName=this.data.isPartOf||"",this.collectionName){let t=await this._getCollection(this.collectionName);this.collectionName=t.name}}}var Gt=i(75),Xt=i.n(Gt);customElements.define("app-search-grid-result",class extends Zt{static get template(){let t=document.createElement("template");return t.innerHTML=Xt.a,t}});var Kt=i(74),Wt=i.n(Kt);customElements.define("app-search-list-result",class extends Zt{static get template(){let t=document.createElement("template");return t.innerHTML=Wt.a,t}});var Yt=i(73),Jt=i.n(Yt);const Qt="search-results-layout";let te=localStorage.getItem(Qt);te="list"===te;customElements.define("app-search-results-panel",class extends(Mixin(n.a).with(EventInterface,ct.a,ut.a,mt.a,$t.a)){static get properties(){return{results:{type:Array,value:()=>[]},collectionResults:{type:Array,value:()=>[]},masonryMargin:{type:Number,value:15},isListLayout:{type:Boolean,value:te},total:{type:Number,value:0},numPerPage:{type:Number,value:1},currentIndex:{type:Number,value:0},showCollectionResults:{type:Boolean,value:!1}}}static get template(){let t=document.createElement("template");return t.innerHTML=Jt.a,t}constructor(){super(),this.active=!0,this.resizeTimer=-1,window.addEventListener("resize",()=>this._resizeAsync()),this.MasterController().on("show-collection-search-results",t=>this._updateCollectionResultsVisibility(t))}_onAppStateUpdate(t){"search"===t.location.path[0]&&this._resizeAsync()}render(t,e,i,n){this.results=[],requestAnimationFrame(()=>{this.results=t,this.total=e,this.numPerPage=i,this.$.numPerPage.value=i,this.currentIndex=n,requestAnimationFrame(()=>this._resize())})}_onLayoutToggle(t){"masonry"===t.currentTarget.getAttribute("type")?(this.isListLayout=!1,localStorage.setItem(Qt,"masonry")):(this.isListLayout=!0,localStorage.setItem(Qt,"list")),this.isListLayout||requestAnimationFrame(()=>this._resize())}_resizeAsync(){-1!==this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.resizeTimer=-1,this._resize()},50)}_resize(){if(this.isListLayout)return;let t=this.$.layout.querySelector("app-search-grid-result");if(!t)return;let e=this.offsetWidth,i=t.offsetWidth+this.masonryMargin,n=Math.max(Math.floor(e/i),1),s=Math.floor((e-n*i)/2),r=[];for(let t=0;t<n;t++)r.push(0);let a=this.$.layout.querySelectorAll("app-search-grid-result");for(let t=0;t<a.length;t++){let e=this._findMinCol(r);r[e],a[t].style.left=s+e*i+"px",a[t].style.top=r[e]+"px",r[e]+=a[t].offsetHeight+this.masonryMargin}let o=Math.max.apply(Math,r);this.$.layout.style.height=o+"px"}_findMinCol(t){let e=t[0],i=0;for(var n=1;n<t.length;n++)e>t[n]&&(e=t[n],i=n);return i}_onToggleDrawer(){this.dispatchEvent(new CustomEvent("toggle-drawer"))}_onPageSizeChange(){this.dispatchEvent(new CustomEvent("page-size-change",{detail:parseInt(this.$.numPerPage.value)}))}_onPaginationNav(t){this.dispatchEvent(new CustomEvent("page-change",{detail:t.detail}))}_updateCollectionResultsVisibility(t){this.showCollectionResults=t}_onCollectionSearchUpdate(t){"loaded"===t.state&&(this.collectionResults=t.payload.results.map(t=>(t.thumbnail=this._getImgUrl(t.workExample,320,""),t)))}_onCollectionClicked(t){if("keyup"===t.type&&13!==t.which)return;let e=t.currentTarget.collection.id,i=this._getEmptySearchDocument();this._setKeywordFilter(i,"isPartOf",e),this._searchRecords(i)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ee={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(t){this.multi?this._toggleSelected(t):this.selected=t},multiChanged:function(t){this._selection.multi=t,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&this.selectedItems.length>0&&(this.selectedValues=this.selectedItems.map(function(t){return this._indexToValue(this.indexOf(t))},this).filter(function(t){return null!=t},this)):B._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(t){t=t||[];var e=(this._valuesToItems(t)||[]).filter(function(t){return null!==t&&void 0!==t});this._selection.clear(e);for(var i=0;i<e.length;i++)this._selection.setItemSelected(e[i],!0);this.fallbackSelection&&!this._selection.get().length&&(this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection))},_selectionChange:function(){var t=this._selection.get();this.multi?(this._setSelectedItems(t),this._setSelectedItem(t.length?t[0]:null)):null!==t&&void 0!==t?(this._setSelectedItems([t]),this._setSelectedItem(t)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(t){var e=this.selectedValues.indexOf(t);e<0?this.push("selectedValues",t):this.splice("selectedValues",e,1)},_valuesToItems:function(t){return null==t?null:t.map(function(t){return this._valueToItem(t)},this)}},ie={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(t){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var e=this._valueToItem(t);e&&e.hasAttribute("disabled")||(this._setFocusedItem(e),ee.select.apply(this,arguments))},_resetTabindices:function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(e){e.setAttribute("tabindex",e===t?"0":"-1")},this)},_updateMultiselectable:function(t){t?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(t){if(-1===this._MODIFIER_KEYS.indexOf(t.key)){this.cancelDebouncer("_clearSearchText");for(var e,i=this._searchText||"",n=(i+=(t.key&&1==t.key.length?t.key:String.fromCharCode(t.keyCode)).toLocaleLowerCase()).length,s=0;e=this.items[s];s++)if(!e.hasAttribute("disabled")){var r=this.attrForItemTitle||"textContent",a=(e[r]||e.getAttribute(r)||"").trim();if(!(a.length<n)&&a.slice(0,n).toLocaleLowerCase()==i){this._setFocusedItem(e);break}}this._searchText=i,this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var t=this.items.length,e=Number(this.indexOf(this.focusedItem)),i=1;i<t+1;i++){var n=this.items[(e-i+t)%t];if(!n.hasAttribute("disabled")){var s=Object(k.a)(n).getOwnerRoot()||document;if(this._setFocusedItem(n),Object(k.a)(s).activeElement==n)return}}},_focusNext:function(){for(var t=this.items.length,e=Number(this.indexOf(this.focusedItem)),i=1;i<t+1;i++){var n=this.items[(e+i)%t];if(!n.hasAttribute("disabled")){var s=Object(k.a)(n).getOwnerRoot()||document;if(this._setFocusedItem(n),Object(k.a)(s).activeElement==n)return}}},_applySelection:function(t,e){e?t.setAttribute("aria-selected","true"):t.removeAttribute("aria-selected"),B._applySelection.apply(this,arguments)},_focusedItemChanged:function(t,e){e&&e.setAttribute("tabindex","-1"),!t||t.hasAttribute("disabled")||this.disabled||(t.setAttribute("tabindex","0"),t.focus())},_onIronItemsChanged:function(t){t.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(t){var e=this.getAttribute("tabindex");ie._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",e),ie._shiftTabPressed=!1},1)},_onFocus:function(t){if(!ie._shiftTabPressed){var e=Object(k.a)(t).rootTarget;(e===this||void 0===e.tabIndex||this.isLightDescendant(e))&&(this._defaultFocusAsync=this.async(function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),t?this._setFocusedItem(t):this.items[0]&&this._focusNext()}))}},_onUpKey:function(t){this._focusPrevious(),t.detail.keyboardEvent.preventDefault()},_onDownKey:function(t){this._focusNext(),t.detail.keyboardEvent.preventDefault()},_onEscKey:function(t){var e=this.focusedItem;e&&e.blur()},_onKeydown:function(t){this.keyboardEventMatchesKeys(t,"up down esc")||this._focusWithKeyboardEvent(t),t.stopPropagation()},_activateHandler:function(t){B._activateHandler.call(this,t),t.stopPropagation()},_disabledChanged:function(t){t?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)},_shiftTabPressed:!1},ne=[[[B,ee],S,ie],{hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(t){this.focusedItem.click(),t.detail.keyboardEvent.preventDefault()},_onDownKey:function(t){this.focusedItem.click(),t.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(t){this._isRTL?this._focusNext():this._focusPrevious(),t.detail.keyboardEvent.preventDefault()},_onRightKey:function(t){this._isRTL?this._focusPrevious():this._focusNext(),t.detail.keyboardEvent.preventDefault()},_onKeydown:function(t){this.keyboardEventMatchesKeys(t,"up down left right esc")||this._focusWithKeyboardEvent(t)}}],se=document.createElement("template");se.setAttribute("style","display: none;"),se.innerHTML='<iron-iconset-svg name="paper-tabs" size="24">\n<svg><defs>\n<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>\n<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>\n</defs></svg>\n</iron-iconset-svg>',document.head.appendChild(se.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({_template:l["a"]`
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center;
        @apply --layout-center-justified;
        @apply --layout-flex-auto;

        position: relative;
        padding: 0 12px;
        overflow: hidden;
        cursor: pointer;
        vertical-align: middle;

        @apply --paper-font-common-base;
        @apply --paper-tab;
      }

      :host(:focus) {
        outline: none;
      }

      :host([link]) {
        padding: 0;
      }

      .tab-content {
        height: 100%;
        transform: translateZ(0);
          -webkit-transform: translateZ(0);
        transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);
        @apply --layout-horizontal;
        @apply --layout-center-center;
        @apply --layout-flex-auto;
        @apply --paper-tab-content;
      }

      :host(:not(.iron-selected)) > .tab-content {
        opacity: 0.8;

        @apply --paper-tab-content-unselected;
      }

      :host(:focus) .tab-content {
        opacity: 1;
        font-weight: 700;
      }

      paper-ripple {
        color: var(--paper-tab-ink, var(--paper-yellow-a100));
      }

      .tab-content > ::slotted(a) {
        @apply --layout-flex-auto;

        height: 100%;
      }
    </style>

    <div class="tab-content">
      <slot></slot>
    </div>
`,is:"paper-tab",behaviors:[T,C,O],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var t=Object(k.a)(this).parentNode;return!!t&&!!t.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(t){if(this.link){var e=this.queryEffectiveChildren("a");if(!e)return;if(t.target===e)return;e.click()}}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({_template:l["a"]`
    <style>
      :host {
        @apply --layout;
        @apply --layout-center;

        height: 48px;
        font-size: 14px;
        font-weight: 500;
        overflow: hidden;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;

        /* NOTE: Both values are needed, since some phones require the value to be \`transparent\`. */
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        @apply --paper-tabs;
      }

      :host(:dir(rtl)) {
        @apply --layout-horizontal-reverse;
      }

      #tabsContainer {
        position: relative;
        height: 100%;
        white-space: nowrap;
        overflow: hidden;
        @apply --layout-flex-auto;
        @apply --paper-tabs-container;
      }

      #tabsContent {
        height: 100%;
        -moz-flex-basis: auto;
        -ms-flex-basis: auto;
        flex-basis: auto;
        @apply --paper-tabs-content;
      }

      #tabsContent.scrollable {
        position: absolute;
        white-space: nowrap;
      }

      #tabsContent:not(.scrollable),
      #tabsContent.scrollable.fit-container {
        @apply --layout-horizontal;
      }

      #tabsContent.scrollable.fit-container {
        min-width: 100%;
      }

      #tabsContent.scrollable.fit-container > ::slotted(*) {
        /* IE - prevent tabs from compressing when they should scroll. */
        -ms-flex: 1 0 auto;
        -webkit-flex: 1 0 auto;
        flex: 1 0 auto;
      }

      .hidden {
        display: none;
      }

      .not-visible {
        opacity: 0;
        cursor: default;
      }

      paper-icon-button {
        width: 48px;
        height: 48px;
        padding: 12px;
        margin: 0 4px;
      }

      #selectionBar {
        position: absolute;
        height: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border-bottom: 2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100));
          -webkit-transform: scale(0);
        transform: scale(0);
          -webkit-transform-origin: left center;
        transform-origin: left center;
          transition: -webkit-transform;
        transition: transform;

        @apply --paper-tabs-selection-bar;
      }

      #selectionBar.align-bottom {
        top: 0;
        bottom: auto;
      }

      #selectionBar.expand {
        transition-duration: 0.15s;
        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
      }

      #selectionBar.contract {
        transition-duration: 0.18s;
        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
      }

      #tabsContent > ::slotted(:not(#selectionBar)) {
        height: 100%;
      }
    </style>

    <paper-icon-button icon="paper-tabs:chevron-left" class\$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button>

    <div id="tabsContainer" on-track="_scroll" on-down="_down">
      <div id="tabsContent" class\$="[[_computeTabsContentClass(scrollable, fitContainer)]]">
        <div id="selectionBar" class\$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div>
        <slot></slot>
      </div>
    </div>

    <paper-icon-button icon="paper-tabs:chevron-right" class\$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button>
`,is:"paper-tabs",behaviors:[H,ne],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null,this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this),this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(t){Object(k.a)(this).querySelectorAll("paper-tab").forEach(t?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(t){t.setAttribute("noink","")},_removeNoinkAttribute:function(t){t.removeAttribute("noink")},_computeScrollButtonClass:function(t,e,i){return!e||i?"hidden":t?"not-visible":""},_computeTabsContentClass:function(t,e){return t?"scrollable"+(e?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(t,e){return t?"hidden":e?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll(),this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(t){this._tabChanged(t.detail.item,this._previousTab),this._previousTab=t.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(t){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab),this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation(),ie._activateHandler.apply(this,arguments)},_scheduleActivation:function(t,e){this._pendingActivationItem=t,this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,e)},_delayedActivationHandler:function(){var t=this._pendingActivationItem;this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,t.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0)},_onArrowKeyup:function(t){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(t){t.target===this._pendingActivationItem&&this._cancelPendingActivation()},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(t,e){if(this.scrollable){var i=e&&-e.ddx||0;this._affectScroll(i)}},_down:function(t){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(t){this.$.tabsContainer.scrollLeft+=t;var e=this.$.tabsContainer.scrollLeft;this._leftHidden=0===e,this._rightHidden=e===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft(),this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight(),this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(t,e){if(!t)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(0,0);var i=this.$.tabsContent.getBoundingClientRect(),n=i.width,s=t.getBoundingClientRect(),r=s.left-i.left;if(this._pos={width:this._calcPercent(s.width,n),left:this._calcPercent(r,n)},this.noSlide||null==e)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(this._pos.width,this._pos.left);var a=e.getBoundingClientRect(),o=this.items.indexOf(e),l=this.items.indexOf(t);this.$.selectionBar.classList.add("expand");var h=o<l;this._isRTL&&(h=!h),h?this._positionBar(this._calcPercent(s.left+s.width-a.left,n)-5,this._left):this._positionBar(this._calcPercent(a.left+a.width-s.left,n)-5,this._calcPercent(r,n)+5),this.scrollable&&this._scrollToSelectedIfNeeded(s.width,r)},_scrollToSelectedIfNeeded:function(t,e){var i=e-this.$.tabsContainer.scrollLeft;i<0?this.$.tabsContainer.scrollLeft+=i:(i+=t-this.$.tabsContainer.offsetWidth)>0&&(this.$.tabsContainer.scrollLeft+=i)},_calcPercent:function(t,e){return 100*t/e},_positionBar:function(t,e){t=t||0,e=e||0,this._width=t,this._left=e,this.transform("translateX("+e+"%) scaleX("+t/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(t){var e=this.$.selectionBar.classList;e.contains("expand")?(e.remove("expand"),e.add("contract"),this._positionBar(this._pos.width,this._pos.left)):e.contains("contract")&&e.remove("contract")}});var re=i(72),ae=i.n(re);customElements.define("cork-toggle-panel",class extends n.a{static get properties(){return{opened:{type:Boolean,value:!1,notify:!0},label:{type:String,value:""}}}static get template(){let t=document.createElement("template");return t.innerHTML=ae.a,t}open(){for(var t=5,e=0;e<this.children.length;e++)t+=this.children[e].offsetHeight;this.$.content.style.height=t+"px",this.opened=!0}close(){this.$.content.style.height="0px",this.opened=!1}toggle(){this.opened?this.close():this.open()}});var oe=i(71),le=i.n(oe);customElements.define("app-range-slider",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=le.a,t}static get properties(){return{absMinValue:{type:Number,value:0,observer:"_renderAsync"},absMaxValue:{type:Number,value:100,observer:"_renderAsync"},minValue:{type:Number,value:10,observer:"_renderAsync"},maxValue:{type:Number,value:90,observer:"_renderAsync"},minValueLabel:{type:String,value:""},maxValueLabel:{type:String,value:""},width:{type:Number,value:1},height:{type:Number,value:1},btnHeight:{type:Number,value:1},moving:{type:String,value:""},movingMin:{type:Boolean,value:!1},movingMax:{type:Boolean,value:!1},isMoving:{type:Boolean,value:!1}}}constructor(){super(),this._windowResizeListener=this._onResize.bind(this),this._windowMouseListener=this._onMoveStop.bind(this),this.addEventListener("mousemove",t=>this._onMove(t)),this.addEventListener("touchmove",t=>this._onMove(t))}connectedCallback(){super.connectedCallback(),requestAnimationFrame(()=>{this._onResize()}),window.addEventListener("resize",this._windowResizeListener),window.addEventListener("mouseup",this._windowMouseListener),window.addEventListener("mouseout",this._windowMouseListener),window.addEventListener("touchend",this._windowMouseListener),window.addEventListener("touchcancel",this._windowMouseListener)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._windowResizeListener),window.removeEventListener("mouseup",this._windowMouseListener),window.removeEventListener("mouseout",this._windowMouseListener),window.removeEventListener("touchend",this._windowMouseListener),window.removeEventListener("touchcancel",this._windowMouseListener)}_onResize(){this.width=this.offsetWidth||1,this.height=this.offsetHeight,this.left=this.offsetLeft,this.btnHeight=this.$.lowNumberBtn.offsetHeight,this._render()}_valueToPx(t){t-=this.absMinValue;let e=(this.absMaxValue-this.absMinValue)/this.width;return Math.round(t/e)}_pxToValue(t){let e=(this.absMaxValue-this.absMinValue)/this.width;return Math.round(t*e)+this.absMinValue}_renderAsync(){this.renderTimer&&clearTimeout(this.renderTimer),this.renderTimer=setTimeout(()=>{this.renderTimer=0,this._render()},0)}_render(){let t=.6*this.height;this.$.numberLine.style.top=t+"px",this.$.fillLine.style.top=t+"px";let e=this.btnHeight/2;this.$.lowNumberBtn.style.top=t-e+"px",this.$.highNumberBtn.style.top=t-e+"px",this.$.lowNumberLabel.style.top=t-e-22+"px",this.$.highNumberLabel.style.top=t-e-22+"px";let i=this._valueToPx(this.minValue),n=this._valueToPx(this.maxValue);this.$.lowNumberBtn.style.left=i-e+"px",this.$.highNumberBtn.style.left=n-e+"px",this.$.lowNumberLabel.style.left=i-e+"px",this.$.highNumberLabel.style.left=n-e+"px",this.$.fillLine.style.left=i+"px",this.$.fillLine.style.width=n-i+"px",this.minValueLabel=this.renderLabel(this.minValue),this.maxValueLabel=this.renderLabel(this.maxValue)}_onMoveStart(t){this.moving=t.currentTarget.getAttribute("prop"),"range"===this.moving&&(this.startRange={min:t.currentTarget.offsetLeft,max:t.currentTarget.offsetLeft+t.currentTarget.offsetWidth,left:t.pageX-this.left}),this.isMoving=!0,this.movingMin="max"!==this.moving,this.movingMax="min"!==this.moving}_onMove(t){if(!this.moving)return;let e;if(t.preventDefault(),"touchmove"===t.type){if(!t.changedTouches.length)return;e=t.changedTouches[0].pageX-this.left}else e=t.pageX-this.left;if("min"===this.moving)this.minValue=this._pxToValue(e);else if("max"===this.moving)this.maxValue=this._pxToValue(e);else if("max"===this.moving)this.maxValue=this._pxToValue(e);else if("range"===this.moving){let t=this.startRange.left-e;this.minValue=this._pxToValue(this.startRange.min-t),this.maxValue=this._pxToValue(this.startRange.max-t)}this.minValue<this.absMinValue&&(this.minValue=this.absMinValue),this.maxValue>this.absMaxValue&&(this.maxValue=this.absMaxValue),this.minValue>this.maxValue&&("min"===this.moving?this.minValue=this.maxValue:this.maxValue=this.minValue)}_onMoveStop(){this.moving&&(this.moving="",this.movingMin=!1,this.movingMax=!1,this.isMoving=!1,this.dispatchEvent(new CustomEvent("range-value-change",{detail:{min:this.minValue,max:this.maxValue}})))}renderLabel(t){return t}});var he=i(70),ce=i.n(he);customElements.define("app-range-filter",class extends(Mixin(n.a).with(EventInterface,ct.a,mt.a)){static get template(){let t=document.createElement("template");return t.innerHTML=ce.a,t}static get properties(){return{label:{type:String,value:""},filter:{type:String,value:""},absMinValue:{type:Number,value:-1},absMaxValue:{type:Number,value:-1},minValue:{type:Number,value:-1},maxValue:{type:Number,value:Number.MAX_VALUE},showUnknown:{type:Boolean,value:!1}}}constructor(){super(),this.active=!0}connectedCallback(){super.connectedCallback(),this.resize()}resize(){this.$.slider._onResize(),setTimeout(()=>{this.$.slider._onResize()},100)}_isDefaultState(){if(!this._isFilterApplied()){let t=this._getCurrentSearchDocument();return this._removeRangeFilter(t,this.filter),this._searchRecords(t),!0}return!1}_onRangeSliderChange(t){this.minValue=t.detail.min,this.maxValue=t.detail.max,this.$.minValueInput.value=this.minValue,this.$.maxValueInput.value=this.maxValue,this._onRangeNullChange()}_onRangeNullChange(){let t={gte:this.minValue,lte:this.maxValue};if(this.$.unknown.checked&&(t.includeNull=!0),this._isDefaultState())return;let e=this._getCurrentSearchDocument();this._appendRangeFilter(e,this.filter,t),this._searchRecords(e)}_onInputChange(){let t=this.$.minValueInput.value,e=this.$.maxValueInput.value;t<this.absMinValue&&(this.$.minValueInput.value=this.absMinValue,t=this.absMinValue),e>this.absMaxValue&&(this.$.maxValueInput.value=this.absMaxValue,e=this.absMaxValue),t>e&&(t=e),this.minValue=t,this.maxValue=e,this._onRangeNullChange()}_onSelectedCollectionUpdate(t){this.selectedCollection=t?t.id:"",this._renderFilters()}_onRecordSearchUpdate(t){"loaded"===t.state&&(this.currentFilters=t.searchDocument.filters||{},this._renderFilters())}async _renderFilters(){if(!this.currentFilters)return;let t=this.selectedCollection,e=await this._defaultRecordSearch(this.selectedCollection);if(t!==this.selectedCollection)return;this.default=e;let i=this.default.payload.aggregations.ranges[this.filter];if(!i)return this._show(!1);if(this.absMinValue=i.min,this.absMaxValue=i.max,this._show(!0),(this.minValue<this.absMinValue||!this.currentFilters[this.filter])&&(this.minValue=this.absMinValue,this.$.minValueInput.value=this.minValue),(this.maxValue>this.absMaxValue||!this.currentFilters[this.filter])&&(this.maxValue=this.absMaxValue,this.$.maxValueInput.value=this.maxValue),this.currentFilters[this.filter]){let t=this.currentFilters[this.filter].value;this.minValue=t.gte,this.maxValue=t.lte,this.$.minValueInput.value=this.minValue,this.$.maxValueInput.value=this.maxValue,this.$.unknown.checked=!!t.includeNull}this._notifySelected()}_isFilterApplied(){return this.minValue!==this.absMinValue||this.maxValue!==this.absMaxValue||!0!==this.$.unknown.checked}_notifySelected(){let t=!1,e="";this.minValue===this.absMinValue&&this.maxValue===this.absMaxValue&&this.$.unknown.checked||(t=!0),t&&(e=this.minValue+" to "+this.maxValue),this.dispatchEvent(new CustomEvent("set-selected",{detail:{selected:t,label:e}}))}_show(t){this.dispatchEvent(new CustomEvent("update-visibility",{detail:{show:t}}))}reset(){this.minValue=this.absMinValue,this.maxValue=this.absMaxValue,this.$.unknown.checked=!0,this._onRangeNullChange()}onParentFilterClicked(){this.reset()}});var pe=i(69),ue=i.n(pe),de=i(68),me=i.n(de);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const fe={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(t){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},ge=[Rt,[ft,_t,fe],{_checkedChanged:function(){fe._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){O._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}}];var ve=i(45);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const _e=document.createElement("template");_e.setAttribute("style","display: none;"),_e.innerHTML='<dom-module id="paper-checkbox">\n  <template strip-whitespace="">\n    <style>\n      :host {\n        display: inline-block;\n        white-space: nowrap;\n        cursor: pointer;\n        --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);\n        /* -1px is a sentinel for the default and is replaced in `attached`. */\n        --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);\n        @apply --paper-font-common-base;\n        line-height: 0;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:focus) {\n        outline: none;\n      }\n\n      .hidden {\n        display: none;\n      }\n\n      #checkboxContainer {\n        display: inline-block;\n        position: relative;\n        width: var(--calculated-paper-checkbox-size);\n        height: var(--calculated-paper-checkbox-size);\n        min-width: var(--calculated-paper-checkbox-size);\n        margin: var(--paper-checkbox-margin, initial);\n        vertical-align: var(--paper-checkbox-vertical-align, middle);\n        background-color: var(--paper-checkbox-unchecked-background-color, transparent);\n      }\n\n      #ink {\n        position: absolute;\n\n        /* Center the ripple in the checkbox by negative offsetting it by\n         * (inkWidth - rippleWidth) / 2 */\n        top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n        left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n        width: var(--calculated-paper-checkbox-ink-size);\n        height: var(--calculated-paper-checkbox-ink-size);\n        color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n        pointer-events: none;\n      }\n\n      #ink:dir(rtl) {\n        right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n        left: auto;\n      }\n\n      #ink[checked] {\n        color: var(--paper-checkbox-checked-ink-color, var(--primary-color));\n      }\n\n      #checkbox {\n        position: relative;\n        box-sizing: border-box;\n        height: 100%;\n        border: solid 2px;\n        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n        border-radius: 2px;\n        pointer-events: none;\n        -webkit-transition: background-color 140ms, border-color 140ms;\n        transition: background-color 140ms, border-color 140ms;\n      }\n\n      /* checkbox checked animations */\n      #checkbox.checked #checkmark {\n        -webkit-animation: checkmark-expand 140ms ease-out forwards;\n        animation: checkmark-expand 140ms ease-out forwards;\n      }\n\n      @-webkit-keyframes checkmark-expand {\n        0% {\n          -webkit-transform: scale(0, 0) rotate(45deg);\n        }\n        100% {\n          -webkit-transform: scale(1, 1) rotate(45deg);\n        }\n      }\n\n      @keyframes checkmark-expand {\n        0% {\n          transform: scale(0, 0) rotate(45deg);\n        }\n        100% {\n          transform: scale(1, 1) rotate(45deg);\n        }\n      }\n\n      #checkbox.checked {\n        background-color: var(--paper-checkbox-checked-color, var(--primary-color));\n        border-color: var(--paper-checkbox-checked-color, var(--primary-color));\n      }\n\n      #checkmark {\n        position: absolute;\n        width: 36%;\n        height: 70%;\n        border-style: solid;\n        border-top: none;\n        border-left: none;\n        border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n        border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n        border-color: var(--paper-checkbox-checkmark-color, white);\n        -webkit-transform-origin: 97% 86%;\n        transform-origin: 97% 86%;\n        box-sizing: content-box; /* protect against page-level box-sizing */\n      }\n\n      #checkmark:dir(rtl) {\n        -webkit-transform-origin: 50% 14%;\n        transform-origin: 50% 14%;\n      }\n\n      /* label */\n      #checkboxLabel {\n        position: relative;\n        display: inline-block;\n        vertical-align: middle;\n        padding-left: var(--paper-checkbox-label-spacing, 8px);\n        white-space: normal;\n        line-height: normal;\n        color: var(--paper-checkbox-label-color, var(--primary-text-color));\n        @apply --paper-checkbox-label;\n      }\n\n      :host([checked]) #checkboxLabel {\n        color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));\n        @apply --paper-checkbox-label-checked;\n      }\n\n      #checkboxLabel:dir(rtl) {\n        padding-right: var(--paper-checkbox-label-spacing, 8px);\n        padding-left: 0;\n      }\n\n      #checkboxLabel[hidden] {\n        display: none;\n      }\n\n      /* disabled state */\n\n      :host([disabled]) #checkbox {\n        opacity: 0.5;\n        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n      }\n\n      :host([disabled][checked]) #checkbox {\n        background-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n        opacity: 0.5;\n      }\n\n      :host([disabled]) #checkboxLabel  {\n        opacity: 0.65;\n      }\n\n      /* invalid state */\n      #checkbox.invalid:not(.checked) {\n        border-color: var(--paper-checkbox-error-color, var(--error-color));\n      }\n    </style>\n\n    <div id="checkboxContainer">\n      <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">\n        <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>\n      </div>\n    </div>\n\n    <div id="checkboxLabel"><slot></slot></div>\n  </template>\n\n  \n</dom-module>',document.head.appendChild(_e.content),Object(o.a)({is:"paper-checkbox",behaviors:[ge],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Object(ve.a)(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var t=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),e="px",i=t.match(/[A-Za-z]+$/);null!==i&&(e=i[0]);var n=parseFloat(t),s=8/3*n;"px"===e&&(s=Math.floor(s))%2!=n%2&&s++,this.updateStyles({"--paper-checkbox-ink-size":s+e})}})},_computeCheckboxClass:function(t,e){var i="";return t&&(i+="checked "),e&&(i+="invalid"),i},_computeCheckmarkClass:function(t){return t?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Nt._createRipple.call(this)}});var be=i(67),ye=i.n(be);window.customElements.define("app-normal-checkbox",class extends n.a{static get properties(){return{value:{type:String,value:""},label:{type:String,value:""},labelMap:{type:Object,value:null,observer:"_onLabelMapUpdate"},labelMapType:{type:String,value:null},realLabel:{type:String,computed:"_realLabel(value, label)"},checked:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1},ariaChecked:{type:String,reflectToAttribute:!0,computed:"_computeAriaChecked(checked)"},ariaDisabled:{type:String,reflectToAttribute:!0,computed:"_computeAriaDisabled(disabled)"},role:{type:String,value:"checkbox",reflectToAttribute:!0},tabindex:{type:Number,computed:"_computeTabIndex(disabled)",reflectToAttribute:!0}}}static get template(){let t=document.createElement("template");return t.innerHTML=ye.a,t}constructor(){super(),this.addEventListener("click",t=>this._onClick(t)),this.addEventListener("keyup",t=>{13===t.which&&this._onClick(t)})}_realLabel(t,e){return this._getLabel()}_computeAriaChecked(){return this.checked?"true":"false"}_computeAriaDisabled(){return this.disabled?"true":"false"}_computeTabIndex(){return this.disabled?-1:0}_getLabel(){return null===this.labelMapType&&this._onLabelMapUpdate(),this.labelMapType?"object"===this.labelMapType&&this.labelMap[this.value]?this.labelMap[this.value]:"function"===this.labelMapType?this.labelMap(this.value):this.value:this.value}_onLabelMapUpdate(){this.labelMapType="",this.labelMap&&(this.labelMapType=typeof this.labelMap)}_onClick(){this.disabled||(this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0})))}});window.customElements.define("app-facet-checkbox",class extends n.a{static get properties(){return{type:{type:String,value:""},value:{type:String,value:"",observer:"_onValueChange"},labelMap:{type:Object,value:()=>{}},checked:{type:Boolean,value:!1,notify:!0,observer:"_onCheckedChange"}}}ready(){super.ready(),this.ele=document.createElement("app-normal-checkbox"),this.ele.label=this._getLabel(),this._setValue(),this.checked&&this.ele.setAttribute("checked",this.checked),this.ele.addEventListener("checked-changed",t=>{this.checked=t.detail.value}),this.appendChild(this.ele)}_setValue(){this.value&&(this.ele.value=this.value,this.ele.label=this._getLabel())}_getLabel(){return this.labelMap&&this.labelMap[this.value]?this.labelMap[this.value]:this.value}_onCheckedChange(){this.ele&&this.ele.checked!==this.checked&&(this.ele.checked=this.checked)}_onValueChange(){this.ele&&this.ele.setAttribute("value",this.value)}});window.customElements.define("app-facet-filter",class extends(Mixin(n.a).with(EventInterface,mt.a,ct.a)){static get properties(){return{label:{type:String,value:""},filter:{type:String,value:""},ignore:{type:Array,value:()=>[]},valueMap:{type:Object,value:null},buckets:{type:Array,value:()=>[]},activeFilters:{type:Array,value:null},allFilters:{type:Array,value:null}}}constructor(){super(),this.active=!0}static get template(){let t=document.createElement("template");return t.innerHTML=me.a,t}async _onSelectedCollectionUpdate(t){this.selectedCollection=t?t.id:"",this._updateActiveFilters()}_onRecordSearchUpdate(t){if("loaded"===t.state){var e=[];t.searchDocument.filters[this.filter]&&(e=t.searchDocument.filters[this.filter].value),this.activeFilters=e,this.availableFilters=t.payload.aggregations.facets[this.filter]||{},this._updateActiveFilters()}}async _updateActiveFilters(){if(!this.activeFilters)return;let t=this.selectedCollection,e=await this._defaultRecordSearch(this.selectedCollection);if(t!==this.selectedCollection)return;this.default=e;let i=this.default.payload.aggregations.facets[this.filter]||{};this.ignore&&this.ignore.length&&this.ignore.forEach(t=>{i[t]&&delete i[t]});let n=[];for(var s in i){let t={key:s,sortKey:s.toLowerCase().replace(/\W/g,""),doc_count:this.availableFilters[s]||0};this.activeFilters.indexOf(s)>-1?(t.active=!0,this._notifySelected(!0,s)):(t.active=!1,this._notifySelected(!1,s)),t.empty=!t.doc_count,n.push(t)}n.sort((t,e)=>t.doc_count<e.doc_count?1:t.doc_count>e.doc_count?-1:t.sortKey>e.sortKey?1:t.sortKey<e.sortKey?-1:0),this.buckets=n,this.dispatchEvent(new CustomEvent("update-visibility",{detail:{show:0!==this.buckets.length}}))}onParentFilterClicked(t){let e=this._getCurrentSearchDocument();this._removeKeywordFilter(e,this.filter,t),this._searchRecords(e),this._notifySelected(!1,t)}_notifySelected(t,e){this.dispatchEvent(new CustomEvent(`${t?"add":"remove"}-selected`,{detail:{label:e}}))}_toggleFilter(t){t.currentTarget.checked?this.appendFilter(t):this.removeFilter(t)}appendFilter(t){var e=this.buckets[parseInt(t.currentTarget.getAttribute("index"))];if(e.empty)return;let i=this._getCurrentSearchDocument();this._appendKeywordFilter(i,this.filter,e.key),this._searchRecords(i),this._notifySelected(!0,e.key)}removeFilter(t){var e=this.buckets[parseInt(t.currentTarget.getAttribute("index"))];let i=this._getCurrentSearchDocument();this._removeKeywordFilter(i,this.filter,e.key),this._searchRecords(i),this._notifySelected(!1,e.key)}});window.customElements.define("app-filter-panel",class extends n.a{static get properties(){return{filter:{type:Object,value:null,observer:"_render"},opened:{type:Boolean,value:!1,observer:"_toggleOpened"},selected:{type:Array,value:()=>[]}}}static get template(){let t=document.createElement("template");return t.innerHTML=ue.a,t}_render(){if(this.filter){this.innerHTML="";var t=document.createElement("app-"+this.filter.type+"-filter");t.label=this.filter.label,t.filter=this.filter.filter,t.ignore=this.filter.ignore,t.valueMap=this.filter.valueMap||{},t.isDollar=this.filter.isDollar,t.addEventListener("update-visibility",t=>{this.style.display=t.detail.show?"block":"none"}),t.addEventListener("add-selected",t=>{this.selected.findIndex(e=>e.label===t.detail.label)>-1||this.push("selected",t.detail)}),t.addEventListener("remove-selected",t=>{let e=this.selected.findIndex(e=>e.label===t.detail.label);-1!==e&&this.splice("selected",e,1)}),t.addEventListener("set-selected",t=>{t.detail.selected?this.selected=[t.detail]:this.selected=[]}),this.ele=t,this.$.filters.appendChild(t)}}toggle(){this.opened=!this.opened}_toggleOpened(){this.opened&&this.ele&&this.ele.resize&&this.ele.resize()}_onToggleClicked(t){"keyup"===t.type&&13!==t.which&&32!==t.which||this.toggle()}_onFilterClicked(t){"keyup"===t.type&&13!==t.which||this._notifyFilterClicked(t.currentTarget.getAttribute("label"))}_notifyFilterClicked(t){this.ele&&this.ele.onParentFilterClicked&&this.ele.onParentFilterClicked(t)}});var xe=i(66),we=i.n(xe);customElements.define("app-collection-info-panel",class extends(Mixin(n.a).with(EventInterface,mt.a)){static get template(){let t=document.createElement("template");return t.innerHTML=we.a,t}static get properties(){return{description:{type:String,value:""},coverage:{type:String,value:""},subject:{type:String,value:""}}}constructor(){super(),this.active=!0}_onSelectedCollectionUpdate(t){t&&(this.description=t.description||"",t.subject?this.subject=t.subject.join(", "):this.subject="",t.coverage?this.coverage=t.coverage.join(", "):this.coverage="")}});var Se=i(65),ke=i.n(Se);customElements.define("app-tabs",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=ke.a,t}static get properties(){return{role:{type:String,value:"tablist",reflectToAttribute:!0},selected:{type:String,value:"",notify:!0,observer:"_renderTabs"},tabs:{type:Array,value:()=>[],observer:"_renderTabs"}}}_renderTabs(){this.tabs&&(this.selected||!this.tabs.length?this.tabs.forEach((t,e)=>{let i=t.value===this.selected;this.set(`tabs.${e}.selected`,i),this.set(`tabs.${e}.ariaSelected`,i+""),t.label||this.set(`tabs.${e}.label`,t.value)}):this.selected=this.tabs[0])}_onTabClicked(t){"keyup"===t.type&&13!==t.which||(this.selected=t.currentTarget.getAttribute("value"))}});var Te=i(64),Ee=i.n(Te),Ce=i(13),Ae=i.n(Ce);const ze=[];for(var Ie in Ae.a.elasticSearch.facets)ze.push({label:Ae.a.elasticSearch.facets[Ie].label,type:Ae.a.elasticSearch.facets[Ie].type,ignore:Ae.a.elasticSearch.facets[Ie].ignore,valueMap:Ae.a.elasticSearch.facets[Ie].valueMap,isDollar:Ae.a.elasticSearch.facets[Ie].isDollar,filter:Ie});customElements.define("app-filters-panel",class extends(Mixin(n.a).with(EventInterface,ct.a,mt.a)){static get template(){let t=document.createElement("template");return t.innerHTML=Ee.a,t}static get properties(){return{facetFilters:{type:Array,value:function(){return ze}},selectedTab:{type:String,value:""},selectedCollection:{type:Object,value:()=>{}},collectionMode:{type:Boolean,value:!1},tabs:{type:Array,value:()=>[{label:"Information",value:"info"},{label:"Filters",value:"filters"}]}}}constructor(){super(),this.active=!0}ready(){super.ready(),this._onSelectedCollectionUpdate()}_onSelectedCollectionUpdate(t){if(!t)return this.selectedTab="filters",void(this.collectionMode=!1);this.collectionMode=!0,this.selectedCollection=t,this.selectedTab||(this.selectedTab="info")}_fireToggleDrawer(){this.dispatchEvent(new CustomEvent("toggle-drawer"))}_removeCollectionFilter(){let t=this._getCurrentSearchDocument();this._removeKeywordFilter(t,"isPartOf"),this._setPaging(t,0),this._searchRecords(t)}});customElements.define("app-search",class extends(Mixin(n.a).with(EventInterface,ct.a,mt.a,ut.a)){static get template(){let t=document.createElement("template");return t.innerHTML=At.a,t}static get properties(){return{visible:{type:Boolean,value:!1},results:{type:Array,value:()=>[]},drawerOpen:{type:Boolean,value:!1},firstLoad:{type:Boolean,value:!0},appState:{type:Object,value:()=>({})}}}constructor(){super(),this.active=!0}_onAppStateUpdate(t){this.appState=t,"search"===t.location.path[0]&&this._searchFromAppState()}_searchFromAppState(){this.firstLoad=!1;let t,e=this.appState.location.path;t=e.length>1?this._urlToSearchDocument(e.slice(1,e.length)):this._getCurrentSearchDocument(),this._searchRecords(t)}_onRecordSearchUpdate(t){if("loaded"!==t.state)return;let e=t.searchDocument.offset,i=t.payload,n=i.total;this.results=i.results,this.$.resultsPanel.render(this.results,n,t.searchDocument.limit,e)}_onPageSizeChange(t){let e=this._getCurrentSearchDocument();this._setPaging(e,e.offset,t.detail),this._searchRecords(e)}_onPaginationChange(t){let e=this._getCurrentSearchDocument();this._setPaging(e,t.detail.startIndex),this._searchRecords(e)}_toggleDrawer(){this.drawerOpen=!this.drawerOpen}});var Le=i(63),Oe=i.n(Le),Me=i(43),Pe=i.n(Me),Ne=i(31),Re=i(28);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const De={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(t,e){return[t||e?"active":"",e?"cooldown":""].join(" ")},__activeChanged:function(t,e){this.__setAriaHidden(!t),this.__coolingDown=!t&&e},__altChanged:function(t){"loading"===t?this.alt=this.getAttribute("aria-label")||t:(this.__setAriaHidden(""===t),this.setAttribute("aria-label",t))},__setAriaHidden:function(t){t?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.active=!1,this.__coolingDown=!1}};i(101);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const He=document.createElement("template");He.setAttribute("style","display: none;"),He.innerHTML='<dom-module id="paper-spinner-lite">\n  <template strip-whitespace="">\n    <style include="paper-spinner-styles"></style>\n\n    <div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset">\n      <div class="spinner-layer">\n        <div class="circle-clipper left"></div>\n        <div class="circle-clipper right"></div>\n      </div>\n    </div>\n  </template>\n\n  \n</dom-module>',document.head.appendChild(He.content),Object(o.a)({is:"paper-spinner-lite",behaviors:[De]});var Ve=i(62),je=i.n(Ve),Be=i(61),Ue=i.n(Be),Fe=i(60),qe=i.n(Fe);const $e={facebook:"https://www.facebook.com/sharer/sharer.php",google:"https://plus.google.com/share",twitter:"https://twitter.com/home",pinterest:"https://pinterest.com/pin/create/button/"};customElements.define("app-share-btn",class extends(Mixin(n.a).with(EventInterface,ut.a,$t.a)){static get template(){let t=document.createElement("template");return t.innerHTML=qe.a,t}static get properties(){return{visible:{type:Boolean,value:!1}}}constructor(){super(),this.active=!0}ready(){super.ready(),window.addEventListener("click",()=>{this.visible&&this.hide()}),this.addEventListener("keyup",t=>{this.visible&&27===t.which&&(this.hide(),t.preventDefault(),t.stopPropagation())}),this.$.popup.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation()})}_onAppStateUpdate(){setTimeout(()=>{this.$.link.value=window.location.href},100)}hide(){this.visible=!1,this.$.popup.style.display="none"}_onBtnClicked(t){this.visible=!this.visible,this.$.popup.style.display=this.visible?"block":"none",setTimeout(()=>this.$.facebook.focus(),100),t.preventDefault(),t.stopPropagation()}_onSelectedRecordUpdate(t){this.record=t}_onSocialIconClick(t){if("keyup"===t.type&&13!==t.which)return;let e=t.currentTarget.id,i=$e[e],n={};if("pinterest"===e){let t=this._getImgPath(this.record);t&&(n.media=window.location.protocol+"//"+window.location.host+this._getImgUrl(t)),n.description=this.record.name,n.url=window.location.href}else"facebook"===e?n.u=window.location.href:"google"===e?n.url=window.location.href:"twitter"===e&&(n.status=this.record.name+" - "+window.location.href);i+=this._createQs(n),window.open(i,"_blank","height=400,width=500")}_createQs(t){let e=[];for(let i in t)e.push(i+"="+encodeURIComponent(t[i]));return"?"+e.join("&")}_copyLink(){this.$.link.focus(),this.$.link.setSelectionRange(0,9999),document.execCommand("Copy"),this.$.copyIcon.icon="check",this.$.copyButton.setAttribute("active","active"),setTimeout(()=>{this.$.copyIcon.icon="content-copy",this.$.copyButton.removeAttribute("active","active")},3e3)}});customElements.define("app-image-viewer-nav",class extends(Mixin(n.a).with(EventInterface,ut.a,$t.a)){static get template(){let t=document.createElement("template");return t.innerHTML=Ue.a,t}static get properties(){return{mediaList:{type:Array,value:()=>[]},totalThumbnailWidth:{type:Number,value:64},iconWidth:{type:Number,value:40},thumbnails:{type:Array,value:()=>[]},thumbnailsPerFrame:{type:Number,value:8},leftMostThumbnail:{type:Number,value:0},breakControls:{type:Boolean,value:!1},showNavLeft:{type:Boolean,value:!1},showNavRight:{type:Boolean,value:!1},isLightbox:{type:Boolean,value:!1},singleImage:{type:Boolean,value:!0}}}constructor(){super(),this.active=!0,window.addEventListener("resize",()=>this._resize()),window.addEventListener("touchend",t=>this._onTouchEnd(t)),window.addEventListener("touchcancel",t=>this._onTouchEnd(t)),window.addEventListener("touchmove",t=>this._onTouchMove(t)),this.addEventListener("touchstart",t=>this._onTouchStart(t))}connectedCallback(){super.connectedCallback(),this._resize()}_onTouchEnd(t){if(!this.touchAction)return;this.touchAction=!1;let e=this.touchStartX-this.touchCurrentX;Math.abs(e)>this.totalThumbnailWidth/2&&(e<0?this._pageLeft():this._pageRight())}_onTouchMove(t){this.touchAction&&(this.touchCurrentX=t.touches[0].clientX)}_onTouchStart(t){this.touchAction=!0,this.touchStartX=t.touches[0].clientX}_resize(){let t,e=this.offsetWidth;if(0===e)return void setTimeout(()=>this._resize(),200);e-=16,this._setNavBreak(e),this.showNavLeft=0!==this.leftMostThumbnail,this.breakControls?t=2*this.iconWidth:(t=4*this.iconWidth,this.isLightbox&&(t+=2*this.iconWidth));let i=Math.min(e-t,512);this.thumbnailsPerFrame=Math.max(Math.floor(i/this.totalThumbnailWidth),1),this.showNavRight=!this._showingLastThumbFrame(),this._updateThumbnailContainerPos()}_getTotalIconWidth(){let t=4*this.iconWidth;this.isLightbox&&(t+=2*this.iconWidth)}_setNavBreak(t){let e=4*this.iconWidth;this.isLightbox&&(e+=2*this.iconWidth),e+4*this.totalThumbnailWidth>t?this.breakControls=!0:this.breakControls=!1}_pageLeft(){this.leftMostThumbnail=this.leftMostThumbnail-this.thumbnailsPerFrame,this.leftMostThumbnail<0&&(this.leftMostThumbnail=0),this._resize()}_pageRight(){this._showingLastThumbFrame()||(this.leftMostThumbnail=this.leftMostThumbnail+this.thumbnailsPerFrame,this._resize())}_showingLastThumbFrame(){return this.leftMostThumbnail+this.thumbnailsPerFrame>this.thumbnails.length-1}_updateThumbnailContainerPos(){this.$.thumbnailContainer.style.marginLeft=-1*this.leftMostThumbnail*(this.totalThumbnailWidth+1)+"px";let t=this.leftMostThumbnail+this.thumbnailsPerFrame;this.thumbnails.forEach((e,i)=>{this.set(`thumbnails.${i}.disabled`,i<this.leftMostThumbnail||i>=t)})}_onSelectedRecordUpdate(t){this.mediaList=this._getImageMediaList(t),this.thumbnails=this.mediaList.map(t=>{let e={id:t.id,position:t.position,selected:!1,disabled:!0,src:""};return t.width>t.height&&(e.src=this._getImgUrl(t.id,"",50)),e.src=this._getImgUrl(t.id,50,""),e}),this.singleImage=!(this.thumbnails.length>1),this.singleImage?this.classList.add("single"):this.classList.remove("single"),this._resize()}_onSelectedRecordMediaUpdate(t){this.media=t,this.thumbnails.forEach((e,i)=>{this.set(`thumbnails.${i}.selected`,t.id===e.id)})}_onThumbnailClicked(t){let e=t.currentTarget.getAttribute("media-id"),i=this.mediaList.find(t=>t.id===e);this._setSelectedRecordMedia(i)}_onZoomInClicked(t){this.dispatchEvent(new CustomEvent("zoom-in"))}_onZoomOutClicked(t){this.dispatchEvent(new CustomEvent("zoom-out"))}_onCloseClicked(t){this.dispatchEvent(new CustomEvent("close"))}setFocus(){if(this.singleImage)this.breakControls?this.$.zoomOut2.focus():this.$.zoomOut1.focus();else{let t=this.shadowRoot.querySelector("button");t&&t.focus()}window.scrollTo(0,0)}});var Ze=i(59),Ge=i.n(Ze),Xe=(i(100),i(58)),Ke=i.n(Xe);customElements.define("app-image-viewer-lightbox",class extends(Mixin(n.a).with(EventInterface,ut.a,$t.a)){static get template(){let t=document.createElement("template");return t.innerHTML=`<style>${Ke.a}</style>${Ge.a}`,t}properties(){return{bounds:{type:Array,value:null},maxImageSize:{type:Number,value:2048},media:{type:Object,value:()=>{}},visible:{type:Boolean,value:!1},loading:{type:Boolean,value:!1}}}constructor(){super(),this.active=!0,window.addEventListener("keyup",t=>{this.visible&&27===t.which&&this.hide()})}ready(){super.ready(),this.parentNode.removeChild(this),document.body.appendChild(this),this.shadowRoot.removeChild(this.$.safeCover),document.body.appendChild(this.$.safeCover)}_onSelectedRecordMediaUpdate(t){this.media=t,this.visible&&this.render()}async show(){this.style.display="block",this.render(),document.body.style.overflow="hidden",this.visible=!0,window.scrollTo(0,0),this.$.safeCover.style.display="block",setTimeout(()=>this.$.nav.setFocus(),0)}async hide(){this.style.display="none",this.$.safeCover.style.display="none",document.body.style.overflow="auto",this.visible=!1}_loadImage(t){return this.loading=!0,new Promise((e,i)=>{var n=new Image;n.onload=(()=>{let t=[n.naturalHeight,n.naturalWidth];this.bounds=[[0,0],t],this.loading=!1,e()}),n.src=t})}async render(){if(this.renderedMedia===this.media)return;this.renderedMedia=this.media;let t=this.media.height,e=this.media.width;if(this.media.height>this.media.width){if(this.media.height>this.maxImageSize){let i=this.maxImageSize/this.media.height;t=Math.floor(this.media.height*i),e=""}}else if(this.media.width>this.maxImageSize){let i=this.maxImageSize/this.media.width;e=Math.floor(this.media.width*i),t=""}let i=this._getImgUrl(this.media.id,e,t);this.viewer&&this.viewer.remove(),await this._loadImage(i),this.viewer=L.map(this.$.viewer,{crs:L.CRS.Simple,minZoom:-4,zoomControl:!1}),L.imageOverlay(i,this.bounds).addTo(this.viewer),this.viewer.fitBounds(this.bounds),this.shadowRoot.querySelector(".leaflet-control-attribution").style.display="none"}_onCloseClicked(){this.hide()}_onZoomInClicked(){this.viewer.zoomIn()}_onZoomOutClicked(){this.viewer.zoomOut()}});customElements.define("app-image-viewer-static",class extends(Mixin(n.a).with(EventInterface,ut.a,$t.a)){static get template(){let t=document.createElement("template");return t.innerHTML=je.a,t}static get properties(){return{record:{type:Object,value:()=>{}},media:{type:Object,value:()=>{}},loading:{type:Boolean,value:!1},height:{type:Number,value:600}}}constructor(){super(),this.active=!0}_onSelectedRecordUpdate(t){}_onSelectedRecordMediaUpdate(t){this.media=t,this._renderImg()}_renderImg(){let t=this._getImgUrl(this.media.id,"",this.height),e=600/this.media.height,i=this.media.width*e,n=this.offsetWidth-20,s=Math.ceil(n>i?this.height:n/i*this.height),r=new Image;this.loading=!0,this.$.loading.style.height=s+"px",r.onload=(()=>{this.loading=!1,this.$.img.style.height="auto"}),r.src=t,this.$.img.style.maxWidth=i+"px",this.$.img.src=t}_onZoomIn(t){this.$.lightbox.show()}});var We=i(57),Ye=i.n(We);const Je=[{title:"Small",label:"S",ratio:.25},{title:"Medium",label:"M",ratio:.5},{title:"Large",label:"L",ratio:.75},{title:"Full Resolution",label:"FR",ratio:1}],Qe=["png","jpg","webp"];customElements.define("app-image-download",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=Ye.a,t}static get properties(){return{href:{type:String,value:""},resolution:{type:String,value:""},size:{type:String,value:""},resolutionTitle:{type:String,value:"Full Resolution"},fileFormat:{type:String,value:""},sizes:{type:Array,value:()=>[]},formats:{type:Array,value:()=>[]},defaultImage:{type:Boolean,value:!0}}}render(t){this.options=t,this.selectedSize=Je.length-1,this.sizes=Je.map(e=>({title:e.title,label:e.label,size:[Math.floor(t.resolution[0]*e.ratio),Math.floor(t.resolution[1]*e.ratio)],selected:"FR"===e.label})),this.size=Pe()(t.size),this.originalFormat=t.fileFormat.replace(/.*\//,"").toLowerCase(),this.$.format.value=this.originalFormat,this.defaultImage=!0,this._renderFormats()}_renderFormats(){let t=Qe.slice(0);this.originalFormat&&this.selectedSize===Je.length-1&&-1===t.indexOf(this.originalFormat)&&t.unshift(this.originalFormat),this.formats=t,this._renderDownloadHref()}_onSizeSelected(t){this.selectedSize=parseInt(t.currentTarget.getAttribute("index")),this.sizes=this.sizes.map((t,e)=>(t.selected=this.selectedSize===e,Object.assign({},t))),this.resolutionTitle=this.sizes[this.selectedSize].title,this._renderFormats()}_onFormatSelected(){this.selectedFormat=this.$.format.value.replace(/ .*/,""),this._renderDownloadHref()}_renderDownloadHref(){requestAnimationFrame(()=>{if(this.resolution=this.sizes[this.selectedSize].size.join(" x ")+" px",this.selectedFormat&&-1!==this.formats.indexOf(this.selectedFormat)||(this.selectedFormat=this.formats[0].replace(/ .*/,""),this.$.format.value=this.formats[0]),this.$.format.value!==this.selectedFormat&&(this.$.format.value=this.selectedFormat),this.selectedFormat===this.originalFormat&&this.selectedSize===Je.length-1)return this.defaultImage=!0,this.href=Ae.a.fcrepoBasePath+this.options.url;this.defaultImage=!1;let t=this.sizes[this.selectedSize].size.join(",");this.href=Ae.a.fcrepoBasePath+this.options.url+`/svc:iiif/full/${t}/0/default.${this.selectedFormat}`})}});var ti=i(56),ei=i.n(ti);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var t=this.query;t&&(this.full||"("===t[0]||(t="("+t+")"),this._mq=window.matchMedia(t),this._add(),this.queryHandler(this._mq))},queryHandler:function(t){this._setQueryMatches(t.matches)}});customElements.define("app-record-metadata-layout",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=ei.a,t}static get properties(){return{mobile:{type:Boolean,value:!1,observer:"_updateVisiblePanels"},selectedTab:{type:Number,value:"data",observer:"_updateVisiblePanels"},showRight:{type:Boolean,value:!0},showLeft:{type:Boolean,value:!0},tabs:{type:Array,value:()=>[{label:"Item Data",value:"data"},{label:"Cite Item",value:"cite"}]}}}_updateVisiblePanels(){this.showRight=!0,this.showLeft=!0,this.mobile&&("data"===this.selectedTab?this.showRight=!1:this.showLeft=!1)}});var ii=i(55),ni=i.n(ii),si=i(54),ri=i.n(si);customElements.define("app-copy-cite",class extends n.a{static get template(){let t=document.createElement("template");return t.innerHTML=ni.a,t}static get properties(){return{text:{type:String,value:"",observer:"_onTextUpdate"},copying:{type:Boolean,value:!1}}}_onTextUpdate(){this.$.citeText.innerHTML=this.text||"",this.$.copyArea.value=ri()(this.text).trim()}_onCopyClicked(){this.$.copyArea.style.height=this.$.citeText.offsetHeight-10+"px",this.$.copyArea.style.width=this.$.citeText.offsetWidth-10+"px",this.copying=!0,this.$.copyArea.focus(),this.$.copyArea.setSelectionRange(0,9999),document.execCommand("Copy"),this.$.icon.icon="check",setTimeout(()=>{this.$.icon.icon="content-copy",this.copying=!1},3e3)}});customElements.define("app-record",class extends(Mixin(n.a).with(EventInterface,ut.a,ct.a,mt.a,$t.a)){static get template(){let t=document.createElement("template");return t.innerHTML=Oe.a,t}static get properties(){return{currentRecordId:{type:String,value:""},name:{type:String,value:""},collectionName:{type:String,value:""},date:{type:String,value:""},size:{type:String,value:""},rights:{type:Object,value:()=>{}},metadata:{type:Array,value:()=>[]}}}constructor(){super(),this.active=!0}async _onAppStateUpdate(t){if("record"!==t.location.path[0])return;let e=t.location.path.slice(0);if(e.splice(0,1),this.currentRecordId==="/"+e.join("/"))return;this.currentRecordId="/"+e.join("/");let i=await this._getRecord(this.currentRecordId);this._setSelectedRecord(i.payload)}async _onSelectedRecordUpdate(t){if(t.id===this.renderedRecordId)return;if(this.renderedRecordId=t.id,this.record=t,this.name=this.record.name||"",this.description=this.record.description||"",this.$.link.value=window.location.href,this.date=Bt.a.getYearFromDate(this.record.datePublished),this.record.license&&Ne[this.record.license]){let t=Ne[this.record.license];this.rights={link:this.record.license,label:t.text,icon:`/images/rights-icons/${t.icon}.svg`}}else this.rights=null;if(this.collectionName=this.record.isPartOf||"",this.collectionName){let t=await this._getCollection(this.collectionName);this.collectionName=t.name,this.record.collectionName=t.name}if(this.$.mla.text=Re.default.renderEsRecord(this.record,"mla"),this.$.apa.text=Re.default.renderEsRecord(this.record,"apa"),this.$.chicago.text=Re.default.renderEsRecord(this.record,"chicago"),t.associatedMedia){let e=this._getImageMediaList(t);e.length?this._setSelectedRecordMedia(e[0]):this._setSelectedRecordMedia(t)}else this._setSelectedRecordMedia(t);this._renderIdentifier(t),this._renderCreators(t);let e=this._getEmptySearchDocument();this._appendKeywordFilter(e,"isPartOf",t.collectionId);let i=this._getHost()+"search/"+this._searchDocumentToUrl(e);this.$.collectionValue.innerHTML=`<a href="${i}">${this.collectionName}</a>`;let n=t["@type"].find(t=>t.match(/binary/i))?"/fcr:metadata":"";i=this._getHost()+"fcrepo/rest"+t.id+n,this.$.fedoraValue.innerHTML=`<a href="${i}">${t.id}</a>`,this._updateMetadataRows()}_renderCreators(t){if(!t.creators)return this.$.creator.style.display="none";let e=Array.isArray(t.creators)?t.creators:[t.creators];this.$.creatorValue.innerHTML=e.map(e=>{let i=this._getEmptySearchDocument();return this._appendKeywordFilter(i,"creators",e),this._appendKeywordFilter(i,"isPartOf",t.collectionId),`<a href="${this._getHost()+"search/"+this._searchDocumentToUrl(i)}">${e}</a>`}).join(", "),this.$.creator.style.display="flex"}_renderIdentifier(t){if(!t.identifier)return this.$.identifier.style.display="none";let e=Array.isArray(t.identifier)?t.identifier:[t.identifier];(e=e.filter(t=>!!t.match(/^(ark|doi)/))).length?(this.$.identifier.style.display="flex",this.$.identifierValue.innerHTML=e.map(t=>`<div><a href="${this._getHost()}${t}">${t}</a></div>`).join("")):this.$.identifier.style.display="none"}_getHost(){return window.location.protocol+"//"+window.location.host+"/"}_onSelectedRecordMediaUpdate(t){this.$.download.render({resolution:[t.width,t.height],fileFormat:t.fileFormat,size:t.fileSize?parseInt(t.fileSize):0,url:this._getImgPath(t)})}_updateMetadataRows(){let t=[];this._addMetadataRow(t,"name","Item Name"),this._addMetadataRow(t,"collectionName","Collection"),this._addMetadataRow(t,"date","Date"),this._addMetadataRow(t,"resourceType","Resource Type"),this.metadata=t}_addMetadataRow(t,e,i){this[e]&&t.push({attr:i||e,value:this[e]})}_copyLink(){this.$.link.focus(),this.$.link.setSelectionRange(0,9999),document.execCommand("Copy"),this.$.copyIcon.icon="check",this.$.copyButton.setAttribute("active","active"),setTimeout(()=>{this.$.copyIcon.icon="content-copy",this.$.copyButton.removeAttribute("active","active")},3e3)}});var ai=i(53),oi=i.n(ai);customElements.define("app-auth-footer",class extends(Mixin(n.a).with(EventInterface,It.a)){static get template(){let t=document.createElement("template");return t.innerHTML=oi.a,t}static get properties(){return{loggedIn:{type:Boolean,value:!1},user:{type:Object,value:()=>{}}}}constructor(){super(),this.active=!0}_onAuthUpdate(t){"loggedIn"===t.state?(this.user=t.user,this.loggedIn=!0):this.loggedIn=!1}});var li=i(52),hi=i.n(li);customElements.define("app-footer",class extends(Mixin(n.a).with(EventInterface,ut.a,mt.a)){static get template(){let t=document.createElement("template");return t.innerHTML=hi.a,t}static get properties(){return{collections:{type:Array,value:()=>[]}}}constructor(){super(),this.active=!0}_onCollectionOverviewUpdate(t){"loaded"===t.state&&(this.collections=t.payload)}_onBrowseCollection(t){let e=t.currentTarget.getAttribute("data-id");this._esSetKeywordFilter("isPartOf",e)}});customElements.define("app-header-colorbar",class extends n.a{static get properties(){return{height:{value:36,type:Number,observer:"_updateHeight"},flipped:{value:!1,type:Boolean,observer:"_flip"}}}static get template(){return n["b"]`
    <style>
      :host {
        display: block;
        overflow: hidden;
        height: 36px;
        background-image: url('');
        background-position: center;
        background-size: cover;
      }
    </style>`}constructor(){super(),this.imageUrl="/images/header-colorbar.png",this.fippedImageUrl="/images/header-colorbar-flipped.png"}_updateHeight(){this.height>36&&(this.height=36),this.style.height=this.height+"px"}_flip(){this.flipped?this.style.backgroundImage=`url('${this.fippedImageUrl}')`:this.style.backgroundImage=`url('${this.imageUrl}')`}});var ci=i(51),pi=i.n(ci);i.d(e,"FinApp",function(){return ui});class ui extends(Mixin(n.a).with(EventInterface,ut.a,It.a,mt.a,ct.a)){static get template(){return Object(n.b)([pi.a])}static get properties(){return{page:{type:String,value:"home"},appRoutes:{type:Array,value:()=>[]}}}constructor(){super(),this.active=!0}ready(){super.ready(),this.AuthModel.store.setUser(APP_CONFIG.user),this._getCollectionOverview()}_onAppStateUpdate(t){let e=t.location.path?t.location.path[0]:"home";e||(e="home"),e!==this.page&&(window.scrollTo(0,0),this.page=e)}_onRecordSearchUpdate(t){this._setWindowLocation("/search/"+this._searchDocumentToUrl(t.searchDocument))}}customElements.define("fin-app",ui)},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var s=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(r).concat([s]).join("\n")}var a;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(n[r]=!0)}for(s=0;s<t.length;s++){var a=t[s];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,i){var n=i(98);(t.exports=i(97)(!1)).push([t.i,"/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers \"stretching\" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg,\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer {\r\n\tmax-width: none !important;\r\n\tmax-height: none !important;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t/* Fallback for FF which doesn't support pinch-zoom */\r\n\ttouch-action: none;\r\n\ttouch-action: pinch-zoom;\r\n}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-container {\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n.leaflet-container a {\r\n\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\r\n}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile {\r\n\twill-change: opacity;\r\n\t}\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t     -o-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t    -ms-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\twill-change: transform;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t     -o-transition:      -o-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t     -o-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 2px;\r\n\tborder-top-right-radius: 2px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 2px;\r\n\tborder-bottom-right-radius: 2px;\r\n\t}\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px 'Lucida Console', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\r\n\tfont-size: 22px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url("+n(i(96))+");\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url("+n(i(95))+");\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path {\r\n\tbackground-image: url("+n(i(94))+');\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t     -o-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-clickable {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n',""])},function(t,e,i){
/* @preserve
 * Leaflet 1.3.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";var e=Object.freeze;function i(t){var e,i,n,s;for(i=1,n=arguments.length;i<n;i++)for(e in s=arguments[i])t[e]=s[e];return t}Object.freeze=function(t){return t};var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function s(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var r=0;function a(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function o(t,e,i){var n,s,r,a;return a=function(){n=!1,s&&(r.apply(i,s),s=!1)},r=function(){n?s=arguments:(t.apply(i,arguments),setTimeout(a,e),n=!0)}}function l(t,e,i){var n=e[1],s=e[0],r=n-s;return t===n&&i?t:((t-s)%r+r)%r+s}function h(){return!1}function c(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function p(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return p(t).split(/\s+/)}function d(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function m(t,e,i){var n=[];for(var s in t)n.push(encodeURIComponent(i?s.toUpperCase():s)+"="+encodeURIComponent(t[s]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var f=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(f,function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function y(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-x));return x=e+i,window.setTimeout(t,i)}var S=window.requestAnimationFrame||y("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||y("CancelAnimationFrame")||y("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,i){if(!i||S!==w)return S.call(window,s(t,e));t.call(e)}function E(t){t&&k.call(window,t)}var C=(Object.freeze||Object)({freeze:e,extend:i,create:n,bind:s,lastId:r,stamp:a,throttle:o,wrapNum:l,falseFn:h,formatNum:c,trim:p,splitWords:u,setOptions:d,getParamString:m,template:g,isArray:v,indexOf:_,emptyImageUrl:b,requestFn:S,cancelFn:k,requestAnimFrame:T,cancelAnimFrame:E});function A(){}A.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=e.__super__=this.prototype,r=n(s);for(var a in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),i.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=i(n(r.options),t.options)),i(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},A.include=function(t){return i(this.prototype,t),this},A.mergeOptions=function(t){return i(this.prototype.options,t),this},A.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var z={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var s=0,r=(t=u(t)).length;s<r;s++)this._on(t[s],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var s=0,r=(t=u(t)).length;s<r;s++)this._off(t[s],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var s={fn:e,ctx:i},r=n,a=0,o=r.length;a<o;a++)if(r[a].fn===e&&r[a].ctx===i)return;r.push(s)},_off:function(t,e,i){var n,s,r;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(s=0,r=n.length;s<r;s++){var a=n[s];if(a.ctx===i&&a.fn===e)return a.fn=h,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(s,1)}}else{for(s=0,r=n.length;s<r;s++)n[s].fn=h;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var s=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,o=r.length;a<o;a++){var l=r[a];l.fn.call(l.ctx||this,s)}this._firingCount--}}return n&&this._propagateEvent(s),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var r=s(function(){this.off(t,e,i).off(t,r,i)},this);return this.on(t,e,i).on(t,r,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var I=A.extend(z);function O(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var M=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function P(t,e,i){return t instanceof O?t:v(t)?new O(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,i)}function N(t,e){if(t)for(var i=e?[t,e]:t,n=0,s=i.length;n<s;n++)this.extend(i[n])}function R(t,e){return!t||t instanceof N?t:new N(t,e)}function D(t,e){if(t)for(var i=e?[t,e]:t,n=0,s=i.length;n<s;n++)this.extend(i[n])}function H(t,e){return t instanceof D?t:new D(t,e)}function V(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function j(t,e,i){return t instanceof V?t:v(t)&&"object"!=typeof t[0]?3===t.length?new V(t[0],t[1],t[2]):2===t.length?new V(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new V(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new V(t,e,i)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(P(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(P(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(t){var e=(t=P(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=P(t)).x===this.x&&t.y===this.y},contains:function(t){return t=P(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},N.prototype={extend:function(t){return t=P(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new O(this.min.x,this.max.y)},getTopRight:function(){return new O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof O?P(t):R(t))instanceof N?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,i=this.max,n=t.min,s=t.max,r=s.x>=e.x&&n.x<=i.x,a=s.y>=e.y&&n.y<=i.y;return r&&a},overlaps:function(t){t=R(t);var e=this.min,i=this.max,n=t.min,s=t.max,r=s.x>e.x&&n.x<i.x,a=s.y>e.y&&n.y<i.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,i,n=this._southWest,s=this._northEast;if(t instanceof V)e=t,i=t;else{if(!(t instanceof D))return t?this.extend(j(t)||H(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||s?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),s.lat=Math.max(i.lat,s.lat),s.lng=Math.max(i.lng,s.lng)):(this._southWest=new V(e.lat,e.lng),this._northEast=new V(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new D(new V(e.lat-n,e.lng-s),new V(i.lat+n,i.lng+s))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof V||"lat"in t?j(t):H(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof D?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},intersects:function(t){t=H(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),r=s.lat>=e.lat&&n.lat<=i.lat,a=s.lng>=e.lng&&n.lng<=i.lng;return r&&a},overlaps:function(t){t=H(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),r=s.lat>e.lat&&n.lat<i.lat,a=s.lng>e.lng&&n.lng<i.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=H(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(t,e){if(!t)return!1;t=j(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return F.distance(this,j(t))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return H([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var B,U={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),s=this.transformation.transform(e.max,i);return new N(n,s)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return new V(i,e,n)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,s=e.lng-i.lng;if(0===n&&0===s)return t;var r=t.getSouthWest(),a=t.getNorthEast(),o=new V(r.lat-n,r.lng-s),l=new V(a.lat-n,a.lng-s);return new D(o,l)}},F=i({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,s=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),a=Math.sin((e.lng-t.lng)*i/2),o=r*r+Math.cos(n)*Math.cos(s)*a*a,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),q={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=Math.sin(n*e);return new O(this.R*t.lng*e,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(t){var e=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(B=6378137*Math.PI,new N([-B,-B],[B,B]))};function $(t,e,i,n){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function Z(t,e,i,n){return new $(t,e,i,n)}$.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=i({},F,{code:"EPSG:3857",projection:q,transformation:function(){var t=.5/(Math.PI*q.R);return Z(t,.5,-t,.5)}()}),X=i({},G,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t,e){var i,n,s,r,a,o,l="";for(i=0,s=t.length;i<s;i++){for(a=t[i],n=0,r=a.length;n<r;n++)o=a[n],l+=(n?"L":"M")+o.x+" "+o.y;l+=e?Ct?"z":"x":""}return l||"M0 0"}var Y=document.documentElement.style,J="ActiveXObject"in window,Q=J&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=zt("webkit"),it=zt("android"),nt=zt("android 2")||zt("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=it&&zt("Google")&&st<537&&!("AudioNode"in window),at=!!window.opera,ot=zt("chrome"),lt=zt("gecko")&&!et&&!at&&!J,ht=!ot&&zt("safari"),ct=zt("phantom"),pt="OTransition"in Y,ut=0===navigator.platform.indexOf("Win"),dt=J&&"transition"in Y,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,ft="MozPerspective"in Y,gt=!window.L_DISABLE_3D&&(dt||mt||ft)&&!pt&&!ct,vt="undefined"!=typeof orientation||zt("mobile"),_t=vt&&et,bt=vt&&mt,yt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!yt),wt=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),St=vt&&at,kt=vt&&lt,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Et=!!document.createElement("canvas").getContext,Ct=!(!document.createElementNS||!K("svg").createSVGRect),At=!Ct&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function zt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var It=(Object.freeze||Object)({ie:J,ielt9:Q,edge:tt,webkit:et,android:it,android23:nt,androidStock:rt,opera:at,chrome:ot,gecko:lt,safari:ht,phantom:ct,opera12:pt,win:ut,ie3d:dt,webkit3d:mt,gecko3d:ft,any3d:gt,mobile:vt,mobileWebkit:_t,mobileWebkit3d:bt,msPointer:yt,pointer:xt,touch:wt,mobileOpera:St,mobileGecko:kt,retina:Tt,canvas:Et,svg:Ct,vml:At}),Lt=yt?"MSPointerDown":"pointerdown",Ot=yt?"MSPointerMove":"pointermove",Mt=yt?"MSPointerUp":"pointerup",Pt=yt?"MSPointerCancel":"pointercancel",Nt=["INPUT","SELECT","OPTION"],Rt={},Dt=!1,Ht=0;function Vt(t,e,i,n){return"touchstart"===e?function(t,e,i){var n=s(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Nt.indexOf(t.target.tagName)<0))return;ne(t)}Ft(t,e)});t["_leaflet_touchstart"+i]=n,t.addEventListener(Lt,n,!1),Dt||(document.documentElement.addEventListener(Lt,jt,!0),document.documentElement.addEventListener(Ot,Bt,!0),document.documentElement.addEventListener(Mt,Ut,!0),document.documentElement.addEventListener(Pt,Ut,!0),Dt=!0)}(t,i,n):"touchmove"===e?function(t,e,i){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Ft(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Ot,n,!1)}(t,i,n):"touchend"===e&&function(t,e,i){var n=function(t){Ft(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(Mt,n,!1),t.addEventListener(Pt,n,!1)}(t,i,n),this}function jt(t){Rt[t.pointerId]=t,Ht++}function Bt(t){Rt[t.pointerId]&&(Rt[t.pointerId]=t)}function Ut(t){delete Rt[t.pointerId],Ht--}function Ft(t,e){for(var i in t.touches=[],Rt)t.touches.push(Rt[i]);t.changedTouches=[t],e(t)}var qt=yt?"MSPointerDown":xt?"pointerdown":"touchstart",$t=yt?"MSPointerUp":xt?"pointerup":"touchend",Zt="_leaflet_";function Gt(t,e,i){var n,s,r=!1,a=250;function o(t){var e;if(xt){if(!tt||"mouse"===t.pointerType)return;e=Ht}else e=t.touches.length;if(!(e>1)){var i=Date.now(),o=i-(n||i);s=t.touches?t.touches[0]:t,r=o>0&&o<=a,n=i}}function l(t){if(r&&!s.cancelBubble){if(xt){if(!tt||"mouse"===t.pointerType)return;var i,a,o={};for(a in s)i=s[a],o[a]=i&&i.bind?i.bind(s):i;s=o}s.type="dblclick",e(s),n=null}}return t[Zt+qt+i]=o,t[Zt+$t+i]=l,t[Zt+"dblclick"+i]=e,t.addEventListener(qt,o,!1),t.addEventListener($t,l,!1),t.addEventListener("dblclick",e,!1),this}function Xt(t,e){var i=t[Zt+qt+e],n=t[Zt+$t+e],s=t[Zt+"dblclick"+e];return t.removeEventListener(qt,i,!1),t.removeEventListener($t,n,!1),tt||t.removeEventListener("dblclick",s,!1),this}function Kt(t,e,i,n){if("object"==typeof e)for(var s in e)Jt(t,s,e[s],i);else for(var r=0,a=(e=u(e)).length;r<a;r++)Jt(t,e[r],i,n);return this}var Wt="_leaflet_events";function Yt(t,e,i,n){if("object"==typeof e)for(var s in e)Qt(t,s,e[s],i);else if(e)for(var r=0,a=(e=u(e)).length;r<a;r++)Qt(t,e[r],i,n);else{for(var o in t[Wt])Qt(t,o,t[Wt][o]);delete t[Wt]}return this}function Jt(t,e,i,n){var s=e+a(i)+(n?"_"+a(n):"");if(t[Wt]&&t[Wt][s])return this;var r=function(e){return i.call(n||t,e||window.event)},o=r;xt&&0===e.indexOf("touch")?Vt(t,e,r,s):!wt||"dblclick"!==e||!Gt||xt&&ot?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,ue(t,e)&&o(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&it&&(r=function(t){!function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=le&&i-le;n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?se(t):(le=i,e(t))}(t,o)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):Gt(t,r,s),t[Wt]=t[Wt]||{},t[Wt][s]=r}function Qt(t,e,i,n){var s=e+a(i)+(n?"_"+a(n):""),r=t[Wt]&&t[Wt][s];if(!r)return this;xt&&0===e.indexOf("touch")?function(t,e,i){var n=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(Lt,n,!1):"touchmove"===e?t.removeEventListener(Ot,n,!1):"touchend"===e&&(t.removeEventListener(Mt,n,!1),t.removeEventListener(Pt,n,!1))}(t,e,s):!wt||"dblclick"!==e||!Xt||xt&&ot?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):Xt(t,s),t[Wt][s]=null}function te(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,pe(t),this}function ee(t){return Jt(t,"mousewheel",te),this}function ie(t){return Kt(t,"mousedown touchstart dblclick",te),Jt(t,"click",ce),this}function ne(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function se(t){return ne(t),te(t),this}function re(t,e){if(!e)return new O(t.clientX,t.clientY);var i=e.getBoundingClientRect(),n=i.width/e.offsetWidth||1,s=i.height/e.offsetHeight||1;return new O(t.clientX/n-i.left-e.clientLeft,t.clientY/s-i.top-e.clientTop)}var ae=ut&&ot?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function oe(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ae:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var le,he={};function ce(t){he[t.type]=!0}function pe(t){var e=he[t.type];return he[t.type]=!1,e}function ue(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var de,me,fe,ge,ve,_e=(Object.freeze||Object)({on:Kt,off:Yt,stopPropagation:te,disableScrollPropagation:ee,disableClickPropagation:ie,preventDefault:ne,stop:se,getMousePosition:re,getWheelDelta:oe,fakeStop:ce,skipped:pe,isExternalTarget:ue,addListener:Kt,removeListener:Yt}),be=Ne(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),ye=Ne(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xe="webkitTransition"===ye||"OTransition"===ye?ye+"End":"transitionend";function we(t){return"string"==typeof t?document.getElementById(t):t}function Se(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function ke(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function Te(t){var e=t.parentNode;e&&e.removeChild(t)}function Ee(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ce(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function Ae(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ze(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=Me(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function Ie(t,e){if(void 0!==t.classList)for(var i=u(e),n=0,s=i.length;n<s;n++)t.classList.add(i[n]);else if(!ze(t,e)){var r=Me(t);Oe(t,(r?r+" ":"")+e)}}function Le(t,e){void 0!==t.classList?t.classList.remove(e):Oe(t,p((" "+Me(t)+" ").replace(" "+e+" "," ")))}function Oe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Me(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function Pe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function Ne(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Re(t,e,i){var n=e||new O(0,0);t.style[be]=(dt?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function De(t,e){t._leaflet_pos=e,gt?Re(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function He(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)de=function(){Kt(window,"selectstart",ne)},me=function(){Yt(window,"selectstart",ne)};else{var Ve=Ne(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);de=function(){if(Ve){var t=document.documentElement.style;fe=t[Ve],t[Ve]="none"}},me=function(){Ve&&(document.documentElement.style[Ve]=fe,fe=void 0)}}function je(){Kt(window,"dragstart",ne)}function Be(){Yt(window,"dragstart",ne)}function Ue(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Fe(),ge=t,ve=t.style.outline,t.style.outline="none",Kt(window,"keydown",Fe))}function Fe(){ge&&(ge.style.outline=ve,ge=void 0,ve=void 0,Yt(window,"keydown",Fe))}var qe=(Object.freeze||Object)({TRANSFORM:be,TRANSITION:ye,TRANSITION_END:xe,get:we,getStyle:Se,create:ke,remove:Te,empty:Ee,toFront:Ce,toBack:Ae,hasClass:ze,addClass:Ie,removeClass:Le,setClass:Oe,getClass:Me,setOpacity:Pe,testProp:Ne,setTransform:Re,setPosition:De,getPosition:He,disableTextSelection:de,enableTextSelection:me,disableImageDrag:je,enableImageDrag:Be,preventOutline:Ue,restoreOutline:Fe}),$e=I.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=He(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),De(this._el,i),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=I.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._initContainer(t),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=ye&&gt&&!St&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,xe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n){void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),r=t instanceof O?t:this.latLngToContainerPoint(t),a=r.subtract(s).multiplyBy(1-1/n),o=this.containerPointToLatLng(s.add(a));return this.setView(o,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():H(t);var i=P(e.paddingTopLeft||e.padding||[0,0]),n=P(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n));if((s="number"==typeof e.maxZoom?Math.min(e.maxZoom,s):s)===1/0)return{center:t.getCenter(),zoom:s};var r=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),s),o=this.project(t.getNorthEast(),s),l=this.unproject(a.add(o).divideBy(2).add(r),s);return{center:l,zoom:s}},fitBounds:function(t,e){if(!(t=H(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=P(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $e,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Ie(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!gt)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),s=this.project(t),r=this.getSize(),a=this._zoom;t=j(t),e=void 0===e?a:e;var o=Math.max(r.x,r.y),l=o*this.getZoomScale(a,e),h=s.distanceTo(n)||1,c=1.42,p=c*c;function u(t){var e=t?-1:1,i=t?l:o,n=l*l-o*o+e*p*p*h*h,s=2*i*p*h,r=n/s,a=Math.sqrt(r*r+1)-r,c=a<1e-9?-18:Math.log(a);return c}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}var f=u(0);function g(t){return o*(m(f)*(d(e=f+c*t)/m(e))-d(f))/p;var e}var v=Date.now(),_=(u(1)-f)/c,b=i.duration?1e3*i.duration:1e3*_*.8;return this._moveStart(!0,i.noMoveStart),function i(){var r=(Date.now()-v)/b,l=function(t){return 1-Math.pow(1-t,1.5)}(r)*_;r<=1?(this._flyToFrame=T(i,this),this._move(this.unproject(n.add(s.subtract(n).multiplyBy(g(l)/h)),a),this.getScaleZoom(o/function(t){return o*(m(f)/m(f+c*t))}(l),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=H(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,H(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),r=e.divideBy(2).round(),a=n.divideBy(2).round(),o=r.subtract(a);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new V(e,i),s=n.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(s);this.setView(n,r.maxZoom?Math.min(a,r.maxZoom):a)}var o={latlng:n,bounds:s,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(o[l]=t.coords[l]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)Te(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=ke("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new D(e,i)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=H(t),i=P(i||[0,0]);var n=this.getZoom()||0,s=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),o=t.getSouthEast(),l=this.getSize().subtract(i),h=R(this.project(o,n),this.project(a,n)).getSize(),c=gt?this.options.zoomSnap:1,p=l.x/h.x,u=l.y/h.y,d=e?Math.max(p,u):Math.min(p,u);return n=this.getScaleZoom(d,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(s,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new N(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(P(t),e)},layerPointToLatLng:function(t){var e=P(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(j(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(H(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return P(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return P(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(P(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return re(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=we(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Kt(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt,Ie(t,"leaflet-container"+(wt?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ht?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Se(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(t.markerPane,"leaflet-zoom-hide"),Ie(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){De(this._mapPane,new O(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){De(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Yt:Kt;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),gt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],s="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,o=!1;r;){if((i=this._targets[a(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){o=!0;break}if(i&&i.listens(e,!0)){if(s&&!ue(r,t))break;if(n.push(i),s)break}if(r===this._container)break;r=r.parentNode}return n.length||o||s||!ue(r,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!pe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Ue(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var s=i({},t);s.type="preclick",this._fireDOMEvent(s,s.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&ne(t);var a={originalEvent:t};if("keypress"!==t.type){var o=r.getLatLng&&(!r._radius||r._radius<=10);a.containerPoint=o?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=o?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(e,a,!0),a.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return He(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return R([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),r=new N(n.subtract(s),n.add(s)),a=this._getBoundsOffset(r,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new N(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=R(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),s=n.min.subtract(t.min),r=n.max.subtract(t.max),a=this._rebound(s.x,-r.x),o=this._rebound(s.y,-r.y);return new O(a,o)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=gt?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=be,i=this._proxy.style[e];Re(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();Re(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),s=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(s)||(T(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T(function(){this._moveEnd(!0)},this))}}),Ge=A.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return Ie(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Xe=function(t){return new Ge(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=ke("div",e+"control-container",this._container);function n(n,s){var r=e+n+" "+e+s;t[n+s]=ke("div",r,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Te(this._controlCorners[t]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=Ge.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in d(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ge.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(Ie(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):Le(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ke("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ie(e),ee(e);var n=this._form=ke("form",t+"-list");i&&(this._map.on("click",this.collapse,this),it||Kt(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var s=this._layersLink=ke("a",t+"-toggle",e);s.href="#",s.title="Layers",wt?(Kt(s,"click",se),Kt(s,"click",this.expand,this)):Kt(s,"focus",this.expand,this),i||this.expand(),this._baseLayersList=ke("div",t+"-base",n),this._separator=ke("div",t+"-separator",n),this._overlaysList=ke("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(s(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ee(this._baseLayersList),Ee(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,s=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,s+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&s>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers",n),this._layerControlInputs.push(e),e.layerId=a(t.layer),Kt(e,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var r=document.createElement("div");i.appendChild(r),r.appendChild(e),r.appendChild(s);var o=t.overlay?this._overlaysList:this._baseLayersList;return o.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],s=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||s.push(e);for(r=0;r<s.length;r++)this._map.hasLayer(s[r])&&this._map.removeLayer(s[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),s=i.length-1;s>=0;s--)t=i[s],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),We=Ge.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=ke("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,s){var r=ke("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),ie(r),Kt(r,"click",se),Kt(r,"click",s,this),Kt(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Le(this._zoomInButton,e),Le(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Ie(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Ie(this._zoomInButton,e)}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new We,this.addControl(this.zoomControl))});var Ye=Ge.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ke("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=ke("div",e,i)),t.imperial&&(this._iScale=ke("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,s=3.2808399*t;s>5280?(e=s/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(s),this._updateScale(this._iScale,n+" ft",n/s))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Je=Ge.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),ie(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook(function(){this.options.attributionControl&&(new Je).addTo(this)}),Ge.Layers=Ke,Ge.Zoom=We,Ge.Scale=Ye,Ge.Attribution=Je,Xe.layers=function(t,e,i){return new Ke(t,e,i)},Xe.zoom=function(t){return new We(t)},Xe.scale=function(t){return new Ye(t)},Xe.attribution=function(t){return new Je(t)};var Qe=A.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var ti,ei={Events:z},ii=wt?"touchstart mousedown":"mousedown",ni={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},si={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ri=I.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){d(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Kt(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(),Yt(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ze(this._element,"leaflet-zoom-anim")&&!(ri._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ri._dragging=this,this._preventOutline&&Ue(this._element),je(),de(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new O(e.clientX,e.clientY),Kt(document,si[t.type],this._onMove,this),Kt(document,ni[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new O(e.clientX,e.clientY),n=i.subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(ne(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=He(this._element).subtract(n),Ie(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,E(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),De(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),si)Yt(document,si[t],this._onMove,this),Yt(document,ni[t],this._onUp,this);Be(),me(),this._moved&&this._moving&&(E(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ri._dragging=!1}});function ai(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,s,r){var a,o,l,h=0;for(o=s+1;o<=r-1;o++)(l=pi(e[o],e[s],e[r],!0))>h&&(a=o,h=l);h>n&&(i[a]=1,t(e,i,n,s,a),t(e,i,n,a,r))}(t,n,e,0,i-1);var s,r=[];for(s=0;s<i;s++)n[s]&&r.push(t[s]);return r}(t=function(t,e){for(var i=[t[0]],n=1,s=0,r=t.length;n<r;n++)a=t[n],o=t[s],l=o.x-a.x,h=o.y-a.y,l*l+h*h>e&&(i.push(t[n]),s=n);var a,o,l,h;return s<r-1&&i.push(t[r-1]),i}(t,i),i)}function oi(t,e,i){return Math.sqrt(pi(t,e,i,!0))}function li(t,e,i,n,s){var r,a,o,l=n?ti:ci(t,i),h=ci(e,i);for(ti=h;;){if(!(l|h))return[t,e];if(l&h)return!1;a=hi(t,e,r=l||h,i,s),o=ci(a,i),r===l?(t=a,l=o):(e=a,h=o)}}function hi(t,e,i,n,s){var r,a,o=e.x-t.x,l=e.y-t.y,h=n.min,c=n.max;return 8&i?(r=t.x+o*(c.y-t.y)/l,a=c.y):4&i?(r=t.x+o*(h.y-t.y)/l,a=h.y):2&i?(r=c.x,a=t.y+l*(c.x-t.x)/o):1&i&&(r=h.x,a=t.y+l*(h.x-t.x)/o),new O(r,a,s)}function ci(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function pi(t,e,i,n){var s,r=e.x,a=e.y,o=i.x-r,l=i.y-a,h=o*o+l*l;return h>0&&((s=((t.x-r)*o+(t.y-a)*l)/h)>1?(r=i.x,a=i.y):s>0&&(r+=o*s,a+=l*s)),o=t.x-r,l=t.y-a,n?o*o+l*l:new O(r,a)}function ui(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function di(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ui(t)}var mi=(Object.freeze||Object)({simplify:ai,pointToSegmentDistance:oi,closestPointOnSegment:function(t,e,i){return pi(t,e,i)},clipSegment:li,_getEdgeIntersection:hi,_getBitCode:ci,_sqClosestPointOnSegment:pi,isFlat:ui,_flat:di});function fi(t,e,i){var n,s,r,a,o,l,h,c,p,u=[1,4,2,8];for(s=0,h=t.length;s<h;s++)t[s]._code=ci(t[s],e);for(a=0;a<4;a++){for(c=u[a],n=[],s=0,h=t.length,r=h-1;s<h;r=s++)o=t[s],l=t[r],o._code&c?l._code&c||((p=hi(l,o,c,e,i))._code=ci(p,e),n.push(p)):(l._code&c&&((p=hi(l,o,c,e,i))._code=ci(p,e),n.push(p)),n.push(o));t=n}return t}var gi=(Object.freeze||Object)({clipPolygon:fi}),vi={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new N([-180,-90],[180,90])},_i={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,s=this.R_MINOR/i,r=Math.sqrt(1-s*s),a=r*Math.sin(n),o=Math.tan(Math.PI/4-n/2)/Math.pow((1-a)/(1+a),r/2);return n=-i*Math.log(Math.max(o,1e-10)),new O(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,s=this.R_MINOR/n,r=Math.sqrt(1-s*s),a=Math.exp(-t.y/n),o=Math.PI/2-2*Math.atan(a),l=0,h=.1;l<15&&Math.abs(h)>1e-7;l++)e=r*Math.sin(o),e=Math.pow((1-e)/(1+e),r/2),h=Math.PI/2-2*Math.atan(a*e)-o,o+=h;return new V(o*i,t.x*i/n)}},bi=(Object.freeze||Object)({LonLat:vi,Mercator:_i,SphericalMercator:q}),yi=i({},F,{code:"EPSG:3395",projection:_i,transformation:function(){var t=.5/(Math.PI*_i.R);return Z(t,.5,-t,.5)}()}),xi=i({},F,{code:"EPSG:4326",projection:vi,transformation:Z(1/180,1,-1/180,.5)}),wi=i({},U,{projection:vi,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});U.Earth=F,U.EPSG3395=yi,U.EPSG3857=G,U.EPSG900913=X,U.EPSG4326=xi,U.Simple=wi;var Si=I.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?v(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var s=this._zoomBoundLayers[n].options;t=void 0===s.minZoom?t:Math.min(t,s.minZoom),e=void 0===s.maxZoom?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ki=Si.extend({initialize:function(t,e){var i,n;if(d(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Ti=ki.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ki.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ki.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ei=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var s=P(n),r=P("shadow"===e&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Tt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ci=Ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ci.imagePath||(Ci.imagePath=this._detectIconPath()),(this.options.imagePath||Ci.imagePath)+Ei.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ke("div","leaflet-default-icon-path",document.body),e=Se(t,"background-image")||Se(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ai=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ri(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,r=L.DomUtil.getPosition(e._icon),a=i.getPixelBounds(),o=i.getPixelOrigin(),l=R(a.min._subtract(o).add(s),a.max._subtract(o).subtract(s));if(!l.contains(r)){var h=P((Math.max(l.max.x,r.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(n);i.panBy(h,{animate:!1}),this._draggable._newPos._add(h),this._draggable._startPos._add(h),L.DomUtil.setPosition(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=He(e._icon),s=e._map.layerPointToLatLng(n);i&&De(i,n),e._latlng=s,t.latlng=s,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),zi=Si.extend({options:{icon:new Ci,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){d(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),Ie(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var s=t.icon.createShadow(this._shadow),r=!1;s!==this._shadow&&(this._removeShadow(),r=!0),s&&(Ie(s,e),s.alt=""),this._shadow=s,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(t){De(this._icon,t),this._shadow&&De(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ai)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ai(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;Pe(this._icon,t),this._shadow&&Pe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ii=Si.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Li=Ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=j(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new N(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Oi=Li.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=i({},n,{radius:e})),d(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===F.distance){var s=Math.PI/180,r=this._mRadius/F.R/s,a=i.project([e+r,t]),o=i.project([e-r,t]),l=a.add(o).divideBy(2),h=i.unproject(l).lat,c=Math.acos((Math.cos(r*s)-Math.sin(e*s)*Math.sin(h*s))/(Math.cos(e*s)*Math.cos(h*s)))/s;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-i.project([h,t-c]).x,this._radiusY=l.y-a.y}else{var p=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(p).x}this._updateBounds()}}),Mi=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,s=null,r=pi,a=0,o=this._parts.length;a<o;a++)for(var l=this._parts[a],h=1,c=l.length;h<c;h++){e=l[h-1],i=l[h];var p=r(t,e,i,!0);p<n&&(n=p,s=r(t,e,i))}return s&&(s.distance=Math.sqrt(n)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,s,r,a,o=this._rings[0],l=o.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=o[t].distanceTo(o[t+1])/2;if(0===e)return this._map.layerPointToLatLng(o[0]);for(t=0,n=0;t<l-1;t++)if(s=o[t],r=o[t+1],i=s.distanceTo(r),(n+=i)>e)return a=(n-e)/i,this._map.layerPointToLatLng([r.x-a*(r.x-s.x),r.y-a*(r.y-s.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ui(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=ui(t),n=0,s=t.length;n<s;n++)i?(e[n]=j(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new O(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,s,r=t[0]instanceof V,a=t.length;if(r){for(s=[],n=0;n<a;n++)s[n]=this._map.latLngToLayerPoint(t[n]),i.extend(s[n]);e.push(s)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,s,r,a,o,l=this._parts;for(e=0,n=0,s=this._rings.length;e<s;e++)for(o=this._rings[e],i=0,r=o.length;i<r-1;i++)(a=li(o[i],o[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(a[0]),a[1]===o[i+1]&&i!==r-2||(l[n].push(a[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=ai(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,s,r,a,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(o=this._parts[i],n=0,a=o.length,s=a-1;n<a;s=n++)if((e||0!==n)&&oi(t,o[s],o[n])<=l)return!0;return!1}});Mi._flat=di;var Pi=Mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,s,r,a,o,l,h=this._rings[0],c=h.length;if(!c)return null;for(r=a=o=0,t=0,e=c-1;t<c;e=t++)i=h[t],n=h[e],s=i.y*n.x-n.y*i.x,a+=(i.x+n.x)*s,o+=(i.y+n.y)*s,r+=3*s;return l=0===r?h[0]:[a/r,o/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Mi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof V&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Mi.prototype._setLatLngs.call(this,t),ui(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ui(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new O(e,e);if(t=new N(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,s=0,r=this._rings.length;s<r;s++)(n=fi(this._rings[s],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,s,r,a,o,l,h=!1;if(!this._pxBounds.contains(t))return!1;for(s=0,o=this._parts.length;s<o;s++)for(e=this._parts[s],r=0,l=e.length,a=l-1;r<l;a=r++)i=e[r],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||Mi.prototype._containsPoint.call(this,t,!0)}}),Ni=Ti.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=v(t)?t:t.features;if(s){for(e=0,i=s.length;e<i;e++)((n=s[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=Ri(t,r);return a?(a.feature=Ui(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Ri(t,e){var i,n,s,r,a="Feature"===t.type?t.geometry:t,o=a?a.coordinates:null,l=[],h=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Di;if(!o&&!a)return null;switch(a.type){case"Point":return i=c(o),h?h(t,i):new zi(i);case"MultiPoint":for(s=0,r=o.length;s<r;s++)i=c(o[s]),l.push(h?h(t,i):new zi(i));return new Ti(l);case"LineString":case"MultiLineString":return n=Hi(o,"LineString"===a.type?0:1,c),new Mi(n,e);case"Polygon":case"MultiPolygon":return n=Hi(o,"Polygon"===a.type?1:2,c),new Pi(n,e);case"GeometryCollection":for(s=0,r=a.geometries.length;s<r;s++){var p=Ri({geometry:a.geometries[s],type:"Feature",properties:t.properties},e);p&&l.push(p)}return new Ti(l);default:throw new Error("Invalid GeoJSON object.")}}function Di(t){return new V(t[1],t[0],t[2])}function Hi(t,e,i){for(var n,s=[],r=0,a=t.length;r<a;r++)n=e?Hi(t[r],e-1,i):(i||Di)(t[r]),s.push(n);return s}function Vi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function ji(t,e,i,n){for(var s=[],r=0,a=t.length;r<a;r++)s.push(e?ji(t[r],e-1,i,n):Vi(t[r],n));return!e&&i&&s.push(s[0]),s}function Bi(t,e){return t.feature?i({},t.feature,{geometry:e}):Ui(e)}function Ui(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Fi={toGeoJSON:function(t){return Bi(this,{type:"Point",coordinates:Vi(this.getLatLng(),t)})}};function qi(t,e){return new Ni(t,e)}zi.include(Fi),Oi.include(Fi),Li.include(Fi),Mi.include({toGeoJSON:function(t){var e=!ui(this._latlngs),i=ji(this._latlngs,e?1:0,!1,t);return Bi(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Pi.include({toGeoJSON:function(t){var e=!ui(this._latlngs),i=e&&!ui(this._latlngs[0]),n=ji(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Bi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),ki.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Bi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var s=e.toGeoJSON(t);if(i)n.push(s.geometry);else{var r=Ui(s);"FeatureCollection"===r.type?n.push.apply(n,r.features):n.push(r)}}}),i?Bi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var $i=qi,Zi=Si.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=H(e),d(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ce(this._image),this},bringToBack:function(){return this._map&&Ae(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=H(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ke("img");Ie(e,"leaflet-image-layer"),this._zoomAnimated&&Ie(e,"leaflet-zoom-animated"),this.options.className&&Ie(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onload=s(this.fire,this,"load"),e.onerror=s(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Re(this._image,i,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();De(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Pe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Gi=Zi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ke("video");if(Ie(e,"leaflet-image-layer"),this._zoomAnimated&&Ie(e,"leaflet-zoom-animated"),e.onselectstart=h,e.onmousemove=h,e.onloadeddata=s(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],r=0;r<i.length;r++)n.push(i[r].src);this._url=i.length>0?n:[e.src]}else{v(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var o=ke("source");o.src=this._url[a],e.appendChild(o)}}}}),Xi=Si.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Pe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Pe(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(Pe(this._container,0),this._removeTimeout=setTimeout(s(Te,void 0,this._container),200)):Te(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ce(this._container),this},bringToBack:function(){return this._map&&Ae(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=P(this.options.offset),i=this._getAnchor();this._zoomAnimated?De(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}}),Ki=Xi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Xi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",te))},onRemove:function(t){Xi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",te))},getEvents:function(){var t=Xi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ke("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ke("div",t+"-content-wrapper",e);if(this._contentNode=ke("div",t+"-content",i),ie(i),ee(this._contentNode),Kt(i,"contextmenu",te),this._tipContainer=ke("div",t+"-tip-container",e),this._tip=ke("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=ke("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",Kt(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight;s&&n>s?(e.height=s+"px",Ie(t,"leaflet-popup-scrolled")):Le(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();De(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(Se(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,s=new O(this._containerLeft,-i-this._containerBottom);s._add(He(this._container));var r=t.layerPointToContainerPoint(s),a=P(this.options.autoPanPadding),o=P(this.options.autoPanPaddingTopLeft||a),l=P(this.options.autoPanPaddingBottomRight||a),h=t.getSize(),c=0,p=0;r.x+n+l.x>h.x&&(c=r.x+n-h.x+l.x),r.x-c-o.x<0&&(c=r.x-o.x),r.y+i+l.y>h.y&&(p=r.y+i-h.y+l.y),r.y-p-o.y<0&&(p=r.y-o.y),(c||p)&&t.fire("autopanstart").panBy([c,p])}},_onCloseButtonClick:function(t){this._close(),se(t)},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,e,i){return t instanceof Ki||(t=new Ki(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Si.include({bindPopup:function(t,e){return t instanceof Ki?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Ki(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Si||(e=t,t=this),t instanceof Ti)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(se(t),e instanceof Ii?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Wi=Xi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Xi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Xi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Xi.prototype.getEvents.call(this);return wt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),s=e.layerPointToContainerPoint(t),r=this.options.direction,a=i.offsetWidth,o=i.offsetHeight,l=P(this.options.offset),h=this._getAnchor();"top"===r?t=t.add(P(-a/2+l.x,-o+l.y+h.y,!0)):"bottom"===r?t=t.subtract(P(a/2-l.x,-l.y,!0)):"center"===r?t=t.subtract(P(a/2+l.x,o/2-h.y+l.y,!0)):"right"===r||"auto"===r&&s.x<n.x?(r="right",t=t.add(P(l.x+h.x,h.y-o/2+l.y,!0))):(r="left",t=t.subtract(P(a+h.x-l.x,o/2-h.y-l.y,!0))),Le(i,"leaflet-tooltip-right"),Le(i,"leaflet-tooltip-left"),Le(i,"leaflet-tooltip-top"),Le(i,"leaflet-tooltip-bottom"),Ie(i,"leaflet-tooltip-"+r),De(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Pe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ze.include({openTooltip:function(t,e,i){return t instanceof Wi||(t=new Wi(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Si.include({bindTooltip:function(t,e){return t instanceof Wi?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Wi(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),wt&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Si||(e=t,t=this),t instanceof Ti)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Ie(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Le(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var Yi=Ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=P(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ei.Default=Ci;var Ji=Si.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Te(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ae(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),s=0,r=i.length;s<r;s++)e=i[s].style.zIndex,i[s]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){Pe(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var s=this._tiles[n];if(s.current&&s.loaded){var r=Math.min(1,(t-s.loaded)/200);Pe(s.el,r),r<1?e=!0:(s.active?i=!0:this._onOpaqueTile(s),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(E(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(Te(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],s=this._map;return n||((n=this._levels[t]={}).el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,s.getCenter(),s.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Te(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var s=Math.floor(t/2),r=Math.floor(e/2),a=i-1,o=new O(+s,+r);o.z=+a;var l=this._tileCoordsToKey(o),h=this._tiles[l];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),a>n&&this._retainParent(s,r,a,n))},_retainChildren:function(t,e,i,n){for(var s=2*t;s<2*t+2;s++)for(var r=2*e;r<2*e+2;r++){var a=new O(s,r);a.z=i+1;var o=this._tileCoordsToKey(a),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(s,r,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var s=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&s>this.options.maxZoom||void 0!==this.options.minZoom&&s<this.options.minZoom)&&(s=void 0);var r=this.options.updateWhenZooming&&s!==this._tileZoom;n&&!r||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==s&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),s=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();gt?Re(t.el,s,n):De(t.el,s)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),s=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new N(s.subtract(r),s.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),s=this._pxBoundsToTileRange(n),r=s.getCenter(),a=[],o=this.options.keepBuffer,l=new N(s.getBottomLeft().subtract([o,-o]),s.getTopRight().add([o,-o]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var c=this._tiles[h].coords;c.z===this._tileZoom&&l.contains(new O(c.x,c.y))||(this._tiles[h].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var p=s.min.y;p<=s.max.y;p++)for(var u=s.min.x;u<=s.max.x;u++){var d=new O(u,p);if(d.z=this._tileZoom,this._isValidTile(d)){var m=this._tiles[this._tileCoordsToKey(d)];m?m.current=!0:a.push(d)}}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(u=0;u<a.length;u++)this._addTile(a[u],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return H(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),s=n.add(i),r=e.unproject(n,t.z),a=e.unproject(s,t.z);return[r,a]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new D(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new O(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(rt||e.el.setAttribute("src",b),Te(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ie(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=h,t.onmousemove=h,Q&&this.options.opacity<1&&Pe(t,this.options.opacity),it&&!nt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),s(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&T(s(this._tileReady,this,t,null,r)),De(r,i),this._tiles[n]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(Pe(i.el,0),E(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(Ie(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Qi=Ji.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Tt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Kt(i,"load",s(this._tileOnLoad,this,e,i)),Kt(i,"error",s(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:Tt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return g(this._url,i(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(s(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=h,e.onerror=h,e.complete||(e.src=b,Te(e),delete this._tiles[t]))}});function tn(t,e){return new Qi(t,e)}var en=Qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var s in e)s in this.options||(n[s]=e[s]);var r=(e=d(this,e)).detectRetina&&Tt?2:1,a=this.getTileSize();n.width=a.x*r,n.height=a.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Qi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=R(i.project(e[0]),i.project(e[1])),s=n.min,r=n.max,a=(this._wmsVersion>=1.3&&this._crs===xi?[s.y,s.x,r.y,r.x]:[s.x,s.y,r.x,r.y]).join(","),o=L.TileLayer.prototype.getTileUrl.call(this,t);return o+m(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});Qi.WMS=en,tn.wms=function(t,e){return new en(t,e)};var nn=Si.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=He(this._container),s=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e),o=a.subtract(r),l=s.multiplyBy(-i).add(n).add(s).subtract(o);gt?Re(this._container,l,i):De(this._container,l)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sn=nn.extend({getEvents:function(){var t=nn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Kt(t,"mousemove",o(this._onMouseMove,32,this),this),Kt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,Te(this._container),Yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},nn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Tt?2:1;De(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Tt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){nn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,s,r,a=t._parts,o=a.length,l=this._ctx;if(o){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),i=0;i<o;i++){for(n=0,s=a[i].length;n<s;n++)r=a[i][n],l[n?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),s=(Math.max(Math.round(t._radiusY),1)||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==s&&(i.save(),i.scale(1,s)),i.beginPath(),i.arc(e.x,e.y/s,n,0,2*Math.PI,!1),1!==s&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),s=this._drawFirst;s;s=s.next)(e=s.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(ce(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Le(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,s=this._drawFirst;s;s=s.next)(i=s.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}});function rn(t){return Et?new sn(t):null}var an=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),on={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=an("shape");Ie(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=an("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Te(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,s=t._container;s.stroked=!!n.stroke,s.filled=!!n.fill,n.stroke?(e||(e=t._stroke=an("stroke")),s.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=v(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(s.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=an("fill")),s.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(s.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ce(t._container)},_bringToBack:function(t){Ae(t._container)}},ln=At?an:K,hn=nn.extend({getEvents:function(){var t=nn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),Yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){nn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),De(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ln("path");t.options.className&&Ie(e,t.options.className),t.options.interactive&&Ie(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Te(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,W(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY),1)||i,s="a"+i+","+n+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+s+2*i+",0 "+s+2*-i+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ce(t._path)},_bringToBack:function(t){Ae(t._path)}});function cn(t){return Ct||At?new hn(t):null}At&&hn.include(on),Ze.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&rn()||cn()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=hn&&cn({pane:t})||sn&&rn({pane:t}),this._paneRenderers[t]=e),e}});var pn=Pi.extend({initialize:function(t,e){Pi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=H(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});hn.create=ln,hn.pointsToPath=W,Ni.geometryToLayer=Ri,Ni.coordsToLatLng=Di,Ni.coordsToLatLngs=Hi,Ni.latLngToCoords=Vi,Ni.latLngsToCoords=ji,Ni.getFeature=Bi,Ni.asFeature=Ui,Ze.mergeOptions({boxZoom:!0});var un=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),de(),je(),this._startPoint=this._map.mouseEventToContainerPoint(t),Kt(document,{contextmenu:se,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),i=e.getSize();De(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(Te(this._box),Le(this._container,"leaflet-crosshair")),me(),Be(),Yt(document,{contextmenu:se,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ze.addInitHook("addHandler","boxZoom",un),Ze.mergeOptions({doubleClickZoom:!0});var dn=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,s=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(s):e.setZoomAround(t.containerPoint,s)}});Ze.addInitHook("addHandler","doubleClickZoom",dn),Ze.mergeOptions({dragging:!0,inertia:!nt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mn=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ri(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=H(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,s=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,a=Math.abs(s+i)<Math.abs(r+i)?s:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,o=s.multiplyBy(a/r),l=o.distanceTo([0,0]),h=Math.min(i.inertiaMaxSpeed,l),c=o.multiplyBy(h/l),p=h/(i.inertiaDeceleration*a),u=c.multiplyBy(-p/2).round();u.x||u.y?(u=e._limitOffset(u,e.options.maxBounds),T(function(){e.panBy(u,{duration:p,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ze.addInitHook("addHandler","dragging",mn),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fn=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Kt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},s=this.keyCodes;for(e=0,i=s.left.length;e<i;e++)n[s.left[e]]=[-1*t,0];for(e=0,i=s.right.length;e<i;e++)n[s.right[e]]=[t,0];for(e=0,i=s.down.length;e<i;e++)n[s.down[e]]=[0,t];for(e=0,i=s.up.length;e<i;e++)n[s.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},s=this.keyCodes;for(e=0,i=s.zoomIn.length;e<i;e++)n[s.zoomIn[e]]=t;for(e=0,i=s.zoomOut.length;e<i;e++)n[s.zoomOut[e]]=-t},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=P(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}se(t)}}});Ze.addInitHook("addHandler","keyboard",fn),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gn=Qe.extend({addHooks:function(){Kt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=oe(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),n),se(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),s=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(s/i)*i:s,a=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ze.addInitHook("addHandler","scrollWheelZoom",gn),Ze.mergeOptions({tap:!0,tapTolerance:15});var vn=Qe.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(ne(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new O(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&Ie(i,"leaflet-active"),this._holdTimeout=setTimeout(s(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Kt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Yt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&Le(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});wt&&!xt&&Ze.addInitHook("addHandler","tap",vn),Ze.mergeOptions({touchZoom:wt&&!nt,bounceAtZoomLimits:!0});var _n=Qe.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend",this._onTouchEnd,this),ne(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),r=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var o=s(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(o,this,!0),ne(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Yt(document,"touchmove",this._onTouchMove),Yt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ze.addInitHook("addHandler","touchZoom",_n),Ze.BoxZoom=un,Ze.DoubleClickZoom=dn,Ze.Drag=mn,Ze.Keyboard=fn,Ze.ScrollWheelZoom=gn,Ze.Tap=vn,Ze.TouchZoom=_n;var bn=window.L;window.L=t,Object.freeze=e,t.version="1.3.1",t.noConflict=function(){return window.L=bn,this},t.Control=Ge,t.control=Xe,t.Browser=It,t.Evented=I,t.Mixin=ei,t.Util=C,t.Class=A,t.Handler=Qe,t.extend=i,t.bind=s,t.stamp=a,t.setOptions=d,t.DomEvent=_e,t.DomUtil=qe,t.PosAnimation=$e,t.Draggable=ri,t.LineUtil=mi,t.PolyUtil=gi,t.Point=O,t.point=P,t.Bounds=N,t.bounds=R,t.Transformation=$,t.transformation=Z,t.Projection=bi,t.LatLng=V,t.latLng=j,t.LatLngBounds=D,t.latLngBounds=H,t.CRS=U,t.GeoJSON=Ni,t.geoJSON=qi,t.geoJson=$i,t.Layer=Si,t.LayerGroup=ki,t.layerGroup=function(t,e){return new ki(t,e)},t.FeatureGroup=Ti,t.featureGroup=function(t){return new Ti(t)},t.ImageOverlay=Zi,t.imageOverlay=function(t,e,i){return new Zi(t,e,i)},t.VideoOverlay=Gi,t.videoOverlay=function(t,e,i){return new Gi(t,e,i)},t.DivOverlay=Xi,t.Popup=Ki,t.popup=function(t,e){return new Ki(t,e)},t.Tooltip=Wi,t.tooltip=function(t,e){return new Wi(t,e)},t.Icon=Ei,t.icon=function(t){return new Ei(t)},t.DivIcon=Yi,t.divIcon=function(t){return new Yi(t)},t.Marker=zi,t.marker=function(t,e){return new zi(t,e)},t.TileLayer=Qi,t.tileLayer=tn,t.GridLayer=Ji,t.gridLayer=function(t){return new Ji(t)},t.SVG=hn,t.svg=cn,t.Renderer=nn,t.Canvas=sn,t.canvas=rn,t.Path=Ii,t.CircleMarker=Li,t.circleMarker=function(t,e){return new Li(t,e)},t.Circle=Oi,t.circle=function(t,e,i){return new Oi(t,e,i)},t.Polyline=Mi,t.polyline=function(t,e){return new Mi(t,e)},t.Polygon=Pi,t.polygon=function(t,e){return new Pi(t,e)},t.Rectangle=pn,t.rectangle=function(t,e){return new pn(t,e)},t.Map=Ze,t.map=function(t,e){return new Ze(t,e)}}(e)},function(t,e){const i=document.createElement("template");i.setAttribute("style","display: none;"),i.innerHTML="<dom-module id=\"paper-spinner-styles\">\n  <template>\n    <style>\n      /*\n      /**************************/\n      /* STYLES FOR THE SPINNER */\n      /**************************/\n\n      /*\n       * Constants:\n       *      ARCSIZE     = 270 degrees (amount of circle the arc takes up)\n       *      ARCTIME     = 1333ms (time it takes to expand and contract arc)\n       *      ARCSTARTROT = 216 degrees (how much the start location of the arc\n       *                                should rotate each time, 216 gives us a\n       *                                5 pointed star shape (it's 360/5 * 3).\n       *                                For a 7 pointed star, we might do\n       *                                360/7 * 3 = 154.286)\n       *      SHRINK_TIME = 400ms\n       */\n\n      :host {\n        display: inline-block;\n        position: relative;\n        width: 28px;\n        height: 28px;\n\n        /* 360 * ARCTIME / (ARCSTARTROT + (360-ARCSIZE)) */\n        --paper-spinner-container-rotation-duration: 1568ms;\n\n        /* ARCTIME */\n        --paper-spinner-expand-contract-duration: 1333ms;\n\n        /* 4 * ARCTIME */\n        --paper-spinner-full-cycle-duration: 5332ms;\n\n        /* SHRINK_TIME */\n        --paper-spinner-cooldown-duration: 400ms;\n      }\n\n      #spinnerContainer {\n        width: 100%;\n        height: 100%;\n\n        /* The spinner does not have any contents that would have to be\n         * flipped if the direction changes. Always use ltr so that the\n         * style works out correctly in both cases. */\n        direction: ltr;\n      }\n\n      #spinnerContainer.active {\n        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;\n        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;\n      }\n\n      @-webkit-keyframes container-rotate {\n        to { -webkit-transform: rotate(360deg) }\n      }\n\n      @keyframes container-rotate {\n        to { transform: rotate(360deg) }\n      }\n\n      .spinner-layer {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        white-space: nowrap;\n        color: var(--paper-spinner-color, var(--google-blue-500));\n      }\n\n      .layer-1 {\n        color: var(--paper-spinner-layer-1-color, var(--google-blue-500));\n      }\n\n      .layer-2 {\n        color: var(--paper-spinner-layer-2-color, var(--google-red-500));\n      }\n\n      .layer-3 {\n        color: var(--paper-spinner-layer-3-color, var(--google-yellow-500));\n      }\n\n      .layer-4 {\n        color: var(--paper-spinner-layer-4-color, var(--google-green-500));\n      }\n\n      /**\n       * IMPORTANT NOTE ABOUT CSS ANIMATION PROPERTIES (keanulee):\n       *\n       * iOS Safari (tested on iOS 8.1) does not handle animation-delay very well - it doesn't\n       * guarantee that the animation will start _exactly_ after that value. So we avoid using\n       * animation-delay and instead set custom keyframes for each color (as layer-2undant as it\n       * seems).\n       */\n      .active .spinner-layer {\n        -webkit-animation-name: fill-unfill-rotate;\n        -webkit-animation-duration: var(--paper-spinner-full-cycle-duration);\n        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        -webkit-animation-iteration-count: infinite;\n        animation-name: fill-unfill-rotate;\n        animation-duration: var(--paper-spinner-full-cycle-duration);\n        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        animation-iteration-count: infinite;\n        opacity: 1;\n      }\n\n      .active .spinner-layer.layer-1 {\n        -webkit-animation-name: fill-unfill-rotate, layer-1-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-1-fade-in-out;\n      }\n\n      .active .spinner-layer.layer-2 {\n        -webkit-animation-name: fill-unfill-rotate, layer-2-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-2-fade-in-out;\n      }\n\n      .active .spinner-layer.layer-3 {\n        -webkit-animation-name: fill-unfill-rotate, layer-3-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-3-fade-in-out;\n      }\n\n      .active .spinner-layer.layer-4 {\n        -webkit-animation-name: fill-unfill-rotate, layer-4-fade-in-out;\n        animation-name: fill-unfill-rotate, layer-4-fade-in-out;\n      }\n\n      @-webkit-keyframes fill-unfill-rotate {\n        12.5% { -webkit-transform: rotate(135deg) } /* 0.5 * ARCSIZE */\n        25%   { -webkit-transform: rotate(270deg) } /* 1   * ARCSIZE */\n        37.5% { -webkit-transform: rotate(405deg) } /* 1.5 * ARCSIZE */\n        50%   { -webkit-transform: rotate(540deg) } /* 2   * ARCSIZE */\n        62.5% { -webkit-transform: rotate(675deg) } /* 2.5 * ARCSIZE */\n        75%   { -webkit-transform: rotate(810deg) } /* 3   * ARCSIZE */\n        87.5% { -webkit-transform: rotate(945deg) } /* 3.5 * ARCSIZE */\n        to    { -webkit-transform: rotate(1080deg) } /* 4   * ARCSIZE */\n      }\n\n      @keyframes fill-unfill-rotate {\n        12.5% { transform: rotate(135deg) } /* 0.5 * ARCSIZE */\n        25%   { transform: rotate(270deg) } /* 1   * ARCSIZE */\n        37.5% { transform: rotate(405deg) } /* 1.5 * ARCSIZE */\n        50%   { transform: rotate(540deg) } /* 2   * ARCSIZE */\n        62.5% { transform: rotate(675deg) } /* 2.5 * ARCSIZE */\n        75%   { transform: rotate(810deg) } /* 3   * ARCSIZE */\n        87.5% { transform: rotate(945deg) } /* 3.5 * ARCSIZE */\n        to    { transform: rotate(1080deg) } /* 4   * ARCSIZE */\n      }\n\n      @-webkit-keyframes layer-1-fade-in-out {\n        0% { opacity: 1 }\n        25% { opacity: 1 }\n        26% { opacity: 0 }\n        89% { opacity: 0 }\n        90% { opacity: 1 }\n        to { opacity: 1 }\n      }\n\n      @keyframes layer-1-fade-in-out {\n        0% { opacity: 1 }\n        25% { opacity: 1 }\n        26% { opacity: 0 }\n        89% { opacity: 0 }\n        90% { opacity: 1 }\n        to { opacity: 1 }\n      }\n\n      @-webkit-keyframes layer-2-fade-in-out {\n        0% { opacity: 0 }\n        15% { opacity: 0 }\n        25% { opacity: 1 }\n        50% { opacity: 1 }\n        51% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @keyframes layer-2-fade-in-out {\n        0% { opacity: 0 }\n        15% { opacity: 0 }\n        25% { opacity: 1 }\n        50% { opacity: 1 }\n        51% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @-webkit-keyframes layer-3-fade-in-out {\n        0% { opacity: 0 }\n        40% { opacity: 0 }\n        50% { opacity: 1 }\n        75% { opacity: 1 }\n        76% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @keyframes layer-3-fade-in-out {\n        0% { opacity: 0 }\n        40% { opacity: 0 }\n        50% { opacity: 1 }\n        75% { opacity: 1 }\n        76% { opacity: 0 }\n        to { opacity: 0 }\n      }\n\n      @-webkit-keyframes layer-4-fade-in-out {\n        0% { opacity: 0 }\n        65% { opacity: 0 }\n        75% { opacity: 1 }\n        90% { opacity: 1 }\n        to { opacity: 0 }\n      }\n\n      @keyframes layer-4-fade-in-out {\n        0% { opacity: 0 }\n        65% { opacity: 0 }\n        75% { opacity: 1 }\n        90% { opacity: 1 }\n        to { opacity: 0 }\n      }\n\n      .circle-clipper {\n        display: inline-block;\n        position: relative;\n        width: 50%;\n        height: 100%;\n        overflow: hidden;\n      }\n\n      /**\n       * Patch the gap that appear between the two adjacent div.circle-clipper while the\n       * spinner is rotating (appears on Chrome 50, Safari 9.1.1, and Edge).\n       */\n      .spinner-layer::after {\n        left: 45%;\n        width: 10%;\n        border-top-style: solid;\n      }\n\n      .spinner-layer::after,\n      .circle-clipper::after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 0;\n        border-width: var(--paper-spinner-stroke-width, 3px);\n        border-radius: 50%;\n      }\n\n      .circle-clipper::after {\n        bottom: 0;\n        width: 200%;\n        border-style: solid;\n        border-bottom-color: transparent !important;\n      }\n\n      .circle-clipper.left::after {\n        left: 0;\n        border-right-color: transparent !important;\n        -webkit-transform: rotate(129deg);\n        transform: rotate(129deg);\n      }\n\n      .circle-clipper.right::after {\n        left: -100%;\n        border-left-color: transparent !important;\n        -webkit-transform: rotate(-129deg);\n        transform: rotate(-129deg);\n      }\n\n      .active .gap-patch::after,\n      .active .circle-clipper::after {\n        -webkit-animation-duration: var(--paper-spinner-expand-contract-duration);\n        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        -webkit-animation-iteration-count: infinite;\n        animation-duration: var(--paper-spinner-expand-contract-duration);\n        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n        animation-iteration-count: infinite;\n      }\n\n      .active .circle-clipper.left::after {\n        -webkit-animation-name: left-spin;\n        animation-name: left-spin;\n      }\n\n      .active .circle-clipper.right::after {\n        -webkit-animation-name: right-spin;\n        animation-name: right-spin;\n      }\n\n      @-webkit-keyframes left-spin {\n        0% { -webkit-transform: rotate(130deg) }\n        50% { -webkit-transform: rotate(-5deg) }\n        to { -webkit-transform: rotate(130deg) }\n      }\n\n      @keyframes left-spin {\n        0% { transform: rotate(130deg) }\n        50% { transform: rotate(-5deg) }\n        to { transform: rotate(130deg) }\n      }\n\n      @-webkit-keyframes right-spin {\n        0% { -webkit-transform: rotate(-130deg) }\n        50% { -webkit-transform: rotate(5deg) }\n        to { -webkit-transform: rotate(-130deg) }\n      }\n\n      @keyframes right-spin {\n        0% { transform: rotate(-130deg) }\n        50% { transform: rotate(5deg) }\n        to { transform: rotate(-130deg) }\n      }\n\n      #spinnerContainer.cooldown {\n        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);\n        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);\n      }\n\n      @-webkit-keyframes fade-out {\n        0% { opacity: 1 }\n        to { opacity: 0 }\n      }\n\n      @keyframes fade-out {\n        0% { opacity: 1 }\n        to { opacity: 0 }\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(i.content)},function(t,e){},function(t,e,i){const{BaseModel:n}=i(12),s=i(40),r=(i(48),i(47));t.exports=new class extends n{constructor(){super(),"undefined"!=typeof window&&(this.ele=document.querySelector("#seo-jsonld"),this.MasterController.on(s.store.events.APP_STATE_UPDATE,t=>this._onAppStateUpdate(t)),this.MasterController.on(s.store.events.SELECTED_RECORD_UPDATE,t=>this._onSelectedRecordUpdate(t)))}async _onAppStateUpdate(t){return t.location.path.length?"record"!==t.location.path[0]?this._clear():t.selectedRecord?void 0:this._clear():this._clear()}_onSelectedRecordUpdate(t){let e=r(t);for(var i in e["@context"]="http://schema.org",e["@type"]=e["@type"].filter(t=>!!t.match(/^schema:/)).map(t=>t.replace(/^schema:/,"")),e)"_"===i[0]&&delete e[i];this.ele.innerHTML=JSON.stringify(e,"  ","  ")}_clear(){this.ele.innerHTML=""}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){const{BaseModel:n}=i(12),s=i(13);t.exports=new class extends n{constructor(){super(),this.register("MediaModel")}getImgPath(t){return t.workExample?Array.isArray(t.workExample)?t.workExample[0]:t.workExample:t.fileFormat&&t.fileFormat.match(/^image/i)?t.id:t.associatedMedia?Array.isArray(t.associatedMedia)?t.associatedMedia[0]:t.associatedMedia:""}getImgUrl(t,e="",i=""){return null===e&&(e=""),null===i&&(i=""),`${s.fcrepoBasePath}${t}/svc:iiif/full/${e},${i}/0/default.jpg`}getImageMediaList(t){if(t._imageList)return t._imageList;if(!t._associatedMedia)return[];for(var e=0;e<t._associatedMedia.length;e++){let i=t._associatedMedia[e].encodingFormat;if(i&&"image list"===i.toLowerCase())return t._imageList=t._associatedMedia[e]._hasPart||[],t._imageList.sort((t,e)=>t.position>e.position?1:t.position<e.position?-1:1),t._imageList}let i=[];for(e=0;e<t._associatedMedia.length;e++){let n=t._associatedMedia[e].fileFormat;n&&n.match(/^image/i)&&i.push(t._associatedMedia[e])}return t._imageList=i,i}}},function(t,e,i){const{BaseService:n}=i(12),s=i(46),r=i(13);t.exports=new class extends n{constructor(){super(),this.store=s,this.baseUrl="/api/collections"}async overview(){return this.request({url:`${this.baseUrl}/all`,checkCached:()=>this.store.data.overview,onLoading:t=>this.store.setCollectionOverviewLoading(t),onLoad:t=>this.store.setCollectionOverviewLoaded(t.body),onError:t=>this.store.setCollectionOverviewError(t)})}async search(t={}){return t.textFields=r.elasticSearch.textFields.collection,this.request({url:this.baseUrl+"/search?debug=true",fetchOptions:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},onLoading:e=>this.store.setSearchLoading(t,e),onLoad:e=>this.store.setSearchLoaded(t,e.body),onError:e=>this.store.setSearchError(t,e)})}}},function(t,e,i){const{BaseModel:n}=i(12),s=i(46),r=i(106),a=i(38);t.exports=new class extends n{constructor(){super(),this.store=s,this.service=r,this.MasterController.on(a.events.RECORD_SEARCH_UPDATE,this._onSearchDocumentUpdate.bind(this)),this.register("CollectionModel")}async overview(){return"loading"===this.store.data.overview.state?await this.store.data.overview.request:await this.service.overview(),this.store.data.overview}async get(t){return"loading"===this.store.data.overview.state&&await this.store.data.overview.request,this.store.data.byId[t]}getSelectedCollection(){return this.store.data.selected}search(t){return this.service.search(t)}async _onSearchDocumentUpdate(t){let e=null;t.searchDocument.filters.isPartOf&&(e=await this.get(t.searchDocument.filters.isPartOf.value[0])),!t.searchDocument.filters.isPartOf&&t.searchDocument.text?("loading"===t.state&&this.search({text:t.searchDocument.text}),this.emit("show-collection-search-results",!0)):this.emit("show-collection-search-results",!1),this.store.setSelectedCollection(e)}}},function(t,e){var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function s(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=i?n:s).supported=n,e.unsupported=s},function(t,e){function i(t){var e=[];for(var i in t)e.push(i);return e}(t.exports="function"==typeof Object.keys?Object.keys:i).shim=i},function(t,e,i){var n=Array.prototype.slice,s=i(109),r=i(108),a=t.exports=function(t,e,i){return i||(i={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?i.strict?t===e:t==e:function(t,e,i){var h,c;if(o(t)||o(e))return!1;if(t.prototype!==e.prototype)return!1;if(r(t))return!!r(e)&&(t=n.call(t),e=n.call(e),a(t,e,i));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(h=0;h<t.length;h++)if(t[h]!==e[h])return!1;return!0}try{var p=s(t),u=s(e)}catch(t){return!1}if(p.length!=u.length)return!1;for(p.sort(),u.sort(),h=p.length-1;h>=0;h--)if(p[h]!=u[h])return!1;for(h=p.length-1;h>=0;h--)if(c=p[h],!a(t[c],e[c],i))return!1;return typeof t==typeof e}(t,e,i))};function o(t){return null===t||void 0===t}function l(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,i){const{BaseService:n}=i(12),s=i(38),r=i(110),a=i(13);t.exports=new class extends n{constructor(){super(),this.store=s,this.baseUrl="/api/records"}async get(t){return await this.request({url:`${this.baseUrl}${t}`,checkCached:()=>this.store.data.byId[t],onLoading:e=>this.store.setRecordLoading(t,e),onLoad:e=>this.store.setRecordLoaded(t,e.body),onError:e=>this.store.setRecordError(t,e)})}async search(t={}){t.textFields=a.elasticSearch.textFields.record;let e=this.store.data.search.searchDocument||{};return r(e,t)?this.store.getSearch():await this.request({url:`${this.baseUrl}/search?debug=true`,fetchOptions:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},onLoading:e=>this.store.setSearchLoading(t,e),onLoad:e=>this.store.setSearchLoaded(t,e.body),onError:e=>this.store.setSearchError(t,e)})}async defaultSearch(t,e={}){return await this.request({url:`${this.baseUrl}/search?debug=true`,fetchOptions:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},onLoading:i=>this.store.setDefaultSearchLoading(t,e,i),onLoad:i=>this.store.setDefaultSearchLoaded(t,e,i.body),onError:i=>this.store.setDefaultSearchError(t,e,i)})}}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e){e.read=function(t,e,i,n,s){var r,a,o=8*s-n-1,l=(1<<o)-1,h=l>>1,c=-7,p=i?s-1:0,u=i?-1:1,d=t[e+p];for(p+=u,r=d&(1<<-c)-1,d>>=-c,c+=o;c>0;r=256*r+t[e+p],p+=u,c-=8);for(a=r&(1<<-c)-1,r>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=u,c-=8);if(0===r)r=1-h;else{if(r===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),r-=h}return(d?-1:1)*a*Math.pow(2,r-n)},e.write=function(t,e,i,n,s,r){var a,o,l,h=8*r-s-1,c=(1<<h)-1,p=c>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,m=n?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?u/l:u*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(o=0,a=c):a+p>=1?(o=(e*l-1)*Math.pow(2,s),a+=p):(o=e*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;t[i+d]=255&o,d+=m,o/=256,s-=8);for(a=a<<s|o,h+=s;h>0;t[i+d]=255&a,d+=m,a/=256,h-=8);t[i+d-m]|=128*f}},function(t,e,i){"use strict";e.byteLength=function(t){var e=h(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){for(var e,i=h(t),n=i[0],a=i[1],o=new r(function(t,e,i){return 3*(e+i)/4-i}(0,n,a)),l=0,c=a>0?n-4:n,p=0;p<c;p+=4)e=s[t.charCodeAt(p)]<<18|s[t.charCodeAt(p+1)]<<12|s[t.charCodeAt(p+2)]<<6|s[t.charCodeAt(p+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=255&e;2===a&&(e=s[t.charCodeAt(p)]<<2|s[t.charCodeAt(p+1)]>>4,o[l++]=255&e);1===a&&(e=s[t.charCodeAt(p)]<<10|s[t.charCodeAt(p+1)]<<4|s[t.charCodeAt(p+2)]>>2,o[l++]=e>>8&255,o[l++]=255&e);return o},e.fromByteArray=function(t){for(var e,i=t.length,s=i%3,r=[],a=0,o=i-s;a<o;a+=16383)r.push(c(t,a,a+16383>o?o:a+16383));1===s?(e=t[i-1],r.push(n[e>>2]+n[e<<4&63]+"==")):2===s&&(e=(t[i-2]<<8)+t[i-1],r.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return r.join("")};for(var n=[],s=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)n[o]=a[o],s[a.charCodeAt(o)]=o;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var s,r,a=[],o=e;o<i;o+=3)s=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),a.push(n[(r=s)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return a.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=i(114),s=i(113),r=i(112);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return h(this,t,e,i)}function h(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=u(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(e,i),s=(t=o(t,n)).write(e,i);s!==n&&(t=t.slice(0,s));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|d(e.length);return 0===(t=o(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?o(t,0):u(t,e);if("Buffer"===e.type&&r(e.data))return u(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(c(e),t=o(t,e<0?0:0|d(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e){var i=e.length<0?0:0|d(e.length);t=o(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function m(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return B(t).length;default:if(n)return j(t).length;e=(""+e).toLowerCase(),n=!0}}function f(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function g(t,e,i,n,s){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return-1;i=t.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:v(t,e,i,n,s);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,n,s);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,n,s){var r,a=1,o=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,l/=2,i/=2}function h(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(s){var c=-1;for(r=i;r<o;r++)if(h(t,r)===h(e,-1===c?0:r-c)){if(-1===c&&(c=r),r-c+1===l)return c*a}else-1!==c&&(r-=r-c),c=-1}else for(i+l>o&&(i=o-l),r=i;r>=0;r--){for(var p=!0,u=0;u<l;u++)if(h(t,r+u)!==h(e,u)){p=!1;break}if(p)return r}return-1}function _(t,e,i,n){i=Number(i)||0;var s=t.length-i;n?(n=Number(n))>s&&(n=s):n=s;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[i+a]=o}return a}function b(t,e,i,n){return U(j(e,t.length-i),t,i,n)}function y(t,e,i,n){return U(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function x(t,e,i,n){return y(t,e,i,n)}function w(t,e,i,n){return U(B(e),t,i,n)}function S(t,e,i,n){return U(function(t,e){for(var i,n,s,r=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,s=i%256,r.push(s),r.push(n);return r}(e,t.length-i),t,i,n)}function k(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function T(t,e,i){i=Math.min(t.length,i);for(var n=[],s=e;s<i;){var r,a,o,l,h=t[s],c=null,p=h>239?4:h>223?3:h>191?2:1;if(s+p<=i)switch(p){case 1:h<128&&(c=h);break;case 2:128==(192&(r=t[s+1]))&&(l=(31&h)<<6|63&r)>127&&(c=l);break;case 3:r=t[s+1],a=t[s+2],128==(192&r)&&128==(192&a)&&(l=(15&h)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:r=t[s+1],a=t[s+2],o=t[s+3],128==(192&r)&&128==(192&a)&&128==(192&o)&&(l=(15&h)<<18|(63&r)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,p=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),s+=p}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=E));return i}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return c(e),e<=0?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return p(null,t)},l.allocUnsafeSlow=function(t){return p(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,s=0,r=Math.min(i,n);s<r;++s)if(t[s]!==e[s]){i=t[s],n=e[s];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),s=0;for(i=0;i<t.length;++i){var a=t[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,s),s+=a.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z(this,e,i);case"utf8":case"utf-8":return T(this,e,i);case"ascii":return C(this,e,i);case"latin1":case"binary":return A(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,s){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),e<0||i>t.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&e>=i)return 0;if(n>=s)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,s>>>=0,this===t)return 0;for(var r=s-n,a=i-e,o=Math.min(r,a),h=this.slice(n,s),c=t.slice(e,i),p=0;p<o;++p)if(h[p]!==c[p]){r=h[p],a=c[p];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var s=this.length-e;if((void 0===i||i>s)&&(i=s),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return _(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return x(this,t,e,i);case"base64":return w(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function C(t,e,i){var n="";i=Math.min(t.length,i);for(var s=e;s<i;++s)n+=String.fromCharCode(127&t[s]);return n}function A(t,e,i){var n="";i=Math.min(t.length,i);for(var s=e;s<i;++s)n+=String.fromCharCode(t[s]);return n}function z(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var s="",r=e;r<i;++r)s+=V(t[r]);return s}function I(t,e,i){for(var n=t.slice(e,i),s="",r=0;r<n.length;r+=2)s+=String.fromCharCode(n[r]+256*n[r+1]);return s}function L(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,i,n,s,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<r)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function M(t,e,i,n){e<0&&(e=65535+e+1);for(var s=0,r=Math.min(t.length-i,2);s<r;++s)t[i+s]=(e&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function P(t,e,i,n){e<0&&(e=4294967295+e+1);for(var s=0,r=Math.min(t.length-i,4);s<r;++s)t[i+s]=e>>>8*(n?s:3-s)&255}function N(t,e,i,n,s,r){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,n,r){return r||N(t,0,i,4),s.write(t,e,i,n,23,4),i+4}function D(t,e,i,n,r){return r||N(t,0,i,8),s.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var s=e-t;i=new l(s,void 0);for(var r=0;r<s;++r)i[r]=this[r+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=this[t],s=1,r=0;++r<e&&(s*=256);)n+=this[t+r]*s;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=this[t+--e],s=1;e>0&&(s*=256);)n+=this[t+--e]*s;return n},l.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=this[t],s=1,r=0;++r<e&&(s*=256);)n+=this[t+r]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=e,s=1,r=this[t+--n];n>0&&(s*=256);)r+=this[t+--n]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),s.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),s.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),s.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),s.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||O(this,t,e,i,Math.pow(2,8*i)-1,0);var s=1,r=0;for(this[e]=255&t;++r<i&&(s*=256);)this[e+r]=t/s&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||O(this,t,e,i,Math.pow(2,8*i)-1,0);var s=i-1,r=1;for(this[e+s]=255&t;--s>=0&&(r*=256);)this[e+s]=t/r&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var s=Math.pow(2,8*i-1);O(this,t,e,i,s-1,-s)}var r=0,a=1,o=0;for(this[e]=255&t;++r<i&&(a*=256);)t<0&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/a>>0)-o&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var s=Math.pow(2,8*i-1);O(this,t,e,i,s-1,-s)}var r=i-1,a=1,o=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/a>>0)-o&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return D(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return D(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var s,r=n-i;if(this===t&&i<e&&e<n)for(s=r-1;s>=0;--s)t[s+e]=this[s+i];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(s=0;s<r;++s)t[s+e]=this[s+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+r),e);return r},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var a=l.isBuffer(t)?t:j(new l(t,n).toString()),o=a.length;for(r=0;r<i-e;++r)this[r+e]=a[r%o]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var i;e=e||1/0;for(var n=t.length,s=null,r=[],a=0;a<n;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!s){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&r.push(239,191,189);continue}s=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(e-=3)>-1&&r.push(239,191,189);if(s=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function B(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,i,n){for(var s=0;s<n&&!(s+i>=e.length||s>=t.length);++s)e[s+i]=t[s];return s}}).call(this,i(115))},function(t,e,i){const{BaseModel:n}=i(12),s=i(13);t.exports=class extends n{constructor(){for(var t in super(),this.defaultTextFields=["title","description"],this.facets={},s.elasticSearch.facets)this.facets[t]={type:s.elasticSearch.facets[t].type}}emptySearchDocument(){return{text:"",filters:{},sort:null,limit:10,offset:0,facets:this.facets}}urlToSearchDocument(t){if(!Array.isArray(t))throw new Error("UrlParts should be an array");let e=this.emptySearchDocument(),i=0;for(;t.length>0;){let n=decodeURIComponent(t.splice(0,1)[0]);switch(i){case 0:e.text=n;break;case 1:e.filters=n?this._parseUrlFilters(n):{};break;case 2:e.sort=n?JSON.parse(n):null;break;case 3:e.limit=n?parseInt(n):10;break;case 4:e.offset=n?parseInt(n):0}i++}return e}_parseUrlFilters(t=""){let e={};return JSON.parse(t).forEach(t=>{e[t[0]]=this._setUrlFilterOp({type:this._parseUrlFilterType(t[1]),value:this._parseUrlFilterValue(t)},t[1])}),e}_setUrlFilterOp(t,e){return"range"!==e&&(t.op=e),t}_parseUrlFilterType(t){return"or"===t||"and"===t?"keyword":t}_parseUrlFilterValue(t){return"range"===t[1]?t[2]:t.splice(2,t.length)}searchDocumentToUrl(t){let e=[];if(t.filters)for(var i in t.filters){let n=t.filters[i],s=[i,n.op||n.type];Array.isArray(n.value)?s=s.concat(n.value):s.push(n.value),e.push(s)}return[encodeURIComponent(t.text),encodeURIComponent(JSON.stringify(e)),encodeURIComponent(t.sort?JSON.stringify(t.sort):""),t.limit||"",t.offset||""].join("/")}setSort(t,e,i){return e?"object"==typeof e?t.sort=key:i&&(t.sort={[e]:i}):t.sort=null,t.offset=0,t}setPaging(t,e,i){return void 0!==e&&(t.offset=e),void 0!==i&&(t.limit=i),t}setTextFilter(t,e){return t.text=e,t}clearFilters(t){return t.text="",t.filters={},t}appendKeywordFilter(t,e,i,n="or"){return t.filters[e]?t.filters[e].value.push(i):t.filters[e]={type:"keyword",op:n,value:[i]},t}setKeywordFilter(t,e,i,n="or"){return t.filters[e]={type:"keyword",op:n,value:[i]},t}async removeKeywordFilter(t,e,i){if(!t.filters[e])return t;if(void 0===i)delete t.filters[e];else{let n=t.filters[e],s=n.value.indexOf(i);if(-1===s)return t;n.value.splice(s,1),0===n.value.length&&delete t.filters[e]}return t}appendRangeFilter(t,e,i){return t.filters[e]={type:"range",value:i},t}removeRangeFilter(t,e){return t.filters[e]?(delete t.filters[e],t):t}}},function(t,e,i){const{AppStateStore:n}=i(39);t.exports=new class extends n{constructor(){super(),this.data.selectedRecord=null,this.data.selectedRecordMedia=null,this.events.SELECTED_RECORD_UPDATE="selected-record-update",this.events.SELECTED_RECORD_MEDIA_UPDATE="selected-record-media-update"}set(t){super.set(t)}setSelectedRecord(t){this.data.selectedRecord=t,this.emit(this.events.SELECTED_RECORD_UPDATE,t)}getSelectedRecord(){return this.data.selectedRecord}setSelectedRecordMedia(t){this.data.selectedRecordMedia=t,this.emit(this.events.SELECTED_RECORD_MEDIA_UPDATE,t)}getSelectedRecordMedia(){return this.data.selectedRecordMedia}}},function(t,e,i){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");function r(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var i=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],r(i),r(n))}function a(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(n),i=1;i<e.length;i++)e=(t=r(e,i).join("")).match(n);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},i=s.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch(t){var n=a(i[0]);n!==i[0]&&(e[i[0]]=n)}i=s.exec(t)}e["%C2"]="�";for(var r=Object.keys(e),o=0;o<r.length;o++){var l=r[o];t=t.replace(new RegExp(l,"g"),e[l])}return t}(t)}}},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,o=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var h in i=Object(arguments[l]))s.call(i,h)&&(o[h]=i[h]);if(n){a=n(i);for(var c=0;c<a.length;c++)r.call(i,a[c])&&(o[a[c]]=i[a[c]])}}return o}},function(t,e,i){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,i){const{BaseStore:n}=i(12);t.exports=class extends n{constructor(){super(),this.data={location:{}},this.events={APP_STATE_UPDATE:"app-state-update"}}set(t){this.data=Object.assign({},this.data,t),this.emit(this.events.APP_STATE_UPDATE,this.data)}get(){return this.data}}},function(t,e,i){var{BaseModel:n}=i(12);t.exports=class extends n{constructor(){super(),this.register("AppStateModel")}setLocationElement(t){this.locationElement=t}setLocation(t){if(!this.locationElement)return console.warn("Call to setWindowLocation but no locationElement set");this.locationElement.setWindowLocation(t)}async get(){return this.store.data}set(t){return this.store.set(t),this.get()}}},function(t,e,i){const{BaseService:n}=i(12),s=i(49);t.exports=new class extends n{constructor(){super(),this.store=s,this.initAuthRequested=!1}async getUser(){return this.initAuthRequested?this.store.data:(this.initAuthRequested=!0,this.request({url:"/auth/user",onLoad:t=>{t.body.loggedIn?this.store.setUser(t.body):this.store.notLoggedIn()},onError:t=>{throw t}}))}}},function(t,e,i){var{BaseModel:n}=i(12),s=i(49),r=i(124);t.exports=new class extends n{constructor(){super(),this.store=s,this.service=r,this.register("AuthModel")}async getUser(){return await this.service.getUser()}login(){window.location="/auth/cas/login"}logout(){window.location="/auth/logout"}}},function(t,e,i){t.exports={AuthModel:i(125),AppStateModel:i(40),RecordModel:i(48),CollectionModel:i(107),MediaModel:i(105),CitationModel:i(28),SeoModel:i(103)}},function(t,e,i){const{Debouncer:n}=i(22),s=i(10),r=i(41),a=t=>(class extends t{static get properties(){return{active:{type:Boolean,value:!1,observer:"_onActive"}}}set bind(t){this._bind=Object.assign(this.bind,t)}get bind(){return this._bind||(this._bind={}),this._bind}constructor(){super(),this.bind={},this._eb_handlers={},this._eb_handlersSet=!1,this._eb_unregisterOnDetach=!0}ready(){super.ready(),this._eb_init()}connectedCallback(){super.connectedCallback(),this._eb_init()}_eb_init(){if(!this._eb_handlersSet)for(var t in this._eb_handlersSet=!0,this._debugEventInterface&&console.log(this.nodeName,"ready and connected to DOM, attaching event listeners",this.bind),this.bind)this[this.bind[t]]?this._eb_init_fn(t):console.warn(`${this.nodeName} could not bind event ${t} to ${this.bind[t]}`)}_eb_init_fn(t){this[this.bind[t]]=this[this.bind[t]].bind(this),this._eb_handlers[t]=((...e)=>{this.active?(this._debugEventInterface&&console.log(this.nodeName,"received event",t,", triggering function:",this.bind[t]),this[this.bind[t]].apply(this,e)):this._debugEventInterface&&console.warn(this.nodeName,"ignoring",t,"event, element not active")}),r.on(t,this._eb_handlers[t])}disconnectedCallback(){if(super.disconnectedCallback(),this._debugEventInterface&&console.log(this.nodeName,"disconnected from DOM, removing event listeners"),this._eb_unregisterOnDetach&&this._eb_handlersSet)for(var t in this._eb_handlersSet=!1,this.bind){if(!this[this.bind[t]])continue;let e=r.listenerCount(t);r.removeListener(t,this._eb_handlers[t]),r.listenerCount(t)!==e-1&&console.warn(this.nodeName,"On element detach, failed to remove event listener for: ",t),this._debugEventInterface&&console.log(this.nodeName,"removing event listener for:",t)}}MasterController(){return r}_injectModel(t){this[t]=r.getModel(t),this[t].events&&this._registerModelEvents(this[t].events),this[t].store&&this[t].store.events&&this._registerModelEvents(this[t].store.events)}_registerModelEvents(t){for(var e in t){var i=this._getMethodNameFromEvent(t[e]);this[i]?(this._debugEventInterface&&console.log(this.nodeName,"auto-bind:",i+" -> "+t[e],!0),this.bind[t[e]]=i):this._debugEventInterface&&console.log(this.nodeName,"auto-bind:",i+" -> "+t[e],!1)}}_getMethodNameFromEvent(t){return"_on"+t.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join("")}emit(t,e){r.emit(t,e)}fire(t,e={}){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0}))}debounce(t,e,i){this[t=`_${t}Debouncer`]=n.debounce(this[t],s.timeOut.after(i),e.bind(this))}_onActive(){}});"undefined"!=typeof window&&(window.EventInterface=a),t.exports=a},function(t,e){const i=t=>new class{constructor(t){this.superclass=t}with(...t){return t.reduce((t,e)=>e(t),this.superclass)}}(t);"undefined"!=typeof window&&(window.Mixin=i),t.exports=i},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(t){return t&&DataView.prototype.isPrototypeOf(t)},s=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=o(t),e=l(e);var i=this.map[t];this.map[t]=i?i+","+e:e},c.prototype.delete=function(t){delete this.map[o(t)]},c.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},c.prototype.set=function(t,e){this.map[o(t)]=l(e)},c.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),h(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),h(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),h(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];_.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=g,t.Response=_,t.fetch=function(t,i){return new Promise(function(n,s){var r=new g(t,i),a=new XMLHttpRequest;a.onload=function(){var t,e,i={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),n=i.shift().trim();if(n){var s=i.join(":").trim();e.append(n,s)}}),e)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var s="response"in a?a.response:a.responseText;n(new _(s,i))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),r.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var i={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(i[Symbol.iterator]=function(){return i}),i}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function u(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function d(t){var e=new FileReader,i=u(e);return e.readAsArrayBuffer(t),i}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&n(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!s(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,i,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=u(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var i,n,s=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(i=e.method||this.method||"GET",n=i.toUpperCase(),r.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),s=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(s))}}),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,i){const n=i(50);t.exports=class{constructor(){this.rootUrl="","undefined"!=typeof window&&(this.rootUrl=window.location.protocol+"//"+window.location.host),this.ERROR_MESSAGES={REQUEST:"Request Error",STATUS_CODE:"Invalid status code",JSON:"Invalid JSON response",APPLICATION_ERROR:"Application Error"}}async request(t){if(!t.store){if(!this.store)return console.error(new Error("No store provided"));t.store=this.store}if(t.fetchOptions||(t.fetchOptions={}),t.fetchOptions.credentials||(t.fetchOptions.credentials="include"),t.json&&t.fetchOptions&&t.fetchOptions.body&&"object"==typeof t.fetchOptions.body&&(t.fetchOptions.body=JSON.stringify(t.fetchOptions.body),t.fetchOptions.headers||(t.fetchOptions.headers={}),t.fetchOptions.headers["Content-Type"]="application/json"),t.qs){let i=[];for(var e in t.qs)i.push(`${e}=${t.qs[e]}`);t.url+="?"+i.join("&")}if(t.checkCached){var i=t.checkCached();if(this.isLoaded(i))return i;if(this.isLoading(i)){if(!i.request)throw new Error("checkCached set but no request object found",i);return i.request}}let n=this._request(t);return t.onLoading&&t.onLoading(n),await n}_request(t){return t.fetchOptions||t.fetchOptions,new Promise(async(e,i)=>{var s=null;try{s=await n(t.url,t.fetchOptions)}catch(e){return this._handleError(t,i,{error:!0,details:e,message:this.ERROR_MESSAGES.REQUEST})}if(s.status<200||s.status>299)return this._handleError(t,i,{error:!0,details:s,message:this.ERROR_MESSAGES.STATUS_CODE});if(s.headers.has("Content-Type")&&s.headers.get("Content-Type").match(/application\/json/i)){var r=null;try{r=await s.json()}catch(e){return this._handleError(t,i,{error:!0,details:e,message:this.ERROR_MESSAGES.JSON})}if(r.error)return this._handleError(t,i,{error:!0,details:r,message:this.ERROR_MESSAGES.APPLICATION_ERROR})}else r=await s.text();t.onLoad&&t.onLoad({response:s,body:r}),e({response:s,body:r})})}_handleError(t,e,i){t.onError&&t.onError(i),e(i)}isLoaded(t){return this.store?!(!t||t.state!==this.store.STATE.LOADED):console.warn("Checking LOADED state but no store set for service")}isLoading(t){return this.store?!(!t||t.state!==this.store.STATE.LOADING):console.warn("Checking LOADED state but no store set for service")}}},function(t,e,i){var n=i(41);t.exports=class{constructor(){this.STATE={INIT:"init",LOADING:"loading",LOADED:"loaded",ERROR:"error",SAVING:"saving",SAVE_ERROR:"save-error",DELETING:"deleting",DELETE_ERROR:"delete-error",DELETED:"deleted"}}get MasterController(){return n}emit(t,e){setTimeout(()=>{n.emit(t,e)},0)}}},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,a,o,l,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(r(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),a=(h=i.slice()).length,l=0;l<a;l++)h[l].apply(this,o);return!0},i.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(a=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var i=!1;function s(){this.removeListener(t,s),i||(i=!0,e.apply(this,arguments))}return s.listener=e,this.on(t,s),this},i.prototype.removeListener=function(t,e){var i,r,a,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(i=this._events[t]).length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(o=a;o-- >0;)if(i[o]===e||i[o].listener&&i[o].listener===e){r=o;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){var n=i(41);t.exports=class{get MasterController(){return n}register(t){t||console.warn("Name not passed to register().  This will fail in IE, cause, you know, IE.");var e=t||this.__proto__.constructor.name;n.registerModel(e,this)}emit(t,e){setTimeout(()=>{n.emit(t,e)},0)}}},function(t,e){
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function i(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?i():window.addEventListener("DOMContentLoaded",i)}]);