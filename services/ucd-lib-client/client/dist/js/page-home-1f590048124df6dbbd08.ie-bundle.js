(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{166:function(n,e,t){"use strict";var o=function n(e,t,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:n(i,t,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},r=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),i=t(4);t(77),t(179),t(65);var a=s(t(212)),c=s(t(39)),l=s(t(19)),u=s(t(38));function s(n){return n&&n.__esModule?n:{default:n}}var p=function(n){function e(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.active=!0,n}var t,i;return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(e,n),r(e,null,[{key:"template",get:function(){var n=document.createElement("template");return n.innerHTML=a.default,n}},{key:"properties",get:function(){return{highlightedCollections:{type:Array,value:function(){return[]}},count:{type:String,value:(APP_CONFIG.recordCount||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}}]),r(e,[{key:"ready",value:(t=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"ready",this).call(this),n.t0=this,n.next=4,this.CollectionModel.overview();case 4:n.t1=n.sent,n.t0._setCollections.call(n.t0,n.t1);case 6:case"end":return n.stop()}}),n,this)})),i=function(){var n=t.apply(this,arguments);return new Promise((function(e,t){return function o(r,i){try{var a=n[r](i),c=a.value}catch(n){return void t(n)}if(!a.done)return Promise.resolve(c).then((function(n){o("next",n)}),(function(n){o("throw",n)}));e(c)}("next")}))},function(){return i.apply(this,arguments)})},{key:"_onAppStateUpdate",value:function(n){var e=this;"collections"===n.location.hash&&setTimeout((function(){var n=e.shadowRoot.querySelector("#collections-home");n&&n.scrollIntoView()}),25)}},{key:"_setCollections",value:function(n){if("loaded"===n.state){var e=n.payload,t={};e.sort((function(n,e){return n.name>e.name?1:n.name<e.name?-1:0})),e.forEach((function(n){t[n["@id"]]=n.name,n.thumbnailUrl||(n.thumbnailUrl="/images/logos/logo-white-512.png"),n.workExample?n.thumbnail="/fcrepo/rest"+n.workExample["@id"]+"/svc:iiif/full/,320/0/default.jpg":n.thumbnail="/images/logos/logo-white-512.png"})),this.$.searchBox.browse=t,this.highlightedCollections=e}}},{key:"_onBrowse",value:function(n){var e=n.detail;if(!e||"Browse"===e)return this.RecordModel.setSearchLocation(this._getEmptySearchDocument());this.$.searchBox.browseValue="Browse",this._onCollectionSelected(e)}},{key:"_onSearch",value:function(n){var e=this._getEmptySearchDocument();this._setTextFilter(e,n.detail),this.RecordModel.setSearchLocation(e)}},{key:"_onCollectionClicked",value:function(n){if("keyup"!==n.type||13===n.which){var e=n.currentTarget.getAttribute("data-id");this._onCollectionSelected(e)}}},{key:"_onCollectionSelected",value:function(n){this._setWindowLocation(n)}}]),e}(Mixin(i.PolymerElement).with(EventInterface,c.default,l.default,u.default));customElements.define("app-home",p)},179:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function n(e,t,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:n(i,t,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},r=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),i=t(4),a=l(t(180)),c=l(t(181));function l(n){return n&&n.__esModule?n:{default:n}}var u=function(n){function e(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.shownInViewport=!1,n.active=!0,n}var t,i;return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(e,n),r(e,null,[{key:"template",get:function(){var n=document.createElement("template");return n.innerHTML=a.default,n}},{key:"properties",get:function(){return{collection:{type:Object,value:function(){return{}},observer:"_onCollectionChange"},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}}]),r(e,[{key:"connectedCallback",value:(t=regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),"/images/logos/logo-white-512.png"===this.collection.thumbnailUrl&&(this.shadowRoot.querySelectorAll(".img")[0].className+=" defaultImage"),this.observer){n.next=6;break}return n.next=5,c.default.load();case 5:this.observer=new IntersectionObserver((function(n){return t._onViewportIntersection(n)}),{rootMargin:"10px",threshold:0});case 6:this.imageLoaded=!1,this.observer.observe(this);case 8:case"end":return n.stop()}}),n,this)})),i=function(){var n=t.apply(this,arguments);return new Promise((function(e,t){return function o(r,i){try{var a=n[r](i),c=a.value}catch(n){return void t(n)}if(!a.done)return Promise.resolve(c).then((function(n){o("next",n)}),(function(n){o("throw",n)}));e(c)}("next")}))},function(){return i.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),this.observer.disconnect()}},{key:"_onCollectionChange",value:function(){this.shownInViewport&&this._setBackgroundImage()}},{key:"_onViewportIntersection",value:function(n){0!==n.length&&(n=n[0],!this.shownInViewport&&n.isIntersecting&&(this.shownInViewport=!0,this._setBackgroundImage()))}},{key:"_setBackgroundImage",value:function(){this.$.img.style.backgroundImage="url('"+this.collection.thumbnailUrl+"')"}}]),e}(i.PolymerElement);e.default=u,customElements.define("app-collection-card",u)},180:function(n,e){n.exports='<style>\n  :host {\n    display: inline-block;\n    margin: 15px;\n    outline : 0;\n    height: 320px;\n    width: 320px;\n  }\n\n  :host(:hover), :host(:focus)  {\n    cursor: pointer;\n    margin: 13px;\n    border: 2px solid var(--default-secondary-color);\n  }\n\n  .img.defaultImage {\n    background-size: 65%;\n  }\n\n  .img {\n    height: 320px;\n    width: 320px;\n    position: relative;\n    background-image: url(\'/images/logos/logo-white-512.png\'); /* fallback */\n    background-color: var(--light-background-color);\n    background-size: cover; /* needs to be 65% */\n    background-repeat: no-repeat;\n    background-position: center center;    \n  }\n\n  .img > div  {\n    padding: 15px;\n    position: absolute;\n    left: 0;\n    right: 25px;\n    bottom: 25px;\n    \n    color: var(--default-secondary-color);\n    font-weight: var(--font-weight-heavy);\n\n    background-color: rgba(0, 38, 85, .8);      \n  }\n</style>\n\n<div \n  id="img"\n  class="img" \n  role="img" \n  aria-label="[[collection.name]]">\n  <div>[[collection.name]]</div>\n</div>\n'},181:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function r(n){return function(){var e=n.apply(this,arguments);return new Promise((function(n,t){return function o(r,i){try{var a=e[r](i),c=a.value}catch(n){return void t(n)}if(!a.done)return Promise.resolve(c).then((function(n){o("next",n)}),(function(n){o("throw",n)}));n(c)}("next")}))}}var i=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e;return o(n,[{key:"load",value:(e=r(regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.IntersectionObserver){n.next=2;break}return n.abrupt("return",!0);case 2:if(!this.loaded){n.next=4;break}return n.abrupt("return",!0);case 4:if(!this.loading){n.next=8;break}return n.next=7,this.loading;case 7:return n.abrupt("return",this.loaded);case 8:return this.loading=new Promise(function(){var n=r(regeneratorRuntime.mark((function n(o,r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(3).then(t.t.bind(null,211,7));case 2:o(!0);case 3:case"end":return n.stop()}}),n,e)})));return function(e,t){return n.apply(this,arguments)}}()),n.abrupt("return",this.loading);case 10:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})}]),n}();e.default=new i},212:function(n,e){n.exports='<style include="shared-styles">\n  :host {\n    display: block;\n    position: relative;\n    background: var(--super-light-background-color);\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  h2 {\n    margin: 0px;\n  }\n\n  input {\n    padding: 15px;\n    display: block;\n    width: 90%;\n    border: 0;\n  }\n\n  .about-link-icon {\n    position: absolute;\n    z-index: 5;    \n    top: 25px;\n    right: 25px;\n  }\n\n  .about-link-icon > iron-icon {\n    height: 30px;\n    width: 30px;\n  }\n\n  #hero {\n    height: 750px; /** IE 11 hack **/\n    min-height: 750px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    background-image: url(\'/images/default-home-background.jpg\');\n    background-size: cover;\n    background-position: center;\n  }\n\n  .gradient {    \n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: .7;\n    background-image: url(\'/images/home-gradient.png\');\n    background-size: cover;\n    background-position: center;\n  }\n\n  img {\n    position: absolute;\n    z-index: 5;\n    height: 50px;\n    top: 25px;\n    left: 25px;    \n  }\n\n  .container {    \n    padding: 25px 10px;\n    background: white;\n  }\n\n  .search-box {\n    z-index: 5;\n    color: var(--inverse-text-color);    \n  }\n\n  .search-box .main {\n    padding: 20px;\n    background-color: rgba(0, 38, 85, .8);    \n  }\n\n  .search-box .main h1 {\n    margin: 5px 0;\n    line-height: 2.0rem;\n  }\n\n  .search-box .footer {  \n    padding: 10px 20px;\n    color: white;\n    font-size: 0.8rem;\n    font-style: italic;\n    font-weight: normal;\n    line-height: 1.0rem;\n    background-color: rgba(51, 83, 121, .8);\n  }\n\n  .search-box .footer a {\n    color: var(--default-secondary-color);\n  }\n\n  .collection-outer {\n    display: flex;\n    justify-content: center;\n  }\n\n  .collections {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 50px 0;\n    max-width: var(--max-width);    \n    border-bottom: 1px solid var(--light-background-color);\n  }\n\n  .collections > div:hover {\n    cursor: pointer;\n    margin: 13px;\n    border: 2px solid var(--default-primary-color);\n  }\n\n  iron-icon.search-icon {\n    color: var(--default-secondary-color);\n  }\n\n  iron-icon.info {\n    fill: white;\n  }\n</style>\n\n<a href="/about/" class="about-link-icon">\n  <iron-icon icon="info" class="info" role="img" aria-label="About Link"></iron-icon>\n</a>\n\n<div id="hero">\n  <div class="logo">\n    <a href="https://www.library.ucdavis.edu/" target="_blank" rel="noopener">\n      <img src="/images/ucd-lib-logo-white.png" alt="UC Davis Library Logo" />\n    </a>\n  </div>\n  <div class="gradient"></div>\n  <div class="search-box">\n    <div class="main">\n      <h1>UC Davis Digital Collections</h1>\n      <div style="margin: 5px 0 15px 0;">\n        Explore digitized items from the \n        <a class="gold" href="https://library.ucdavis.edu" target="_blank" rel="noopener">UC Davis Library</a> \n        collections.\n      </div>\n      \n      <fin-search-box \n        id="searchBox" \n        on-search="_onSearch" \n        on-browse="_onBrowse"\n        placeholder="Search Keyword(s)">\n        <iron-icon icon="fin-icons:search" class="search-icon" slot="button-content"></iron-icon>\n      </fin-search-box>\n    </div>\n\n    <div class="footer">\n      Featured image: \n      <a href="/collection/eastman/D-051/B-4/B-4709">Agricultural College, Davis</a> |\n      <a href="/collection/eastman">Eastman Collection</a>\n    </div>\n  </div>\n\n</div>\n<app-header-colorbar height="8"></app-header-colorbar>\n<div class="collection-outer">\n  <div class="collections" id="collections-home">\n    <template is="dom-repeat" items="[[highlightedCollections]]">\n      <app-collection-card \n        data-id$="[[item._id]]" \n        collection="[[item]]" \n        on-keyup="_onCollectionClicked"\n        on-click="_onCollectionClicked">\n      </app-collection-card>\n    </template>\n  </div>\n</div>\n<app-header-colorbar height="8" flipped></app-header-colorbar>\n'}}]);